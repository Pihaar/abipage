var Handlebars={};Handlebars.VERSION="1.0.beta.6";Handlebars.helpers={};Handlebars.partials={};Handlebars.registerHelper=function(name,fn,inverse){if(inverse){fn.not=inverse}this.helpers[name]=fn};Handlebars.registerPartial=function(name,str){this.partials[name]=str};Handlebars.registerHelper("helperMissing",function(arg){if(arguments.length===2){return undefined}else{throw new Error("Could not find property '"+arg+"'")}});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;var ret="";var type=toString.call(context);if(type===functionType){context=context.call(this)}if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(type==="[object Array]"){if(context.length>0){for(var i=0,j=context.length;i<j;i++){ret=ret+fn(context[i])}}else{ret=inverse(this)}return ret}else{return fn(context)}});Handlebars.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse;var ret="";if(context&&context.length>0){for(var i=0,j=context.length;i<j;i++){ret=ret+fn(context[i])}}else{ret=inverse(this)}return ret});Handlebars.registerHelper("if",function(context,options){var type=toString.call(context);if(type===functionType){context=context.call(this)}if(!context||Handlebars.Utils.isEmpty(context)){return options.inverse(this)}else{return options.fn(this)}});Handlebars.registerHelper("unless",function(context,options){var fn=options.fn,inverse=options.inverse;options.fn=inverse;options.inverse=fn;return Handlebars.helpers["if"].call(this,context,options)});Handlebars.registerHelper("with",function(context,options){return options.fn(context)});Handlebars.registerHelper("log",function(context){Handlebars.log(context)});var handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];break;case 2:this.$=new yy.ProgramNode($$[$0-2],$$[$0]);break;case 3:this.$=new yy.ProgramNode($$[$0]);break;case 4:this.$=new yy.ProgramNode([]);break;case 5:this.$=[$$[$0]];break;case 6:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 7:this.$=new yy.InverseNode($$[$0-2],$$[$0-1],$$[$0]);break;case 8:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0]);break;case 9:this.$=$$[$0];break;case 10:this.$=$$[$0];break;case 11:this.$=new yy.ContentNode($$[$0]);break;case 12:this.$=new yy.CommentNode($$[$0]);break;case 13:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 14:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 15:this.$=$$[$0-1];break;case 16:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 17:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1],true);break;case 18:this.$=new yy.PartialNode($$[$0-1]);break;case 19:this.$=new yy.PartialNode($$[$0-2],$$[$0-1]);break;case 20:break;case 21:this.$=[[$$[$0-2]].concat($$[$0-1]),$$[$0]];break;case 22:this.$=[[$$[$0-1]].concat($$[$0]),null];break;case 23:this.$=[[$$[$0-1]],$$[$0]];break;case 24:this.$=[[$$[$0]],null];break;case 25:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 26:this.$=[$$[$0]];break;case 27:this.$=$$[$0];break;case 28:this.$=new yy.StringNode($$[$0]);break;case 29:this.$=new yy.IntegerNode($$[$0]);break;case 30:this.$=new yy.BooleanNode($$[$0]);break;case 31:this.$=new yy.HashNode($$[$0]);break;case 32:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 33:this.$=[$$[$0]];break;case 34:this.$=[$$[$0-2],$$[$0]];break;case 35:this.$=[$$[$0-2],new yy.StringNode($$[$0])];break;case 36:this.$=[$$[$0-2],new yy.IntegerNode($$[$0])];break;case 37:this.$=[$$[$0-2],new yy.BooleanNode($$[$0])];break;case 38:this.$=new yy.IdNode($$[$0]);break;case 39:$$[$0-2].push($$[$0]);this.$=$$[$0-2];break;case 40:this.$=[$$[$0]];break}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol==null)symbol=lex();action=table[state]&&table[state][symbol]}if(typeof action==="undefined"||!action.length||!action[0]){if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}var errStr="";if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+this.terminals_[symbol]+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined"){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch},unput:function(ch){this._input=ch+this._input;return this},more:function(){this._more=true;return this},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=true;var token,match,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){match=this._input.match(this.rules[rules[i]]);if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[i],this.conditionStack[this.conditionStack.length-1]);if(token)return token;else return}}if(this._input===""){return this.EOF}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:if(yy_.yytext.slice(-1)!=="\\")this.begin("mu");if(yy_.yytext.slice(-1)==="\\")yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-1),this.begin("emu");if(yy_.yytext)return 14;break;case 1:return 14;break;case 2:this.popState();return 14;break;case 3:return 24;break;case 4:return 16;break;case 5:return 20;break;case 6:return 19;break;case 7:return 19;break;case 8:return 23;break;case 9:return 23;break;case 10:yy_.yytext=yy_.yytext.substr(3,yy_.yyleng-5);this.popState();return 15;break;case 11:return 22;break;case 12:return 34;break;case 13:return 33;break;case 14:return 33;break;case 15:return 36;break;case 16:break;case 17:this.popState();return 18;break;case 18:this.popState();return 18;break;case 19:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2).replace(/\\"/g,'"');return 28;break;case 20:return 30;break;case 21:return 30;break;case 22:return 29;break;case 23:return 33;break;case 24:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 33;break;case 25:return"INVALID";break;case 26:return 5;break}};lexer.rules=[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/,/^./,/^$/];lexer.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:false},emu:{rules:[2],inclusive:false},INITIAL:{rules:[0,1,26],inclusive:true}};return lexer}();parser.lexer=lexer;return parser}();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=handlebars;exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)};exports.main=function commonjsMain(args){if(!args[1])throw new Error("Usage: "+args[0]+" FILE");if(typeof process!=="undefined"){var source=require("fs").readFileSync(require("path").join(process.cwd(),args[1]),"utf8")}else{var cwd=require("file").path(require("file").cwd());var source=cwd.join(args[1]).read({charset:"utf-8"})}return exports.parser.parse(source)};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args)}}Handlebars.Parser=handlebars;Handlebars.parse=function(string){Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(string)};Handlebars.print=function(ast){return(new Handlebars.PrintVisitor).accept(ast)};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,str){}};Handlebars.log=function(level,str){Handlebars.logger.log(level,str)};(function(){Handlebars.AST={};Handlebars.AST.ProgramNode=function(statements,inverse){this.type="program";this.statements=statements;if(inverse){this.inverse=new Handlebars.AST.ProgramNode(inverse)}};Handlebars.AST.MustacheNode=function(params,hash,unescaped){this.type="mustache";this.id=params[0];this.params=params.slice(1);this.hash=hash;this.escaped=!unescaped};Handlebars.AST.PartialNode=function(id,context){this.type="partial";this.id=id;this.context=context};var verifyMatch=function(open,close){if(open.original!==close.original){throw new Handlebars.Exception(open.original+" doesn't match "+close.original)}};Handlebars.AST.BlockNode=function(mustache,program,close){verifyMatch(mustache.id,close);this.type="block";this.mustache=mustache;this.program=program};Handlebars.AST.InverseNode=function(mustache,program,close){verifyMatch(mustache.id,close);this.type="inverse";this.mustache=mustache;this.program=program};Handlebars.AST.ContentNode=function(string){this.type="content";this.string=string};Handlebars.AST.HashNode=function(pairs){this.type="hash";this.pairs=pairs};Handlebars.AST.IdNode=function(parts){this.type="ID";this.original=parts.join(".");var dig=[],depth=0;for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."){depth++}else if(part==="."||part==="this"){this.isScoped=true}else{dig.push(part)}}this.parts=dig;this.string=dig.join(".");this.depth=depth;this.isSimple=dig.length===1&&depth===0};Handlebars.AST.StringNode=function(string){this.type="STRING";this.string=string};Handlebars.AST.IntegerNode=function(integer){this.type="INTEGER";this.integer=integer};Handlebars.AST.BooleanNode=function(bool){this.type="BOOLEAN";this.bool=bool};Handlebars.AST.CommentNode=function(comment){this.type="comment";this.comment=comment}})();Handlebars.Exception=function(message){var tmp=Error.prototype.constructor.apply(this,arguments);for(var p in tmp){if(tmp.hasOwnProperty(p)){this[p]=tmp[p]}}this.message=tmp.message};Handlebars.Exception.prototype=new Error;Handlebars.SafeString=function(string){this.string=string};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};(function(){var escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/&(?!\w+;)|[<>"'`]/g;var possible=/[&<>"'`]/;var escapeChar=function(chr){return escape[chr]||"&amp;"};Handlebars.Utils={escapeExpression:function(string){if(string instanceof Handlebars.SafeString){return string.toString()}else if(string==null||string===false){return""}if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)},isEmpty:function(value){if(typeof value==="undefined"){return true}else if(value===null){return true}else if(value===false){return true}else if(Object.prototype.toString.call(value)==="[object Array]"&&value.length===0){return true}else{return false}}}})();Handlebars.Compiler=function(){};Handlebars.JavaScriptCompiler=function(){};(function(Compiler,JavaScriptCompiler){Compiler.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16};Compiler.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1};Compiler.DISASSEMBLE_MAP={};for(var prop in Compiler.OPCODE_MAP){var value=Compiler.OPCODE_MAP[prop];Compiler.DISASSEMBLE_MAP[value]=prop}Compiler.multiParamSize=function(code){return Compiler.MULTI_PARAM_OPCODES[Compiler.DISASSEMBLE_MAP[code]]};Compiler.prototype={compiler:Compiler,disassemble:function(){var opcodes=this.opcodes,opcode,nextCode;var out=[],str,name,value;for(var i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode==="DECLARE"){name=opcodes[++i];value=opcodes[++i];out.push("DECLARE "+name+" = "+value)}else{str=Compiler.DISASSEMBLE_MAP[opcode];var extraParams=Compiler.multiParamSize(opcode);var codes=[];for(var j=0;j<extraParams;j++){nextCode=opcodes[++i];if(typeof nextCode==="string"){nextCode='"'+nextCode.replace("\n","\\n")+'"'}codes.push(nextCode)}str=str+" "+codes.join(" ");out.push(str)}}return out.join("\n")},guid:0,compile:function(program,options){this.children=[];this.depths={list:[]};this.options=options;var knownHelpers=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(knownHelpers){for(var name in knownHelpers){this.options.knownHelpers[name]=knownHelpers[name]}}return this.program(program)},accept:function(node){return this[node.type](node)},program:function(program){var statements=program.statements,statement;this.opcodes=[];for(var i=0,l=statements.length;i<l;i++){statement=statements[i];this[statement.type](statement)}this.isSimple=l===1;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(program){var result=(new this.compiler).compile(program,this.options);var guid=this.guid++;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++){depth=result.depths.list[i];if(depth<2){continue}else{this.addDepth(depth-1)}}return guid},block:function(block){var mustache=block.mustache;var depth,child,inverse,inverseGuid;var params=this.setupStackForMustache(mustache);var programGuid=this.compileProgram(block.program);if(block.program.inverse){inverseGuid=this.compileProgram(block.program.inverse);this.declare("inverse",inverseGuid)}this.opcode("invokeProgram",programGuid,params.length,!!mustache.hash);this.declare("inverse",null);this.opcode("append")},inverse:function(block){var params=this.setupStackForMustache(block.mustache);var programGuid=this.compileProgram(block.program);this.declare("inverse",programGuid);this.opcode("invokeProgram",null,params.length,!!block.mustache.hash);this.declare("inverse",null);this.opcode("append")},hash:function(hash){var pairs=hash.pairs,pair,val;this.opcode("push","{}");for(var i=0,l=pairs.length;i<l;i++){pair=pairs[i];val=pair[1];this.accept(val);this.opcode("assignToHash",pair[0])}},partial:function(partial){var id=partial.id;this.usePartial=true;if(partial.context){this.ID(partial.context)}else{this.opcode("push","depth0")}this.opcode("invokePartial",id.original);this.opcode("append")},content:function(content){this.opcode("appendContent",content.string)},mustache:function(mustache){var params=this.setupStackForMustache(mustache);this.opcode("invokeMustache",params.length,mustache.id.original,!!mustache.hash);if(mustache.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ID:function(id){this.addDepth(id.depth);this.opcode("getContext",id.depth);this.opcode("lookupWithHelpers",id.parts[0]||null,id.isScoped||false);for(var i=1,l=id.parts.length;i<l;i++){this.opcode("lookup",id.parts[i])}},STRING:function(string){this.opcode("pushString",string.string)},INTEGER:function(integer){this.opcode("push",integer.integer)},BOOLEAN:function(bool){this.opcode("push",bool.bool)},comment:function(){},pushParams:function(params){var i=params.length,param;while(i--){param=params[i];if(this.options.stringParams){if(param.depth){this.addDepth(param.depth)}this.opcode("getContext",param.depth||0);this.opcode("pushStringParam",param.string)}else{this[param.type](param)}}},opcode:function(name,val1,val2,val3){this.opcodes.push(Compiler.OPCODE_MAP[name]);if(val1!==undefined){this.opcodes.push(val1)}if(val2!==undefined){this.opcodes.push(val2)}if(val3!==undefined){this.opcodes.push(val3)}},declare:function(name,value){this.opcodes.push("DECLARE");this.opcodes.push(name);this.opcodes.push(value)},addDepth:function(depth){if(depth===0){return}if(!this.depths[depth]){this.depths[depth]=true;this.depths.list.push(depth)}},setupStackForMustache:function(mustache){var params=mustache.params;this.pushParams(params);if(mustache.hash){this.hash(mustache.hash)}this.ID(mustache.id);return params}};JavaScriptCompiler.prototype={nameLookup:function(parent,name,type){if(/^[0-9]+$/.test(name)){return parent+"["+name+"]"}else if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){return parent+"."+name}else{return parent+"['"+name+"']"}},appendToBuffer:function(string){if(this.environment.isSimple){return"return "+string+";"}else{return"buffer += "+string+";"}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment;this.options=options||{};this.name=this.environment.name;this.isChild=!!context;this.context=context||{programs:[],aliases:{self:"this"},registers:{list:[]}};this.preamble();this.stackSlot=0;this.stackVars=[];this.compileChildren(environment,options);var opcodes=environment.opcodes,opcode;this.i=0;for(l=opcodes.length;this.i<l;this.i++){opcode=this.nextOpcode(0);if(opcode[0]==="DECLARE"){this.i=this.i+2;this[opcode[1]]=opcode[2]}else{this.i=this.i+opcode[1].length;this[opcode[0]].apply(this,opcode[1])}}return this.createFunctionContext(asObject)},nextOpcode:function(n){var opcodes=this.environment.opcodes,opcode=opcodes[this.i+n],name,val;var extraParams,codes;if(opcode==="DECLARE"){name=opcodes[this.i+1];val=opcodes[this.i+2];return["DECLARE",name,val]}else{name=Compiler.DISASSEMBLE_MAP[opcode];extraParams=Compiler.multiParamSize(opcode);codes=[];for(var j=0;j<extraParams;j++){codes.push(opcodes[this.i+j+1+n])}return[name,codes]}},eat:function(opcode){this.i=this.i+opcode.length},preamble:function(){var out=[];this.useRegister("foundHelper");if(!this.isChild){var namespace=this.namespace;var copies="helpers = helpers || "+namespace+".helpers;";if(this.environment.usePartial){copies=copies+" partials = partials || "+namespace+".partials;"}out.push(copies)}else{out.push("")}if(!this.environment.isSimple){out.push(", buffer = "+this.initializeBuffer())}else{out.push("")}this.lastContext=0;this.source=out},createFunctionContext:function(asObject){var locals=this.stackVars;if(!this.isChild){locals=locals.concat(this.context.registers.list)}if(locals.length>0){this.source[1]=this.source[1]+", "+locals.join(", ")}if(!this.isChild){var aliases=[];for(var alias in this.context.aliases){this.source[1]=this.source[1]+", "+alias+"="+this.context.aliases[alias]}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n"}if(!this.environment.isSimple){this.source.push("return buffer;")}var params=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++){params.push("depth"+this.environment.depths.list[i])}if(asObject){params.push(this.source.join("\n  "));return Function.apply(this,params)}else{var functionSource="function "+(this.name||"")+"("+params.join(",")+") {\n  "+this.source.join("\n  ")+"}";Handlebars.log(Handlebars.logger.DEBUG,functionSource+"\n\n");return functionSource}},appendContent:function(content){this.source.push(this.appendToBuffer(this.quotedString(content)))},append:function(){var local=this.popStack();this.source.push("if("+local+" || "+local+" === 0) { "+this.appendToBuffer(local)+" }");if(this.environment.isSimple){this.source.push("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){var opcode=this.nextOpcode(1),extra="";this.context.aliases.escapeExpression="this.escapeExpression";if(opcode[0]==="appendContent"){extra=" + "+this.quotedString(opcode[1][0]);this.eat(opcode)}this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+extra))},getContext:function(depth){if(this.lastContext!==depth){this.lastContext=depth}},lookupWithHelpers:function(name,isScoped){if(name){var topStack=this.nextStack();this.usingKnownHelper=false;var toPush;if(!isScoped&&this.options.knownHelpers[name]){toPush=topStack+" = "+this.nameLookup("helpers",name,"helper");this.usingKnownHelper=true}else if(isScoped||this.options.knownHelpersOnly){toPush=topStack+" = "+this.nameLookup("depth"+this.lastContext,name,"context")}else{this.register("foundHelper",this.nameLookup("helpers",name,"helper"));toPush=topStack+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,name,"context")}toPush+=";";this.source.push(toPush)}else{this.pushStack("depth"+this.lastContext)}},lookup:function(name){var topStack=this.topStack();this.source.push(topStack+" = ("+topStack+" === null || "+topStack+" === undefined || "+topStack+" === false ? "+topStack+" : "+this.nameLookup(topStack,name,"context")+");")},pushStringParam:function(string){this.pushStack("depth"+this.lastContext);this.pushString(string)},pushString:function(string){this.pushStack(this.quotedString(string))},push:function(name){this.pushStack(name)},invokeMustache:function(paramSize,original,hasHash){this.populateParams(paramSize,this.quotedString(original),"{}",null,hasHash,function(nextStack,helperMissingString,id){if(!this.usingKnownHelper){this.context.aliases.helperMissing="helpers.helperMissing";this.context.aliases.undef="void 0";this.source.push("else if("+id+"=== undef) { "+nextStack+" = helperMissing.call("+helperMissingString+"); }");if(nextStack!==id){this.source.push("else { "+nextStack+" = "+id+"; }")}}})},invokeProgram:function(guid,paramSize,hasHash){var inverse=this.programExpression(this.inverse);var mainProgram=this.programExpression(guid);this.populateParams(paramSize,null,mainProgram,inverse,hasHash,function(nextStack,helperMissingString,id){if(!this.usingKnownHelper){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";this.source.push("else { "+nextStack+" = blockHelperMissing.call("+helperMissingString+"); }")}})},populateParams:function(paramSize,helperId,program,inverse,hasHash,fn){var needsRegister=hasHash||this.options.stringParams||inverse||this.options.data;var id=this.popStack(),nextStack;var params=[],param,stringParam,stringOptions;if(needsRegister){this.register("tmp1",program);stringOptions="tmp1"}else{stringOptions="{ hash: {} }"}if(needsRegister){var hash=hasHash?this.popStack():"{}";this.source.push("tmp1.hash = "+hash+";")}if(this.options.stringParams){this.source.push("tmp1.contexts = [];")}for(var i=0;i<paramSize;i++){param=this.popStack();params.push(param);if(this.options.stringParams){this.source.push("tmp1.contexts.push("+this.popStack()+");")}}if(inverse){this.source.push("tmp1.fn = tmp1;");this.source.push("tmp1.inverse = "+inverse+";")}if(this.options.data){this.source.push("tmp1.data = data;")}params.push(stringOptions);this.populateCall(params,id,helperId||id,fn,program!=="{}")},populateCall:function(params,id,helperId,fn,program){var paramString=["depth0"].concat(params).join(", ");var helperMissingString=["depth0"].concat(helperId).concat(params).join(", ");var nextStack=this.nextStack();if(this.usingKnownHelper){this.source.push(nextStack+" = "+id+".call("+paramString+");")}else{this.context.aliases.functionType='"function"';var condition=program?"foundHelper && ":"";this.source.push("if("+condition+"typeof "+id+" === functionType) { "+nextStack+" = "+id+".call("+paramString+"); }")}fn.call(this,nextStack,helperMissingString,id);
this.usingKnownHelper=false},invokePartial:function(context){params=[this.nameLookup("partials",context,"partial"),"'"+context+"'",this.popStack(),"helpers","partials"];if(this.options.data){params.push("data")}this.pushStack("self.invokePartial("+params.join(", ")+");")},assignToHash:function(key){var value=this.popStack();var hash=this.topStack();this.source.push(hash+"['"+key+"'] = "+value+";")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){var children=environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler;this.context.programs.push("");var index=this.context.programs.length;child.index=index;child.name="program"+index;this.context.programs[index]=compiler.compile(child,options,this.context)}},programExpression:function(guid){if(guid==null){return"self.noop"}var child=this.environment.children[guid],depths=child.depths.list;var programParams=[child.index,child.name,"data"];for(var i=0,l=depths.length;i<l;i++){depth=depths[i];if(depth===1){programParams.push("depth0")}else{programParams.push("depth"+(depth-1))}}if(depths.length===0){return"self.program("+programParams.join(", ")+")"}else{programParams.shift();return"self.programWithDepth("+programParams.join(", ")+")"}},register:function(name,val){this.useRegister(name);this.source.push(name+" = "+val+";")},useRegister:function(name){if(!this.context.registers[name]){this.context.registers[name]=true;this.context.registers.list.push(name)}},pushStack:function(item){this.source.push(this.nextStack()+" = "+item+";");return"stack"+this.stackSlot},nextStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};var reservedWords=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield").split(" ");var compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++){compilerWords[reservedWords[i]]=true}JavaScriptCompiler.isValidJavaScriptVariableName=function(name){if(!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(name)){return true}return false}})(Handlebars.Compiler,Handlebars.JavaScriptCompiler);Handlebars.precompile=function(string,options){options=options||{};var ast=Handlebars.parse(string);var environment=(new Handlebars.Compiler).compile(ast,options);return(new Handlebars.JavaScriptCompiler).compile(environment,options)};Handlebars.compile=function(string,options){options=options||{};var compiled;function compile(){var ast=Handlebars.parse(string);var environment=(new Handlebars.Compiler).compile(ast,options);var templateSpec=(new Handlebars.JavaScriptCompiler).compile(environment,options,undefined,true);return Handlebars.template(templateSpec)}return function(context,options){if(!compiled){compiled=compile()}return compiled.call(this,context,options)}};Handlebars.VM={template:function(templateSpec){var container={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){return Handlebars.VM.program(fn,data)}else if(programWrapper){return programWrapper}else{programWrapper=this.programs[i]=Handlebars.VM.program(fn);return programWrapper}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(context,options){options=options||{};return templateSpec.call(container,Handlebars,context,options.helpers,options.partials,options.data)}},programWithDepth:function(fn,data,$depth){var args=Array.prototype.slice.call(arguments,2);return function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))}},program:function(fn,data){return function(context,options){options=options||{};return fn(context,options.data||data)}},noop:function(){return""},invokePartial:function(partial,name,context,helpers,partials,data){options={helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Handlebars.Exception("The partial "+name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}else if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+name+" could not be compiled when running in runtime-only mode")}else{partials[name]=Handlebars.compile(partial);return partials[name](context,options)}}};Handlebars.template=Handlebars.VM.template;
!function($){$(function(){"use strict";$.support.transition=function(){var transitionEnd=function(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},name;for(name in transEndEventNames){if(el.style[name]!==undefined){return transEndEventNames[name]}}}();return transitionEnd&&{end:transitionEnd}}()})}(window.jQuery);!function($){"use strict";var toggle='[data-toggle="dropdown"]',Dropdown=function(element){var $el=$(element).on("click.dropdown.data-api",this.toggle);$("html").on("click.dropdown.data-api",function(){$el.parent().removeClass("open")})};Dropdown.prototype={constructor:Dropdown,toggle:function(e){var $this=$(this),$parent,selector,isActive;if($this.is(".disabled, :disabled"))return;selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}$parent=$(selector);$parent.length||($parent=$this.parent());isActive=$parent.hasClass("open");clearMenus();if(!isActive)$parent.toggleClass("open");return false}};function clearMenus(){$(toggle).parent().removeClass("open")}$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("dropdown");if(!data)$this.data("dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})};$.fn.dropdown.Constructor=Dropdown;$(function(){$("html").on("click.dropdown.data-api",clearMenus);$("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",toggle,Dropdown.prototype.toggle)})}(window.jQuery);!function($){"use strict";function ScrollSpy(element,options){var process=$.proxy(this.process,this),$element=$(element).is("body")?$(window):$(element),href;this.options=$.extend({},$.fn.scrollspy.defaults,options);this.$scrollElement=$element.on("scroll.scroll.data-api",process);this.selector=(this.options.target||(href=$(element).attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=$("body");this.refresh();this.process()}ScrollSpy.prototype={constructor:ScrollSpy,refresh:function(){var self=this,$targets;this.offsets=$([]);this.targets=$([]);$targets=this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#\w/.test(href)&&$(href);return $href&&href.length&&[[$href.position().top,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]);self.targets.push(this[1])})},process:function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,maxScroll=scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget,i;if(scrollTop>=maxScroll){return activeTarget!=(i=targets.last()[0])&&this.activate(i)}for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])}},activate:function(target){var active,selector;this.activeTarget=target;$(this.selector).parent(".active").removeClass("active");selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]';active=$(selector).parent("li").addClass("active");if(active.parent(".dropdown-menu")){active=active.closest("li.dropdown").addClass("active")}active.trigger("activate")}};$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this),data=$this.data("scrollspy"),options=typeof option=="object"&&option;if(!data)$this.data("scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})};$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.defaults={offset:10};$(function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);$spy.scrollspy($spy.data())})})}(window.jQuery);!function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype={constructor:Tab,show:function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.attr("data-target"),previous,$target,e;if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;previous=$ul.find(".active a").last()[0];e=$.Event("show",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;$target=$(selector);this.activate($this.parent("li"),$ul);this.activate($target,$target.parent(),function(){$this.trigger({type:"shown",relatedTarget:previous})})},activate:function(element,container,callback){var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");element.addClass("active");if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu")){element.closest("li.dropdown").addClass("active")}callback&&callback()}transition?$active.one($.support.transition.end,next):next();$active.removeClass("in")}};$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data("tab");if(!data)$this.data("tab",data=new Tab(this));if(typeof option=="string")data[option]()})};$.fn.tab.Constructor=Tab;$(function(){$("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();$(this).tab("show")})})}(window.jQuery);!function($){"use strict";var Tooltip=function(element,options){this.init("tooltip",element,options)};Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut;this.type=type;this.$element=$(element);this.options=this.getOptions(options);this.enabled=true;if(this.options.trigger!="manual"){eventIn=this.options.trigger=="hover"?"mouseenter":"focus";eventOut=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(eventIn,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut,this.options.selector,$.proxy(this.leave,this))}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(options){options=$.extend({},$.fn[this.type].defaults,options,this.$element.data());if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options},enter:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);if(!self.options.delay||!self.options.delay.show)return self.show();clearTimeout(this.timeout);self.hoverState="in";this.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!self.options.delay||!self.options.delay.hide)return self.hide();self.hoverState="out";this.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)},show:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp;if(this.hasContent()&&this.enabled){$tip=this.tip();this.setContent();if(this.options.animation){$tip.addClass("fade")}placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;inside=/in/.test(placement);$tip.remove().css({top:0,left:0,display:"block"}).appendTo(inside?this.$element:document.body);pos=this.getPosition(inside);actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight;switch(inside?placement.split(" ")[1]:placement){case"bottom":tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2};break;case"top":tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2};break;case"left":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth};break;case"right":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width};break}$tip.css(tp).addClass(placement).addClass("in")}},isHTML:function(text){return typeof text!="string"||text.charAt(0)==="<"&&text.charAt(text.length-1)===">"&&text.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(text)},setContent:function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.isHTML(title)?"html":"text"](title);$tip.removeClass("fade in top bottom left right")},hide:function(){var that=this,$tip=this.tip();$tip.removeClass("in");function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).remove()},500);$tip.one($.support.transition.end,function(){clearTimeout(timeout);$tip.remove()})}$.support.transition&&this.$tip.hasClass("fade")?removeWithAnimation():$tip.remove()},fixTitle:function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(inside){return $.extend({},inside?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var title,$e=this.$element,o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title},tip:function(){return this.$tip=this.$tip||$(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("tooltip"),options=typeof option=="object"&&option;if(!data)$this.data("tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option]()})};$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery);!function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){var $this=$(this),selector=$this.attr("data-target"),$parent;if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}$parent=$(selector);e&&e.preventDefault();$parent.length||($parent=$this.hasClass("alert")?$this:$this.parent());$parent.trigger(e=$.Event("close"));if(e.isDefaultPrevented())return;$parent.removeClass("in");function removeElement(){$parent.trigger("closed").remove()}$.support.transition&&$parent.hasClass("fade")?$parent.on($.support.transition.end,removeElement):removeElement()};$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data("alert");if(!data)$this.data("alert",data=new Alert(this));if(typeof option=="string")data[option].call($this)})};$.fn.alert.Constructor=Alert;$(function(){$("body").on("click.alert.data-api",dismiss,Alert.prototype.close)})}(window.jQuery);!function($){"use strict";var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.collapse.defaults,options);if(this.options.parent){this.$parent=$(this.options.parent)}this.options.toggle&&this.toggle()};Collapse.prototype={constructor:Collapse,dimension:function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},show:function(){var dimension,scroll,actives,hasData;if(this.transitioning)return;dimension=this.dimension();scroll=$.camelCase(["scroll",dimension].join("-"));actives=this.$parent&&this.$parent.find("> .accordion-group > .in");if(actives&&actives.length){hasData=actives.data("collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide");hasData||actives.data("collapse",null)}this.$element[dimension](0);this.transition("addClass",$.Event("show"),"shown");this.$element[dimension](this.$element[0][scroll])},hide:function(){var dimension;if(this.transitioning)return;dimension=this.dimension();this.reset(this.$element[dimension]());this.transition("removeClass",$.Event("hide"),"hidden");this.$element[dimension](0)},reset:function(size){var dimension=this.dimension();this.$element.removeClass("collapse")[dimension](size||"auto")[0].offsetWidth;this.$element[size!==null?"addClass":"removeClass"]("collapse");return this},transition:function(method,startEvent,completeEvent){var that=this,complete=function(){if(startEvent.type=="show")that.reset();that.transitioning=0;that.$element.trigger(completeEvent)};this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;this.transitioning=1;this.$element[method]("in");$.support.transition&&this.$element.hasClass("collapse")?this.$element.one($.support.transition.end,complete):complete()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data("collapse"),options=typeof option=="object"&&option;if(!data)$this.data("collapse",data=new Collapse(this,options));if(typeof option=="string")data[option]()})};$.fn.collapse.defaults={toggle:true};$.fn.collapse.Constructor=Collapse;$(function(){$("body").on("click.collapse.data-api","[data-toggle=collapse]",function(e){var $this=$(this),href,target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),option=$(target).data("collapse")?"toggle":$this.data();$(target).collapse(option)})})}(window.jQuery);!function($){"use strict";var Carousel=function(element,options){this.$element=$(element);this.options=options;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.prototype={cycle:function(e){if(!e)this.paused=false;this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this},to:function(pos){var $active=this.$element.find(".active"),children=$active.parent().children(),activePos=children.index($active),that=this;if(pos>children.length-1||pos<0)return;if(this.sliding){return this.$element.one("slid",function(){that.to(pos)})}if(activePos==pos){return this.pause().cycle()}return this.slide(pos>activePos?"next":"prev",$(children[pos]))},pause:function(e){if(!e)this.paused=true;clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(type,next){var $active=this.$element.find(".active"),$next=next||$active[type](),isCycling=this.interval,direction=type=="next"?"left":"right",fallback=type=="next"?"first":"last",that=this,e=$.Event("slide");this.sliding=true;isCycling&&this.pause();$next=$next.length?$next:this.$element.find(".item")[fallback]();if($next.hasClass("active"))return;if($.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(e);if(e.isDefaultPrevented())return;$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);this.$element.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger("slid")},0)})}else{this.$element.trigger(e);if(e.isDefaultPrevented())return;$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger("slid")}isCycling&&this.cycle();return this}};$.fn.carousel=function(option){return this.each(function(){var $this=$(this),data=$this.data("carousel"),options=$.extend({},$.fn.carousel.defaults,typeof option=="object"&&option);if(!data)$this.data("carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(typeof option=="string"||(option=options.slide))data[option]();else if(options.interval)data.cycle()})};$.fn.carousel.defaults={interval:5e3,pause:"hover"};$.fn.carousel.Constructor=Carousel;$(function(){$("body").on("click.carousel.data-api","[data-slide]",function(e){var $this=$(this),href,$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")),options=!$target.data("modal")&&$.extend({},$target.data(),$this.data());$target.carousel(options);e.preventDefault()})})}(window.jQuery);!function($){"use strict";var Typeahead=function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.typeahead.defaults,options);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=$(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};Typeahead.prototype={constructor:Typeahead,select:function(){var val=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(val)).change();return this.hide()},updater:function(item){return item},show:function(){var pos=$.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.$menu.css({top:pos.top+pos.height,left:pos.left});this.$menu.show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(event){var that=this,items,q;this.query=this.$element.val();if(!this.query){return this.shown?this.hide():this}items=$.grep(this.source,function(item){return that.matcher(item)});items=this.sorter(items);if(!items.length){return this.shown?this.hide():this}return this.render(items.slice(0,this.options.items)).show()},matcher:function(item){return~item.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(items){var beginswith=[],caseSensitive=[],caseInsensitive=[],item;while(item=items.shift()){if(!item.toLowerCase().indexOf(this.query.toLowerCase()))beginswith.push(item);else if(~item.indexOf(this.query))caseSensitive.push(item);else caseInsensitive.push(item)}return beginswith.concat(caseSensitive,caseInsensitive)},highlighter:function(item){var query=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return item.replace(new RegExp("("+query+")","ig"),function($1,match){return"<strong>"+match+"</strong>"})},render:function(items){var that=this;items=$(items).map(function(i,item){i=$(that.options.item).attr("data-value",item);i.find("a").html(that.highlighter(item));return i[0]});items.first().addClass("active");this.$menu.html(items);return this},next:function(event){var active=this.$menu.find(".active").removeClass("active"),next=active.next();if(!next.length){next=$(this.$menu.find("li")[0])}next.addClass("active")},prev:function(event){var active=this.$menu.find(".active").removeClass("active"),prev=active.prev();if(!prev.length){prev=this.$menu.find("li").last()}prev.addClass("active")},listen:function(){this.$element.on("blur",$.proxy(this.blur,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this));if($.browser.webkit||$.browser.msie){this.$element.on("keydown",$.proxy(this.keypress,this))}this.$menu.on("click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this))},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation();e.preventDefault()},keypress:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if(e.type!="keydown")break;e.preventDefault();this.prev();break;case 40:if(e.type!="keydown")break;e.preventDefault();this.next();break}e.stopPropagation()},blur:function(e){var that=this;setTimeout(function(){that.hide()},150)},click:function(e){e.stopPropagation();e.preventDefault();this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active");$(e.currentTarget).addClass("active")}};$.fn.typeahead=function(option){return this.each(function(){var $this=$(this),data=$this.data("typeahead"),options=typeof option=="object"&&option;if(!data)$this.data("typeahead",data=new Typeahead(this,options));if(typeof option=="string")data[option]()})};$.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'};$.fn.typeahead.Constructor=Typeahead;$(function(){$("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var $this=$(this);if($this.data("typeahead"))return;e.preventDefault();$this.typeahead($this.data())})})}(window.jQuery);
window.log=function f(){log.history=log.history||[];log.history.push(arguments);if(this.console){var args=arguments,newarr;args.callee=args.callee.caller;newarr=[].slice.call(args);if(typeof console.log==="object")log.apply.call(console.log,console,newarr);else console.log.apply(console,newarr)}};(function(a){function b(){}for(var c="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),d;!!(d=c.pop());){a[d]=a[d]||b}})(function(){try{console.log();return window.console}catch(a){return window.console={}}}());(function($){images=new Array;var calls=0;$.fn.Chocolat=function(settings){settings=$.extend({container:$("body"),displayAsALink:false,linkImages:true,linksContainer:"Choco_links_container",overlayOpacity:.9,overlayColor:"#fff",fadeInOverlayduration:500,fadeInImageduration:500,fadeOutImageduration:500,vache:true,separator1:" | ",separator2:"/",leftImg:"img/chocolat/left.gif",rightImg:"img/chocolat/right.gif",closeImg:"img/chocolat/close.gif",loadingImg:"img/chocolat/loading.gif",currentImage:0,setIndex:0,setTitle:"",lastImage:0},settings);calls++;settings.setIndex=calls;images[settings.setIndex]=new Array;this.each(function(index){if(index==0&&settings.linkImages){if(settings.setTitle==""){settings.setTitle=isSet($(this).attr("rel")," ")}}$(this).each(function(){images[settings.setIndex]["displayAsALink"]=settings.displayAsALink;images[settings.setIndex][index]=new Array;images[settings.setIndex][index]["adress"]=isSet($(this).attr("href")," ");images[settings.setIndex][index]["caption"]=isSet($(this).attr("title")," ");if(!settings.displayAsALink){$(this).unbind("click").bind("click",{id:settings.setIndex,nom:settings.setTitle,i:index},_initialise)}})});for(var i=0;i<images[settings.setIndex].length;i++){if(images[settings.setIndex]["displayAsALink"]){if($("#"+settings.linksContainer).size()==0){this.filter(":first").before('<ul id="'+settings.linksContainer+'"></ul>')}$("#"+settings.linksContainer).append('<li><a href="#" id="Choco_numsetIndex_'+settings.setIndex+'" class="Choco_link">'+settings.setTitle+"</a></li>");e=this.parent();$(this).remove();if($.trim(e.html())==""){e.remove()}return $("#Choco_numsetIndex_"+settings.setIndex).unbind("click").bind("click",{id:settings.setIndex,nom:settings.setTitle,i:settings.currentImage},_initialise)}}function _initialise(event){settings.currentImage=event.data.i;settings.setIndex=event.data.id;settings.setTitle=event.data.nom;settings.lastImage=images[settings.setIndex].length-1;showChocolat();return false}function _interface(){clear();settings.container.append('<div id="Choco_overlay"></div><div id="Choco_content"><div id="Choco_close"></div><div id="Choco_loading"></div><div id="Choco_container_photo"><img id="Choco_bigImage" src="" /></div><div id="Choco_container_description"><span id="Choco_container_title"></span><span id="Choco_container_via"></span></div><div id="Choco_left_arrow" class="Choco_arrows"></div><div id="Choco_right_arrow" class="Choco_arrows"></div></div>');$("#Choco_left_arrow").css("background-image","url("+settings.leftImg+")");$("#Choco_right_arrow").css("background-image","url("+settings.rightImg+")");$("#Choco_close").css("background-image","url("+settings.closeImg+")");$("#Choco_loading").css("background-image","url("+settings.loadingImg+")");if(settings.container.get(0).nodeName.toLowerCase()!=="body"){settings.container.css({position:"relative",overflow:"hidden","line-height":"normal"});$("#Choco_content").css("position","relative");$("#Choco_overlay").css("position","absolute")}$(document).unbind("keydown").bind("keydown",function(e){switch(e.keyCode){case 37:changePageChocolat(-1);break;case 39:changePageChocolat(1);break;case 27:close();break}});if(settings.vache){$("#Choco_overlay").click(function(){close();return false})}$("#Choco_left_arrow").unbind("click").bind("click",function(){changePageChocolat(-1);return false});$("#Choco_right_arrow").unbind("click").bind("click",function(){changePageChocolat(1);return false});$("#Choco_close").unbind("click").bind("click",function(){close();return false});$(window).resize(function(){load(settings.currentImage,true)})}function showChocolat(){_interface();load(settings.currentImage,false);$("#Choco_overlay").css({"background-color":settings.overlayColor,opacity:settings.overlayOpacity}).fadeIn(settings.fadeInOverlayduration);$("#Choco_content").fadeIn(settings.fadeInImageduration,function(){})}function load(image,resize){settings.currentImage=image;$("#Choco_loading").fadeIn(settings.fadeInImageduration);var imgPreloader=new Image;imgPreloader.onload=function(){$("#Choco_bigImage").attr("src",images[settings.setIndex][settings.currentImage]["adress"]);var ajustees=iWantThePerfectImageSize(imgPreloader.height,imgPreloader.width);ChoColat(ajustees["hauteur"],ajustees["largeur"],resize);$("#Choco_loading").stop().fadeOut(settings.fadeOutImageduration)};imgPreloader.src=images[settings.setIndex][settings.currentImage]["adress"];preload();upadteDescription()}function changePageChocolat(signe){if(!settings.linkImages){return false}else if(settings.currentImage==0&&signe==-1){return false}else if(settings.currentImage==settings.lastImage&&signe==1){return false}else{$("#Choco_container_description").fadeTo(settings.fadeOutImageduration,0);$("#Choco_bigImage").fadeTo(settings.fadeOutImageduration,0,function(){load(settings.currentImage+parseInt(signe),false)})}}function ChoColat(hauteur_image,largeur_image,resize){if(resize){$("#Choco_container_photo, #Choco_content, #Choco_bigImage").stop(true,false).css({overflow:"visible"});$("#Choco_bigImage").animate({height:hauteur_image+"px",width:largeur_image+"px"},settings.fadeInImageduration)}$("#Choco_container_photo").animate({height:hauteur_image,width:largeur_image},settings.fadeInImageduration);$("#Choco_content").animate({height:hauteur_image,width:largeur_image,marginLeft:-largeur_image/2,marginTop:-hauteur_image/2},settings.fadeInImageduration,"swing",function(){$("#Choco_bigImage").fadeTo(settings.fadeInImageduration,1).height(hauteur_image).width(largeur_image).fadeIn(settings.fadeInImageduration);if(!resize){arrowsManaging();$("#Choco_container_description").fadeTo(settings.fadeInImageduration,1);$("#Choco_close").fadeIn(settings.fadeInImageduration)}}).css("overflow","visible")}function arrowsManaging(){if(settings.linkImages){var what=new Array("Choco_right_arrow","Choco_left_arrow");for(var i=0;i<what.length;i++){hide=false;if(what[i]=="Choco_right_arrow"&&settings.currentImage==settings.lastImage){hide=true;$("#"+what[i]).fadeOut(300)}else if(what[i]=="Choco_left_arrow"&&settings.currentImage==0){hide=true;$("#"+what[i]).fadeOut(300)}if(!hide){$("#"+what[i]).fadeIn(settings.fadeOutImageduration)}}}}function preload(){if(settings.currentImage!==settings.lastImage){i=new Image;z=settings.currentImage+1;i.src=images[settings.setIndex][z]["adress"]}}function upadteDescription(){var current=settings.currentImage+1;var last=settings.lastImage+1;$("#Choco_container_title").html(images[settings.setIndex][settings.currentImage]["caption"]);$("#Choco_container_via").html(settings.setTitle+settings.separator1+current+settings.separator2+last)}function isSet(variable,defaultValue){if(variable===undefined){return defaultValue}else{return variable}}function iWantThePerfectImageSize(himg,limg){var lblock=limg+limg*28/100;var hblock=himg+51;var k=limg/himg;var kk=himg/limg;if(settings.container.get(0).nodeName.toLowerCase()=="body"){windowHeight=$(window).height();windowWidth=$(window).width()}else{windowHeight=settings.container.height();windowWidth=settings.container.width()}notFitting=true;while(notFitting){var lblock=limg+limg*28/100;var hblock=himg+51;if(lblock>windowWidth){limg=windowWidth*100/128;himg=kk*limg}else if(hblock>windowHeight){himg=windowHeight-51;limg=k*himg}else{notFitting=false}}return{largeur:limg,hauteur:himg}}function clear(){$("#Choco_overlay").remove();$("#Choco_content").remove()}function close(){$("#Choco_overlay").fadeOut(900,function(){$("#Choco_overlay").remove()});$("#Choco_content").fadeOut(500,function(){$("#Choco_content").remove()});settings.currentImage=0}}})(jQuery);var ColorPicker=function(){var ids={},inAction,charMin=65,visible,tpl='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',defaults={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},fillRGBFields=function(hsb,cal){var rgb=HSBToRGB(hsb);$(cal).data("colorpicker").fields.eq(1).val(rgb.r).end().eq(2).val(rgb.g).end().eq(3).val(rgb.b).end()},fillHSBFields=function(hsb,cal){$(cal).data("colorpicker").fields.eq(4).val(hsb.h).end().eq(5).val(hsb.s).end().eq(6).val(hsb.b).end()},fillHexFields=function(hsb,cal){$(cal).data("colorpicker").fields.eq(0).val(HSBToHex(hsb)).end()},setSelector=function(hsb,cal){$(cal).data("colorpicker").selector.css("backgroundColor","#"+HSBToHex({h:hsb.h,s:100,b:100}));$(cal).data("colorpicker").selectorIndic.css({left:parseInt(150*hsb.s/100,10),top:parseInt(150*(100-hsb.b)/100,10)})},setHue=function(hsb,cal){$(cal).data("colorpicker").hue.css("top",parseInt(150-150*hsb.h/360,10))},setCurrentColor=function(hsb,cal){$(cal).data("colorpicker").currentColor.css("backgroundColor","#"+HSBToHex(hsb))},setNewColor=function(hsb,cal){$(cal).data("colorpicker").newColor.css("backgroundColor","#"+HSBToHex(hsb))},keyDown=function(ev){var pressedKey=ev.charCode||ev.keyCode||-1;if(pressedKey>charMin&&pressedKey<=90||pressedKey==32){return false}var cal=$(this).parent().parent();if(cal.data("colorpicker").livePreview===true){change.apply(this)}},change=function(ev){var cal=$(this).parent().parent(),col;if(this.parentNode.className.indexOf("_hex")>0){cal.data("colorpicker").color=col=HexToHSB(fixHex(this.value))}else if(this.parentNode.className.indexOf("_hsb")>0){cal.data("colorpicker").color=col=fixHSB({h:parseInt(cal.data("colorpicker").fields.eq(4).val(),10),s:parseInt(cal.data("colorpicker").fields.eq(5).val(),10),b:parseInt(cal.data("colorpicker").fields.eq(6).val(),10)})}else{cal.data("colorpicker").color=col=RGBToHSB(fixRGB({r:parseInt(cal.data("colorpicker").fields.eq(1).val(),10),g:parseInt(cal.data("colorpicker").fields.eq(2).val(),10),b:parseInt(cal.data("colorpicker").fields.eq(3).val(),10)}))}if(ev){fillRGBFields(col,cal.get(0));fillHexFields(col,cal.get(0));fillHSBFields(col,cal.get(0))}setSelector(col,cal.get(0));setHue(col,cal.get(0));setNewColor(col,cal.get(0));cal.data("colorpicker").onChange.apply(cal,[col,HSBToHex(col),HSBToRGB(col)])},blur=function(ev){var cal=$(this).parent().parent();cal.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},focus=function(){charMin=this.parentNode.className.indexOf("_hex")>0?70:65;$(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");$(this).parent().addClass("colorpicker_focus")},downIncrement=function(ev){var field=$(this).parent().find("input").focus();var current={el:$(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:ev.pageY,field:field,val:parseInt(field.val(),10),preview:$(this).parent().parent().data("colorpicker").livePreview};$(document).bind("mouseup",current,upIncrement);$(document).bind("mousemove",current,moveIncrement)},moveIncrement=function(ev){ev.data.field.val(Math.max(0,Math.min(ev.data.max,parseInt(ev.data.val+ev.pageY-ev.data.y,10))));if(ev.data.preview){change.apply(ev.data.field.get(0),[true])}return false},upIncrement=function(ev){change.apply(ev.data.field.get(0),[true]);ev.data.el.removeClass("colorpicker_slider").find("input").focus();$(document).unbind("mouseup",upIncrement);$(document).unbind("mousemove",moveIncrement);return false},downHue=function(ev){var current={cal:$(this).parent(),y:$(this).offset().top};current.preview=current.cal.data("colorpicker").livePreview;$(document).bind("mouseup",current,upHue);$(document).bind("mousemove",current,moveHue)},moveHue=function(ev){change.apply(ev.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,ev.pageY-ev.data.y)))/150,10)).get(0),[ev.data.preview]);return false},upHue=function(ev){fillRGBFields(ev.data.cal.data("colorpicker").color,ev.data.cal.get(0));fillHexFields(ev.data.cal.data("colorpicker").color,ev.data.cal.get(0));$(document).unbind("mouseup",upHue);$(document).unbind("mousemove",moveHue);return false},downSelector=function(ev){var current={cal:$(this).parent(),pos:$(this).offset()};current.preview=current.cal.data("colorpicker").livePreview;$(document).bind("mouseup",current,upSelector);$(document).bind("mousemove",current,moveSelector)},moveSelector=function(ev){change.apply(ev.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,ev.pageY-ev.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,ev.pageX-ev.data.pos.left))/150,10)).get(0),[ev.data.preview]);return false},upSelector=function(ev){fillRGBFields(ev.data.cal.data("colorpicker").color,ev.data.cal.get(0));fillHexFields(ev.data.cal.data("colorpicker").color,ev.data.cal.get(0));$(document).unbind("mouseup",upSelector);$(document).unbind("mousemove",moveSelector);return false},enterSubmit=function(ev){$(this).addClass("colorpicker_focus")},leaveSubmit=function(ev){$(this).removeClass("colorpicker_focus")},clickSubmit=function(ev){var cal=$(this).parent();var col=cal.data("colorpicker").color;cal.data("colorpicker").origColor=col;setCurrentColor(col,cal.get(0));cal.data("colorpicker").onSubmit(col,HSBToHex(col),HSBToRGB(col),cal.data("colorpicker").el)},show=function(ev){var cal=$("#"+$(this).data("colorpickerId"));cal.data("colorpicker").onBeforeShow.apply(this,[cal.get(0)]);var pos=$(this).offset();var viewPort=getViewport();var top=pos.top+this.offsetHeight;var left=pos.left;if(top+176>viewPort.t+viewPort.h){top-=this.offsetHeight+176}if(left+356>viewPort.l+viewPort.w){left-=356}cal.css({left:left+"px",top:top+"px"});if(cal.data("colorpicker").onShow.apply(this,[cal.get(0)])!=false){cal.show()}$(document).bind("mousedown",{cal:cal},hide);return false},hide=function(ev){if(!isChildOf(ev.data.cal.get(0),ev.target,ev.data.cal.get(0))){if(ev.data.cal.data("colorpicker").onHide.apply(this,[ev.data.cal.get(0)])!=false){ev.data.cal.hide()}$(document).unbind("mousedown",hide)}},isChildOf=function(parentEl,el,container){if(parentEl==el){return true}if(parentEl.contains){return parentEl.contains(el)}if(parentEl.compareDocumentPosition){return!!(parentEl.compareDocumentPosition(el)&16)}var prEl=el.parentNode;while(prEl&&prEl!=container){if(prEl==parentEl)return true;prEl=prEl.parentNode}return false},getViewport=function(){var m=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(m?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(m?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(m?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(m?document.documentElement.clientHeight:document.body.clientHeight)}},fixHSB=function(hsb){return{h:Math.min(360,Math.max(0,hsb.h)),s:Math.min(100,Math.max(0,hsb.s)),b:Math.min(100,Math.max(0,hsb.b))}},fixRGB=function(rgb){return{r:Math.min(255,Math.max(0,rgb.r)),g:Math.min(255,Math.max(0,rgb.g)),b:Math.min(255,Math.max(0,rgb.b))}},fixHex=function(hex){var len=6-hex.length;if(len>0){var o=[];for(var i=0;i<len;i++){o.push("0")}o.push(hex);hex=o.join("")}return hex},HexToRGB=function(hex){var hex=parseInt(hex.indexOf("#")>-1?hex.substring(1):hex,16);return{r:hex>>16,g:(hex&65280)>>8,b:hex&255}},HexToHSB=function(hex){return RGBToHSB(HexToRGB(hex))},RGBToHSB=function(rgb){var hsb={h:0,s:0,b:0};var min=Math.min(rgb.r,rgb.g,rgb.b);var max=Math.max(rgb.r,rgb.g,rgb.b);var delta=max-min;hsb.b=max;if(max!=0){}hsb.s=max!=0?255*delta/max:0;if(hsb.s!=0){if(rgb.r==max){hsb.h=(rgb.g-rgb.b)/delta}else if(rgb.g==max){hsb.h=2+(rgb.b-rgb.r)/delta}else{hsb.h=4+(rgb.r-rgb.g)/delta}}else{hsb.h=-1}hsb.h*=60;if(hsb.h<0){hsb.h+=360}hsb.s*=100/255;hsb.b*=100/255;return hsb},HSBToRGB=function(hsb){var rgb={};var h=Math.round(hsb.h);var s=Math.round(hsb.s*255/100);var v=Math.round(hsb.b*255/100);if(s==0){rgb.r=rgb.g=rgb.b=v}else{var t1=v;var t2=(255-s)*v/255;var t3=(t1-t2)*(h%60)/60;if(h==360)h=0;if(h<60){rgb.r=t1;rgb.b=t2;rgb.g=t2+t3}else if(h<120){rgb.g=t1;rgb.b=t2;rgb.r=t1-t3}else if(h<180){rgb.g=t1;rgb.r=t2;rgb.b=t2+t3}else if(h<240){rgb.b=t1;rgb.r=t2;rgb.g=t1-t3}else if(h<300){rgb.b=t1;rgb.g=t2;rgb.r=t2+t3}else if(h<360){rgb.r=t1;rgb.g=t2;rgb.b=t1-t3}else{rgb.r=0;rgb.g=0;rgb.b=0}}return{r:Math.round(rgb.r),g:Math.round(rgb.g),b:Math.round(rgb.b)}},RGBToHex=function(rgb){var hex=[rgb.r.toString(16),rgb.g.toString(16),rgb.b.toString(16)];$.each(hex,function(nr,val){if(val.length==1){hex[nr]="0"+val}});return hex.join("")},HSBToHex=function(hsb){return RGBToHex(HSBToRGB(hsb))},restoreOriginal=function(){var cal=$(this).parent();var col=cal.data("colorpicker").origColor;cal.data("colorpicker").color=col;fillRGBFields(col,cal.get(0));fillHexFields(col,cal.get(0));fillHSBFields(col,cal.get(0));setSelector(col,cal.get(0));setHue(col,cal.get(0));setNewColor(col,cal.get(0))};return{init:function(opt){opt=$.extend({},defaults,opt||{});if(typeof opt.color=="string"){opt.color=HexToHSB(opt.color)}else if(opt.color.r!=undefined&&opt.color.g!=undefined&&opt.color.b!=undefined){opt.color=RGBToHSB(opt.color)}else if(opt.color.h!=undefined&&opt.color.s!=undefined&&opt.color.b!=undefined){opt.color=fixHSB(opt.color)}else{return this}return this.each(function(){if(!$(this).data("colorpickerId")){var options=$.extend({},opt);options.origColor=opt.color;var id="collorpicker_"+parseInt(Math.random()*1e3);$(this).data("colorpickerId",id);var cal=$(tpl).attr("id",id);if(options.flat){cal.appendTo(this).show()}else{cal.appendTo(document.body)}options.fields=cal.find("input").bind("keyup",keyDown).bind("change",change).bind("blur",blur).bind("focus",focus);cal.find("span").bind("mousedown",downIncrement).end().find(">div.colorpicker_current_color").bind("click",restoreOriginal);options.selector=cal.find("div.colorpicker_color").bind("mousedown",downSelector);options.selectorIndic=options.selector.find("div div");options.el=this;options.hue=cal.find("div.colorpicker_hue div");cal.find("div.colorpicker_hue").bind("mousedown",downHue);options.newColor=cal.find("div.colorpicker_new_color");options.currentColor=cal.find("div.colorpicker_current_color");cal.data("colorpicker",options);cal.find("div.colorpicker_submit").bind("mouseenter",enterSubmit).bind("mouseleave",leaveSubmit).bind("click",clickSubmit);fillRGBFields(options.color,cal.get(0));fillHSBFields(options.color,cal.get(0));fillHexFields(options.color,cal.get(0));setHue(options.color,cal.get(0));setSelector(options.color,cal.get(0));setCurrentColor(options.color,cal.get(0));setNewColor(options.color,cal.get(0));if(options.flat){cal.css({position:"relative",display:"block"})}else{$(this).bind(options.eventName,show)}}})},showPicker:function(){return this.each(function(){if($(this).data("colorpickerId")){show.apply(this)}})},hidePicker:function(){return this.each(function(){if($(this).data("colorpickerId")){$("#"+$(this).data("colorpickerId")).hide()}})},setColor:function(col){if(typeof col=="string"){col=HexToHSB(col)}else if(col.r!=undefined&&col.g!=undefined&&col.b!=undefined){col=RGBToHSB(col)}else if(col.h!=undefined&&col.s!=undefined&&col.b!=undefined){col=fixHSB(col)}else{return this}return this.each(function(){if($(this).data("colorpickerId")){var cal=$("#"+$(this).data("colorpickerId"));cal.data("colorpicker").color=col;cal.data("colorpicker").origColor=col;fillRGBFields(col,cal.get(0));fillHSBFields(col,cal.get(0));fillHexFields(col,cal.get(0));setHue(col,cal.get(0));setSelector(col,cal.get(0));setCurrentColor(col,cal.get(0));setNewColor(col,cal.get(0))}})}}}();$.fn.extend({ColorPicker:ColorPicker.init,ColorPickerHide:ColorPicker.hidePicker,ColorPickerShow:ColorPicker.showPicker,ColorPickerSetColor:ColorPicker.setColor});(function($){$.fn.bottom=function(options){var defaults={proximity:0};var options=$.extend(defaults,options);return this.each(function(){var obj=this;$(obj).bind("scroll",function(){if(obj==window){scrollHeight=$(document).height()}else{scrollHeight=$(obj)[0].scrollHeight}scrollPosition=$(obj).height()+$(obj).scrollTop();if((scrollHeight-scrollPosition)/scrollHeight<=options.proximity){$(obj).trigger("bottom")}});return false})}})(jQuery);(function(){var e,t,n,r,i=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};n=typeof window!="undefined"&&window!==null?window.Swag={}:void 0,typeof module!="undefined"&&module!==null&&(module.exports=n={}),n.Config={partialsPath:""},r={},r.toString=Object.prototype.toString,r.isUndefined=function(e){return e==="undefined"||r.toString.call(e)==="[object Function]"||e.hash!=null},r.safeString=function(e){return new Handlebars.SafeString(e)},r.trim=function(e){var t;return t=/\S/.test(" ")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,e.toString().replace(t,"")},Handlebars.registerHelper("lowercase",function(e){return e.toLowerCase()}),Handlebars.registerHelper("uppercase",function(e){return e.toUpperCase()}),Handlebars.registerHelper("capitalizeFirst",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Handlebars.registerHelper("capitalizeEach",function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1)})}),Handlebars.registerHelper("titleize",function(e){var t,n,i,s;return n=e.replace(/[ \-_]+/g," "),s=r.trim(n.replace(/([A-Z])/g," $&")).split(" "),t=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},function(){var e,n,r;r=[];for(e=0,n=s.length;e<n;e++)i=s[e],r.push(t(i));return r}().join(" ")}),Handlebars.registerHelper("sentence",function(e){return e.replace(/((?:\S[^\.\?\!]*)[\.\?\!]*)/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}),Handlebars.registerHelper("reverse",function(e){return e.split("").reverse().join("")}),Handlebars.registerHelper("truncate",function(e,t,n){return r.isUndefined(n)&&(n=""),e.length>t?e.substring(0,t-n.length)+n:e}),Handlebars.registerHelper("center",function(e,t){var n,r;r="",n=0;while(n<t)r+="&nbsp;",n++;return""+r+e+r}),Handlebars.registerHelper("first",function(e,t){return r.isUndefined(t)?e[0]:e.slice(0,t)}),Handlebars.registerHelper("withFirst",function(e,t,n){var i,s;if(r.isUndefined(t))return n=t,n.fn(e[0]);e=e.slice(0,t),s="";for(i in e)s+=n.fn(e[i]);return s}),Handlebars.registerHelper("last",function(e,t){return r.isUndefined(t)?e[e.length-1]:e.slice(-t)}),Handlebars.registerHelper("withLast",function(e,t,n){var i,s;if(r.isUndefined(t))return n=t,n.fn(e[e.length-1]);e=e.slice(-t),s="";for(i in e)s+=n.fn(e[i]);return s}),Handlebars.registerHelper("after",function(e,t){return e.slice(t)}),Handlebars.registerHelper("withAfter",function(e,t,n){var r,i;e=e.slice(t),i="";for(r in e)i+=n.fn(e[r]);return i}),Handlebars.registerHelper("before",function(e,t){return e.slice(0,-t)}),Handlebars.registerHelper("withBefore",function(e,t,n){var r,i;e=e.slice(0,-t),i="";for(r in e)i+=n.fn(e[r]);return i}),Handlebars.registerHelper("join",function(e,t){return e.join(r.isUndefined(t)?" ":t)}),Handlebars.registerHelper("sort",function(e,t){return r.isUndefined(t)?e.sort():e.sort(function(e,n){return e[t]>n[t]})}),Handlebars.registerHelper("withSort",function(e,t,n){var i,s;if(r.isUndefined(t))return n=t,n.fn(e.sort());e=e.sort(function(e,n){return e[t]>n[t]}),s="";for(i in e)s+=n.fn(e[i]);return s}),Handlebars.registerHelper("length",function(e){return e.length}),Handlebars.registerHelper("lengthEqual",function(e,t,n){return e.length===t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("empty",function(e,t){return e.length<=0?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("any",function(e,t){return e.length>0?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("inArray",function(e,t,n){return e.indexOf(t)!==-1?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("eachIndex",function(e,t){var n,r,i,s;s="",t.data!=null&&(n=Handlebars.createFrame(t.data));if(e&&e.length>0){r=0,i=e.length;while(r<i)n&&(n.index=r),e[r].index=r,s+=t.fn(e[r]),r++}else s=t.inverse(this);return s}),Handlebars.registerHelper("add",function(e,t){return e+t}),Handlebars.registerHelper("subtract",function(e,t){return e-t}),Handlebars.registerHelper("divide",function(e,t){return e/t}),Handlebars.registerHelper("multiply",function(e,t){return e*t}),Handlebars.registerHelper("floor",function(e){return Math.floor(e)}),Handlebars.registerHelper("ceil",function(e){return Math.ceil(e)}),Handlebars.registerHelper("round",function(e){return Math.round(e)}),Handlebars.registerHelper("toFixed",function(e,t){return e.toFixed(r.isUndefined(t)?t:void 0)}),Handlebars.registerHelper("toPrecision",function(e,t){return e.toPrecision(r.isUndefined(t)?t:void 0)}),Handlebars.registerHelper("toExponential",function(e,t){return e.toExponential(r.isUndefined(t)?t:void 0)}),Handlebars.registerHelper("toInt",function(e){return parseInt(e,10)}),Handlebars.registerHelper("toFloat",function(e){return parseFloat(e)}),Handlebars.registerHelper("addCommas",function(e){return e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}),Handlebars.registerHelper("equal",function(e,t,n){return e===t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("notEqual",function(e,t,n){return e!==t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("gt",function(e,t,n){return e>t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("gte",function(e,t,n){return e>=t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("lt",function(e,t,n){return e<t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("lte",function(e,t,n){return e<=t?n.fn(this):n.inverse(this)}),e={},e.padNumber=function(e,t,n){var r,i;typeof n=="undefined"&&(n="0"),r=t-String(e).length,i="";if(r>0)while(r--)i+=n;return i+e},e.dayOfYear=function(e){var t;return t=new Date(e.getFullYear(),0,1),Math.ceil((e-t)/864e5)},e.weekOfYear=function(e){var t;return t=new Date(e.getFullYear(),0,1),Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},e.isoWeekOfYear=function(e){var t,n,r,i;return i=new Date(e.valueOf()),n=(e.getDay()+6)%7,i.setDate(i.getDate()-n+3),r=new Date(i.getFullYear(),0,4),t=(i-r)/864e5,1+Math.ceil(t/7)},e.tweleveHour=function(e){return e.getHours()>12?e.getHours()-12:e.getHours()},e.timeZoneOffset=function(t){var n,r;return n=-t.getTimezoneOffset()/60,r=e.padNumber(Math.abs(n),4),(n>0?"+":"-")+r},e.format=function(t,n){return n.replace(e.formats,function(n,r){switch(r){case"a":return e.abbreviatedWeekdays[t.getDay()];case"A":return e.fullWeekdays[t.getDay()];case"b":return e.abbreviatedMonths[t.getMonth()];case"B":return e.fullMonths[t.getMonth()];case"c":return t.toLocaleString();case"C":return Math.round(t.getFullYear()/100);case"d":return e.padNumber(t.getDate(),2);case"D":return e.format(t,"%m/%d/%y");case"e":return e.padNumber(t.getDate(),2," ");case"F":return e.format(t,"%Y-%m-%d");case"h":return e.format(t,"%b");case"H":return e.padNumber(t.getHours(),2);case"I":return e.padNumber(e.tweleveHour(t),2);case"j":return e.padNumber(e.dayOfYear(t),3);case"k":return e.padNumber(t.getHours(),2," ");case"l":return e.padNumber(e.tweleveHour(t),2," ");case"L":return e.padNumber(t.getMilliseconds(),3);case"m":return e.padNumber(t.getMonth()+1,2);case"M":return e.padNumber(t.getMinutes(),2);case"n":return"\n";case"p":return t.getHours()>11?"PM":"AM";case"P":return e.format(t,"%p").toLowerCase();case"r":return e.format(t,"%I:%M:%S %p");case"R":return e.format(t,"%H:%M");case"s":return t.getTime()/1e3;case"S":return e.padNumber(t.getSeconds(),2);case"t":return" ";case"T":return e.format(t,"%H:%M:%S");case"u":return t.getDay()===0?7:t.getDay();case"U":return e.padNumber(e.weekOfYear(t),2);case"v":return e.format(t,"%e-%b-%Y");case"V":return e.padNumber(e.isoWeekOfYear(t),2);case"W":return e.padNumber(e.weekOfYear(t),2);case"w":return e.padNumber(t.getDay(),2);case"x":return t.toLocaleDateString();case"X":return t.toLocaleTimeString();case"y":return String(t.getFullYear()).substring(2);case"Y":return t.getFullYear();case"z":return e.timeZoneOffset(t);default:return match}})},e.formats=/%(a|A|b|B|c|C|d|D|e|F|h|H|I|j|k|l|L|m|M|n|p|P|r|R|s|S|t|T|u|U|v|V|W|w|x|X|y|Y|z)/g,e.abbreviatedWeekdays=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],e.fullWeekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.abbreviatedMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.fullMonths=["January","February","March","April","May","June","July","August","September","October","November","December"],Handlebars.registerHelper("formatDate",function(t,n){return t=new Date(t),e.format(t,n)}),Handlebars.registerHelper("now",function(t){var n;return n=new Date,r.isUndefined(t)?n:e.format(n,t)}),Handlebars.registerHelper("timeago",function(e){var t,n;return e=new Date(e),n=Math.floor((new Date-e)/1e3),t=Math.floor(n/31536e3),t>1?""+t+" years ago":(t=Math.floor(n/2592e3),t>1?""+t+" months ago":(t=Math.floor(n/86400),t>1?""+t+" days ago":(t=Math.floor(n/3600),t>1?""+t+" hours ago":(t=Math.floor(n/60),t>1?""+t+" minutes ago":Math.floor(n)===0?"Just now":Math.floor(n)+" seconds ago"))))}),Handlebars.registerHelper("inflect",function(e,t,n,i){var s;return s=e>1||e===0?n:t,r.isUndefined(i)||i===!1?s:""+e+" "+s}),Handlebars.registerHelper("ordinalize",function(e){var t,n;t=Math.abs(Math.round(e));if(n=t%100,i.call([11,12,13],n)>=0)return""+e+"th";switch(t%10){case 1:return""+e+"st";case 2:return""+e+"nd";case 3:return""+e+"rd";default:return""+e+"th"}}),t={},t.parseAttributes=function(e){return Object.keys(e).map(function(t){return""+t+'="'+e[t]+'"'}).join(" ")},Handlebars.registerHelper("ul",function(e,n){return"<ul "+t.parseAttributes(n.hash)+">"+e.map(function(e){return"<li>"+n.fn(e)+"</li>"}).join("\n")+"</ul>"}),Handlebars.registerHelper("ol",function(e,n){return"<ol "+t.parseAttributes(n.hash)+">"+e.map(function(e){return"<li>"+n.fn(e)+"</li>"}).join("\n")+"</ol>"}),Handlebars.registerHelper("br",function(e,t){var n,i;n="<br>";if(!r.isUndefined(e)){i=0;while(i<e-1)n+="<br>",i++}return r.safeString(n)}),Handlebars.registerHelper("log",function(e){return console.log(e)}),Handlebars.registerHelper("debug",function(e){return console.debug("Context: ",this),r.isUndefined(e)||console.debug("Value: ",e),console.log("-----------------------------------------------")}),Handlebars.registerHelper("default",function(e,t){var n;return n=e!=null?e:t,n?n:t}),Handlebars.registerHelper("partial",function(e,t){var i;return i=n.Config.partialsPath+e,t=r.isUndefined(t)?{}:t,Handlebars.partials[e]==null&&Handlebars.registerPartial(e,require(i)),r.safeString(Handlebars.partials[e](t))})}).call(this);
!function($){$(function(){var $win=$(window),$nav=$(".subnav"),navTop=$(".subnav").length&&$(".subnav").offset().top-40,isFixed=0;processScroll();$nav.on("click",function(){if(!isFixed)setTimeout(function(){$win.scrollTop($win.scrollTop()-47)},10)});$win.on("scroll",processScroll);function processScroll(){var i,scrollTop=$win.scrollTop();if(scrollTop>=navTop&&!isFixed){isFixed=1;$nav.addClass("subnav-fixed")}else if(scrollTop<=navTop&&isFixed){isFixed=0;$nav.removeClass("subnav-fixed")}}$("#fat-btn").click(function(){var btn=$(this);btn.button("loading");setTimeout(function(){btn.button("reset")},3e3)})})}(window.jQuery);
window.Modernizr=function(window,document,undefined){var version="2.5.3",Modernizr={},enableClasses=true,docElement=document.documentElement,mod="modernizr",modElem=document.createElement(mod),mStyle=modElem.style,inputElem=document.createElement("input"),smile=":)",toString={}.toString,prefixes=" -webkit- -moz- -o- -ms- ".split(" "),omPrefixes="Webkit Moz O ms",cssomPrefixes=omPrefixes.split(" "),domPrefixes=omPrefixes.toLowerCase().split(" "),ns={svg:"http://www.w3.org/2000/svg"},tests={},inputs={},attrs={},classes=[],slice=classes.slice,featureName,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,div=document.createElement("div"),body=document.body,fakeBody=body?body:document.createElement("body");if(parseInt(nodes,10)){while(nodes--){node=document.createElement("div");node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node)}}style=["&#173;","<style>",rule,"</style>"].join("");div.id=mod;fakeBody.innerHTML+=style;fakeBody.appendChild(div);if(!body){fakeBody.style.background="";docElement.appendChild(fakeBody)}ret=callback(div,rule);!body?fakeBody.parentNode.removeChild(fakeBody):div.parentNode.removeChild(div);return!!ret},testMediaQuery=function(mq){var matchMedia=window.matchMedia||window.msMatchMedia;if(matchMedia){return matchMedia(mq).matches}var bool;injectElementWithStyles("@media "+mq+" { #"+mod+" { position: absolute; } }",function(node){bool=(window.getComputedStyle?getComputedStyle(node,null):node.currentStyle)["position"]=="absolute"});return bool},isEventSupported=function(){var TAGNAMES={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function isEventSupported(eventName,element){element=element||document.createElement(TAGNAMES[eventName]||"div");eventName="on"+eventName;var isSupported=eventName in element;if(!isSupported){if(!element.setAttribute){element=document.createElement("div")}if(element.setAttribute&&element.removeAttribute){element.setAttribute(eventName,"");isSupported=is(element[eventName],"function");if(!is(element[eventName],"undefined")){element[eventName]=undefined}element.removeAttribute(eventName)}}element=null;return isSupported}return isEventSupported}();var _hasOwnProperty={}.hasOwnProperty,hasOwnProperty;if(!is(_hasOwnProperty,"undefined")&&!is(_hasOwnProperty.call,"undefined")){hasOwnProperty=function(object,property){return _hasOwnProperty.call(object,property)}}else{hasOwnProperty=function(object,property){return property in object&&is(object.constructor.prototype[property],"undefined")}}if(!Function.prototype.bind){Function.prototype.bind=function bind(that){var target=this;if(typeof target!="function"){throw new TypeError}var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F;var result=target.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return self}else{return target.apply(that,args.concat(slice.call(arguments)))}};return bound}}function setCss(str){mStyle.cssText=str}function setCssAll(str1,str2){return setCss(prefixes.join(str1+";")+(str2||""))}function is(obj,type){return typeof obj===type}function contains(str,substr){return!!~(""+str).indexOf(substr)}function testProps(props,prefixed){for(var i in props){if(mStyle[props[i]]!==undefined){return prefixed=="pfx"?props[i]:true}}return false}function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined){if(elem===false)return props[i];if(is(item,"function")){return item.bind(elem||obj)}return item}}return false}function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.substr(1),props=(prop+" "+cssomPrefixes.join(ucProp+" ")+ucProp).split(" ");if(is(prefixed,"string")||is(prefixed,"undefined")){return testProps(props,prefixed)}else{props=(prop+" "+domPrefixes.join(ucProp+" ")+ucProp).split(" ");return testDOMProps(props,prefixed,elem)}}var testBundle=function(styles,tests){var style=styles.join(""),len=tests.length;injectElementWithStyles(style,function(node,rule){var style=document.styleSheets[document.styleSheets.length-1],cssText=style?style.cssRules&&style.cssRules[0]?style.cssRules[0].cssText:style.cssText||"":"",children=node.childNodes,hash={};while(len--){hash[children[len].id]=children[len]}Modernizr["touch"]="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||(hash["touch"]&&hash["touch"].offsetTop)===9;Modernizr["csstransforms3d"]=(hash["csstransforms3d"]&&hash["csstransforms3d"].offsetLeft)===9&&hash["csstransforms3d"].offsetHeight===3;Modernizr["generatedcontent"]=(hash["generatedcontent"]&&hash["generatedcontent"].offsetHeight)>=1;Modernizr["fontface"]=/src/i.test(cssText)&&cssText.indexOf(rule.split(" ")[0])===0},len,tests)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",prefixes.join("touch-enabled),("),mod,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",prefixes.join("transform-3d),("),mod,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',smile,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);tests["flexbox"]=function(){return testPropsAll("flexOrder")};tests["flexbox-legacy"]=function(){return testPropsAll("boxDirection")};tests["canvas"]=function(){var elem=document.createElement("canvas");return!!(elem.getContext&&elem.getContext("2d"))};tests["canvastext"]=function(){return!!(Modernizr["canvas"]&&is(document.createElement("canvas").getContext("2d").fillText,"function"))};tests["webgl"]=function(){try{var canvas=document.createElement("canvas"),ret;ret=!!(window.WebGLRenderingContext&&(canvas.getContext("experimental-webgl")||canvas.getContext("webgl")));canvas=undefined}catch(e){ret=false}return ret};tests["touch"]=function(){return Modernizr["touch"]};tests["geolocation"]=function(){return!!navigator.geolocation};tests["postmessage"]=function(){return!!window.postMessage};tests["websqldatabase"]=function(){return!!window.openDatabase};tests["indexedDB"]=function(){return!!testPropsAll("indexedDB",window)};tests["hashchange"]=function(){return isEventSupported("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7)};tests["history"]=function(){return!!(window.history&&history.pushState)};tests["draganddrop"]=function(){var div=document.createElement("div");return"draggable"in div||"ondragstart"in div&&"ondrop"in div};tests["websockets"]=function(){for(var i=-1,len=cssomPrefixes.length;++i<len;){if(window[cssomPrefixes[i]+"WebSocket"]){return true}}return"WebSocket"in window};tests["rgba"]=function(){setCss("background-color:rgba(150,255,150,.5)");return contains(mStyle.backgroundColor,"rgba")};tests["hsla"]=function(){setCss("background-color:hsla(120,40%,100%,.5)");return contains(mStyle.backgroundColor,"rgba")||contains(mStyle.backgroundColor,"hsla")};tests["multiplebgs"]=function(){setCss("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(mStyle.background)};tests["backgroundsize"]=function(){return testPropsAll("backgroundSize")};tests["borderimage"]=function(){return testPropsAll("borderImage")};tests["borderradius"]=function(){return testPropsAll("borderRadius")};tests["boxshadow"]=function(){return testPropsAll("boxShadow")};tests["textshadow"]=function(){return document.createElement("div").style.textShadow===""};tests["opacity"]=function(){setCssAll("opacity:.55");return/^0.55$/.test(mStyle.opacity)};tests["cssanimations"]=function(){return testPropsAll("animationName")};tests["csscolumns"]=function(){return testPropsAll("columnCount")};tests["cssgradients"]=function(){var str1="background-image:",str2="gradient(linear,left top,right bottom,from(#9f9),to(white));",str3="linear-gradient(left top,#9f9, white);";setCss((str1+"-webkit- ".split(" ").join(str2+str1)+prefixes.join(str3+str1)).slice(0,-str1.length));return contains(mStyle.backgroundImage,"gradient")};tests["cssreflections"]=function(){return testPropsAll("boxReflect")};tests["csstransforms"]=function(){return!!testPropsAll("transform")};tests["csstransforms3d"]=function(){var ret=!!testPropsAll("perspective");if(ret&&"webkitPerspective"in docElement.style){ret=Modernizr["csstransforms3d"]}return ret};tests["csstransitions"]=function(){return testPropsAll("transition")};tests["fontface"]=function(){return Modernizr["fontface"]};tests["generatedcontent"]=function(){return Modernizr["generatedcontent"]};tests["video"]=function(){var elem=document.createElement("video"),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");bool.h264=elem.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(e){}return bool};tests["audio"]=function(){var elem=document.createElement("audio"),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");bool.mp3=elem.canPlayType("audio/mpeg;").replace(/^no$/,"");bool.wav=elem.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");bool.m4a=(elem.canPlayType("audio/x-m4a;")||elem.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(e){}return bool};tests["localstorage"]=function(){try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true}catch(e){return false}};tests["sessionstorage"]=function(){try{sessionStorage.setItem(mod,mod);sessionStorage.removeItem(mod);return true}catch(e){return false}};tests["webworkers"]=function(){return!!window.Worker};tests["applicationcache"]=function(){return!!window.applicationCache};tests["svg"]=function(){return!!document.createElementNS&&!!document.createElementNS(ns.svg,"svg").createSVGRect};tests["inlinesvg"]=function(){var div=document.createElement("div");div.innerHTML="<svg/>";return(div.firstChild&&div.firstChild.namespaceURI)==ns.svg};tests["smil"]=function(){return!!document.createElementNS&&/SVGAnimate/.test(toString.call(document.createElementNS(ns.svg,"animate")))};tests["svgclippaths"]=function(){return!!document.createElementNS&&/SVGClipPath/.test(toString.call(document.createElementNS(ns.svg,"clipPath")))};function webforms(){Modernizr["input"]=function(props){for(var i=0,len=props.length;i<len;i++){attrs[props[i]]=!!(props[i]in inputElem)}if(attrs.list){attrs.list=!!(document.createElement("datalist")&&window.HTMLDataListElement)}return attrs}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));Modernizr["inputtypes"]=function(props){for(var i=0,bool,inputElemType,defaultView,len=props.length;i<len;i++){inputElem.setAttribute("type",inputElemType=props[i]);bool=inputElem.type!=="text";if(bool){inputElem.value=smile;inputElem.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(inputElemType)&&inputElem.style.WebkitAppearance!==undefined){docElement.appendChild(inputElem);defaultView=document.defaultView;bool=defaultView.getComputedStyle&&defaultView.getComputedStyle(inputElem,null).WebkitAppearance!=="textfield"&&inputElem.offsetHeight!==0;docElement.removeChild(inputElem)}else if(/^(search|tel)$/.test(inputElemType)){}else if(/^(url|email)$/.test(inputElemType)){bool=inputElem.checkValidity&&inputElem.checkValidity()===false}else if(/^color$/.test(inputElemType)){docElement.appendChild(inputElem);docElement.offsetWidth;bool=inputElem.value!=smile;docElement.removeChild(inputElem)}else{bool=inputElem.value!=smile}}inputs[props[i]]=!!bool}return inputs}("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var feature in tests){if(hasOwnProperty(tests,feature)){featureName=feature.toLowerCase();Modernizr[featureName]=tests[feature]();classes.push((Modernizr[featureName]?"":"no-")+featureName)}}Modernizr.input||webforms();Modernizr.addTest=function(feature,test){if(typeof feature=="object"){for(var key in feature){if(hasOwnProperty(feature,key)){Modernizr.addTest(key,feature[key])}}}else{feature=feature.toLowerCase();if(Modernizr[feature]!==undefined){return Modernizr}test=typeof test=="function"?test():test;docElement.className+=" "+(test?"":"no-")+feature;Modernizr[feature]=test}return Modernizr};setCss("");modElem=inputElem=null;(function(window,document){var options=window.html5||{};var reSkip=/^<|^(?:button|form|map|select|textarea)$/i;var supportsHtml5Styles;var supportsUnknownElements;(function(){var a=document.createElement("a");a.innerHTML="<xyz></xyz>";supportsHtml5Styles="hidden"in a;supportsUnknownElements=a.childNodes.length==1||function(){try{document.createElement("a")}catch(e){return true}var frag=document.createDocumentFragment();return typeof frag.cloneNode=="undefined"||typeof frag.createDocumentFragment=="undefined"||typeof frag.createElement=="undefined"}()})();function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;p.innerHTML="x<style>"+cssText+"</style>";return parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return typeof elements=="string"?elements.split(" "):elements}function shivMethods(ownerDocument){var cache={},docCreateElement=ownerDocument.createElement,docCreateFragment=ownerDocument.createDocumentFragment,frag=docCreateFragment();ownerDocument.createElement=function(nodeName){var node=(cache[nodeName]||(cache[nodeName]=docCreateElement(nodeName))).cloneNode();return html5.shivMethods&&node.canHaveChildren&&!reSkip.test(nodeName)?frag.appendChild(node):node};ownerDocument.createDocumentFragment=Function("h,f","return function(){"+"var n=f.cloneNode(),c=n.createElement;"+"h.shivMethods&&("+getElements().join().replace(/\w+/g,function(nodeName){cache[nodeName]=docCreateElement(nodeName);frag.createElement(nodeName);return'c("'+nodeName+'")'})+");return n}")(html5,frag)}function shivDocument(ownerDocument){var shived;if(ownerDocument.documentShived){return ownerDocument}if(html5.shivCSS&&!supportsHtml5Styles){shived=!!addStyleSheet(ownerDocument,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}"+"audio{display:none}"+"canvas,video{display:inline-block;*display:inline;*zoom:1}"+"[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}"+"mark{background:#FF0;color:#000}")}if(!supportsUnknownElements){shived=!shivMethods(ownerDocument)}if(shived){ownerDocument.documentShived=shived}return ownerDocument}var html5={elements:options.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!(options.shivCSS===false),shivMethods:!(options.shivMethods===false),type:"default",shivDocument:shivDocument};window.html5=html5;shivDocument(document)})(this,document);Modernizr._version=version;Modernizr._prefixes=prefixes;Modernizr._domPrefixes=domPrefixes;Modernizr._cssomPrefixes=cssomPrefixes;Modernizr.mq=testMediaQuery;Modernizr.hasEvent=isEventSupported;Modernizr.testProp=function(prop){return testProps([prop])};Modernizr.testAllProps=testPropsAll;Modernizr.testStyles=injectElementWithStyles;Modernizr.prefixed=function(prop,obj,elem){if(!obj){return testPropsAll(prop,"pfx")}else{return testPropsAll(prop,obj,elem)}};docElement.className=docElement.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(enableClasses?" js "+classes.join(" "):"");return Modernizr}(this,this.document);
(function(window,undefined){"use strict";var document=window.document,h;var List=function(id,options,values){var self=this,templater,init,initialItems,Item,Templater,sortButtons,events={updated:[]};this.listContainer=typeof id=="string"?document.getElementById(id):id;if(!this.listContainer)return;this.items=[];this.visibleItems=[];this.matchingItems=[];this.searched=false;this.filtered=false;this.list=null;this.templateEngines={};this.page=options.page||200;this.i=options.i||1;init={start:function(values,options){options.plugins=options.plugins||{};this.classes(options);templater=new Templater(self,options);this.callbacks(options);this.items.start(values,options);self.update();this.plugins(options.plugins)},classes:function(options){options.listClass=options.listClass||"list";options.searchClass=options.searchClass||"search";options.sortClass=options.sortClass||"sort"},callbacks:function(options){self.list=h.getByClass(options.listClass,self.listContainer,true);h.addEvent(h.getByClass(options.searchClass,self.listContainer),"keyup",self.search);sortButtons=h.getByClass(options.sortClass,self.listContainer);h.addEvent(sortButtons,"click",self.sort)},items:{start:function(values,options){if(options.valueNames){var itemsToIndex=this.get(),valueNames=options.valueNames;if(options.indexAsync){this.indexAsync(itemsToIndex,valueNames)}else{this.index(itemsToIndex,valueNames)}}if(values!==undefined){self.add(values)}},get:function(){var nodes=self.list.childNodes,items=[];for(var i=0,il=nodes.length;i<il;i++){if(nodes[i].data===undefined){items.push(nodes[i])}}return items},index:function(itemElements,valueNames){for(var i=0,il=itemElements.length;i<il;i++){self.items.push(new Item(valueNames,itemElements[i]))}},indexAsync:function(itemElements,valueNames){var itemsToIndex=itemElements.splice(0,100);this.index(itemsToIndex,valueNames);if(itemElements.length>0){setTimeout(function(){init.items.indexAsync(itemElements,valueNames)},10)}else{self.update()}}},plugins:function(plugins){var locals={templater:templater,init:init,initialItems:initialItems,Item:Item,Templater:Templater,sortButtons:sortButtons,events:events,reset:reset};for(var i=0;i<plugins.length;i++){plugins[i][1]=plugins[i][1]||{};var pluginName=plugins[i][1].name||plugins[i][0];self[pluginName]=self.plugins[plugins[i][0]].call(self,locals,plugins[i][1])}}};this.add=function(values,callback){if(callback){addAsync(values,callback)}var added=[],notCreate=false;if(values[0]===undefined){values=[values]}for(var i=0,il=values.length;i<il;i++){var item=null;if(values[i]instanceof Item){item=values[i];item.reload()}else{notCreate=self.items.length>self.page?true:false;item=new Item(values[i],undefined,notCreate)}self.items.push(item);added.push(item)}self.update();return added};var addAsync=function(values,callback,items){var valuesToAdd=values.splice(0,100);items=items||[];items=items.concat(self.add(valuesToAdd));if(values.length>0){setTimeout(function(){addAsync(values,callback,items)},10)}else{self.update();callback(items)}};this.show=function(i,page){this.i=i;this.page=page;self.update()};this.remove=function(valueName,value,options){var found=0;for(var i=0,il=self.items.length;i<il;i++){if(self.items[i].values()[valueName]==value){templater.remove(self.items[i],options);self.items.splice(i,1);il--;found++}}self.update();return found};this.get=function(valueName,value){var matchedItems=[];for(var i=0,il=self.items.length;i<il;i++){var item=self.items[i];if(item.values()[valueName]==value){matchedItems.push(item)}}if(matchedItems.length==0){return null}else if(matchedItems.length==1){return matchedItems[0]}else{return matchedItems}};this.sort=function(valueName,options){var length=self.items.length,value=null,target=valueName.target||valueName.srcElement,sorting="",isAsc=false,asc="asc",desc="desc",options=options||{};if(target===undefined){value=valueName;isAsc=options.asc||false}else{value=h.getAttribute(target,"data-sort");isAsc=h.hasClass(target,asc)?false:true}for(var i=0,il=sortButtons.length;i<il;i++){h.removeClass(sortButtons[i],asc);h.removeClass(sortButtons[i],desc)}if(isAsc){if(target!==undefined){h.addClass(target,asc)}isAsc=true}else{if(target!==undefined){h.addClass(target,desc)}isAsc=false}if(options.sortFunction){options.sortFunction=options.sortFunction}else{options.sortFunction=function(a,b){return h.sorter.alphanum(a.values()[value].toLowerCase(),b.values()[value].toLowerCase(),isAsc)}}self.items.sort(options.sortFunction);self.update()};this.search=function(searchString,columns){self.i=1;var matching=[],found,item,text,values,is,columns=columns===undefined?self.items[0].values():columns,searchString=searchString===undefined?"":searchString,target=searchString.target||searchString.srcElement;searchString=target===undefined?(""+searchString).toLowerCase():""+target.value.toLowerCase();is=self.items;searchString=searchString.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");templater.clear();if(searchString===""){reset.search();self.searched=false;self.update()}else{self.searched=true;for(var k=0,kl=is.length;k<kl;k++){found=false;item=is[k];values=item.values();for(var j in columns){if(values.hasOwnProperty(j)&&columns[j]!==null){text=values[j]!=null?values[j].toString().toLowerCase():"";if(searchString!==""&&text.search(searchString)>-1){found=true}}}if(found){item.found=true;matching.push(item)}else{item.found=false}}self.update()}return self.visibleItems};this.filter=function(filterFunction){self.i=1;reset.filter();if(filterFunction===undefined){self.filtered=false}else{self.filtered=true;var is=self.items;for(var i=0,il=is.length;i<il;i++){var item=is[i];if(filterFunction(item)){item.filtered=true}else{item.filtered=false}}}self.update();return self.visibleItems};this.size=function(){return self.items.length};this.clear=function(){templater.clear();self.items=[]};this.on=function(event,callback){events[event].push(callback)};var trigger=function(event){var i=events[event].length;while(i--){events[event][i]()}};var reset={filter:function(){var is=self.items,il=is.length;while(il--){is[il].filtered=false}},search:function(){var is=self.items,il=is.length;while(il--){is[il].found=false}}};this.update=function(){var is=self.items,il=is.length;self.visibleItems=[];self.matchingItems=[];templater.clear();for(var i=0;i<il;i++){if(is[i].matching()&&self.matchingItems.length+1>=self.i&&self.visibleItems.length<self.page){is[i].show();self.visibleItems.push(is[i]);self.matchingItems.push(is[i])}else if(is[i].matching()){self.matchingItems.push(is[i]);is[i].hide()}else{is[i].hide()}}trigger("updated")};Item=function(initValues,element,notCreate){var item=this,values={};this.found=false;this.filtered=false;var init=function(initValues,element,notCreate){if(element===undefined){if(notCreate){item.values(initValues,notCreate)}else{item.values(initValues)}}else{item.elm=element;var values=templater.get(item,initValues);item.values(values)}};this.values=function(newValues,notCreate){if(newValues!==undefined){for(var name in newValues){values[name]=newValues[name]}if(notCreate!==true){templater.set(item,item.values())}}else{return values}};this.show=function(){templater.show(item)};this.hide=function(){templater.hide(item)};this.matching=function(){return self.filtered&&self.searched&&item.found&&item.filtered||self.filtered&&!self.searched&&item.filtered||!self.filtered&&self.searched&&item.found||!self.filtered&&!self.searched};this.visible=function(){return item.elm.parentNode?true:false};init(initValues,element,notCreate)};Templater=function(list,settings){if(settings.engine===undefined){settings.engine="standard"}else{settings.engine=settings.engine.toLowerCase()}return new self.constructor.prototype.templateEngines[settings.engine](list,settings)};init.start(values,options)};List.prototype.templateEngines={};List.prototype.plugins={};List.prototype.templateEngines.standard=function(list,settings){var listSource=h.getByClass(settings.listClass,list.listContainer,true),itemSource=getItemSource(settings.item),templater=this;function getItemSource(item){if(item===undefined){var nodes=listSource.childNodes,items=[];for(var i=0,il=nodes.length;i<il;i++){if(nodes[i].data===undefined){return nodes[i]}}return null}else if(item.indexOf("<")!==-1){var div=document.createElement("div");div.innerHTML=item;return div.firstChild}else{return document.getElementById(settings.item)}}var ensure={created:function(item){if(item.elm===undefined){templater.create(item)}}};this.get=function(item,valueNames){ensure.created(item);var values={};for(var i=0,il=valueNames.length;i<il;i++){var elm=h.getByClass(valueNames[i],item.elm,true);values[valueNames[i]]=elm?elm.innerHTML:""}return values};this.set=function(item,values){ensure.created(item);for(var v in values){if(values.hasOwnProperty(v)){var elm=h.getByClass(v,item.elm,true);if(elm){elm.innerHTML=values[v]}}}};this.create=function(item){if(item.elm!==undefined){return}var newItem=itemSource.cloneNode(true);newItem.id="";item.elm=newItem;templater.set(item,item.values())};this.remove=function(item){listSource.removeChild(item.elm)};this.show=function(item){ensure.created(item);listSource.appendChild(item.elm)};this.hide=function(item){if(item.elm!==undefined&&item.elm.parentNode===listSource){listSource.removeChild(item.elm)}};this.clear=function(){if(listSource.hasChildNodes()){while(listSource.childNodes.length>=1){listSource.removeChild(listSource.firstChild)}}}};h={getByClass:function(){if(document.getElementsByClassName){return function(searchClass,node,single){if(single){return node.getElementsByClassName(searchClass)[0]}else{return node.getElementsByClassName(searchClass)}}}else{return function(searchClass,node,single){var classElements=[],tag="*";if(node==null){node=document}var els=node.getElementsByTagName(tag);var elsLen=els.length;var pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(var i=0,j=0;i<elsLen;i++){if(pattern.test(els[i].className)){if(single){return els[i]}else{classElements[j]=els[i];j++}}}return classElements}}}(),addEvent:function(window,document){if(document.addEventListener){return function(elem,type,cb){if(elem&&!(elem instanceof Array)&&!elem.length&&!h.isNodeList(elem)&&elem.length!==0||elem===window){elem.addEventListener(type,cb,false)}else if(elem&&elem[0]!==undefined){var len=elem.length;for(var i=0;i<len;i++){h.addEvent(elem[i],type,cb)}}}}else if(document.attachEvent){return function(elem,type,cb){if(elem&&!(elem instanceof Array)&&!elem.length&&!h.isNodeList(elem)&&elem.length!==0||elem===window){elem.attachEvent("on"+type,function(){return cb.call(elem,window.event)})}else if(elem&&elem[0]!==undefined){var len=elem.length;for(var i=0;i<len;i++){h.addEvent(elem[i],type,cb)}}}}}(this,document),getAttribute:function(ele,attr){var result=ele.getAttribute&&ele.getAttribute(attr)||null;if(!result){var attrs=ele.attributes;var length=attrs.length;for(var i=0;i<length;i++){if(attr[i]!==undefined){if(attr[i].nodeName===attr){result=attr[i].nodeValue}}}}return result},isNodeList:function(nodes){var result=Object.prototype.toString.call(nodes);if(typeof nodes==="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(result)&&(nodes.length==0||typeof nodes[0]==="object"&&nodes[0].nodeType>0)){return true}return false},hasClass:function(ele,classN){var classes=this.getAttribute(ele,"class")||this.getAttribute(ele,"className")||"";return classes.search(classN)>-1},addClass:function(ele,classN){if(!this.hasClass(ele,classN)){var classes=this.getAttribute(ele,"class")||this.getAttribute(ele,"className")||"";classes=classes+" "+classN+" ";classes=classes.replace(/\s{2,}/g," ");ele.setAttribute("class",classes)}},removeClass:function(ele,classN){if(this.hasClass(ele,classN)){var classes=this.getAttribute(ele,"class")||this.getAttribute(ele,"className")||"";classes=classes.replace(classN,"");ele.setAttribute("class",classes)}},sorter:{alphanum:function(a,b,asc){if(a===undefined||a===null){a=""}if(b===undefined||b===null){b=""}a=a.toString().replace(/&(lt|gt);/g,function(strMatch,p1){return p1=="lt"?"<":">"});a=a.replace(/<\/?[^>]+(>|$)/g,"");b=b.toString().replace(/&(lt|gt);/g,function(strMatch,p1){return p1=="lt"?"<":">"});b=b.replace(/<\/?[^>]+(>|$)/g,"");var aa=this.chunkify(a);var bb=this.chunkify(b);for(var x=0;aa[x]&&bb[x];x++){if(aa[x]!==bb[x]){var c=Number(aa[x]),d=Number(bb[x]);if(asc){if(c==aa[x]&&d==bb[x]){return c-d}else{return aa[x]>bb[x]?1:-1}}else{if(c==aa[x]&&d==bb[x]){return d-c}else{return aa[x]>bb[x]?-1:1}}}}return aa.length-bb.length},chunkify:function(t){var tz=[],x=0,y=-1,n=0,i,j;while(i=(j=t.charAt(x++)).charCodeAt(0)){var m=i==45||i==46||i>=48&&i<=57;if(m!==n){tz[++y]="";n=m}tz[y]+=j}return tz}}};window.List=List;window.ListJsHelpers=h})(window);List.prototype.plugins.fuzzySearch=function(locals,options){var self=this;var searchFunction=function(text,pattern,options){var Match_Location=options.location||0;var Match_Distance=options.distance||100;var Match_Threshold=options.threshold||.4;if(pattern===text)return true;if(pattern.length>32)return false;var loc=Match_Location,s=function(){var q={};for(var i=0;i<pattern.length;i++){q[pattern.charAt(i)]=0}for(var i=0;i<pattern.length;i++){q[pattern.charAt(i)]|=1<<pattern.length-i-1}return q}();function match_bitapScore_(e,x){var accuracy=e/pattern.length,proximity=Math.abs(loc-x);if(!Match_Distance){return proximity?1:accuracy}return accuracy+proximity/Match_Distance}var score_threshold=Match_Threshold,best_loc=text.indexOf(pattern,loc);if(best_loc!=-1){score_threshold=Math.min(match_bitapScore_(0,best_loc),score_threshold);best_loc=text.lastIndexOf(pattern,loc+pattern.length);if(best_loc!=-1){score_threshold=Math.min(match_bitapScore_(0,best_loc),score_threshold)}}var matchmask=1<<pattern.length-1;best_loc=-1;var bin_min,bin_mid;var bin_max=pattern.length+text.length;var last_rd;for(var d=0;d<pattern.length;d++){bin_min=0;bin_mid=bin_max;while(bin_min<bin_mid){if(match_bitapScore_(d,loc+bin_mid)<=score_threshold){bin_min=bin_mid}else{bin_max=bin_mid}bin_mid=Math.floor((bin_max-bin_min)/2+bin_min)}bin_max=bin_mid;var start=Math.max(1,loc-bin_mid+1);var finish=Math.min(loc+bin_mid,text.length)+pattern.length;var rd=Array(finish+2);rd[finish+1]=(1<<d)-1;for(var j=finish;j>=start;j--){var charMatch=s[text.charAt(j-1)];if(d===0){rd[j]=(rd[j+1]<<1|1)&charMatch}else{rd[j]=(rd[j+1]<<1|1)&charMatch|((last_rd[j+1]|last_rd[j])<<1|1)|last_rd[j+1]}if(rd[j]&matchmask){var score=match_bitapScore_(d,j-1);if(score<=score_threshold){score_threshold=score;best_loc=j-1;if(best_loc>loc){start=Math.max(1,2*loc-best_loc)}else{break}}}}if(match_bitapScore_(d+1,loc)>score_threshold){break}last_rd=rd}return best_loc<0?false:true};return function(){var func=function(searchString,columns){self.i=1;var searchArguments,foundArgument,matching=[],found,item,text,values,is,multiSearch=typeof options.multiSearch!=="boolean"?true:options.multiSearch,columns=columns===undefined?self.items[0].values():columns,searchString=searchString===undefined?"":searchString,target=searchString.target||searchString.srcElement;searchString=target===undefined?(""+searchString).toLowerCase():""+target.value.toLowerCase();is=self.items;searchArguments=multiSearch?searchString.replace(/ +$/,"").split(/ +/):[searchString];locals.templater.clear();if(searchString===""){locals.reset.search();self.searched=false;self.update()}else{self.searched=true;for(var k=0,kl=is.length;k<kl;k++){found=true;item=is[k];values=item.values();for(var i=0;i<searchArguments.length;i++){foundArgument=false;for(var j in columns){if(values.hasOwnProperty(j)&&columns[j]!==null){text=values[j]!=null?values[j].toString().toLowerCase():"";if(searchFunction(text,searchArguments[i],options)){foundArgument=true}}}if(!foundArgument)found=false}if(found){item.found=true;matching.push(item)}else{item.found=false}}self.update()}return self.visibleItems},timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;func.apply(context,args)};clearTimeout(timeout);timeout=setTimeout(later,100)}}()};
rated_items=[];function rating(id,rating){fillStars(id,rating);ajax({data:{rating:rating,id:id},func:function(data){$("#"+id+"rating .average").replaceWith(data["html"]);rated_items.push(id)},needs:["html"]})}function fillStars(id,rating){num=rating;$("#"+id+"rating .stars .star").each(function(){if(num>0){$(this).attr("class","star selected")}else{$(this).attr("class","star")}num--})}function deleteItem(id){if(confirm("Wollen sie diesen Beitrag wirklich löschen?")){ajax({data:{"delete":0,id:id},func:function(data){$("#"+data["id"]).remove()},needs:["id"]})}}var is_loading=false;var phrase="";var last_item=null;var chocolat_options={};var _page=1;if(window.rating_url!==undefined){var rating_url2=rating_url}function loadItems(){if(this.lock===undefined||this.lock===false){this.lock=true;$this=this;if(window._page<max_page){ajax({type:"GET",url:rating_url2,data:{page:window._page+1,phrase:phrase,start_time:start_time},func:function(data){addLoadedItemsHTML(data["html"]);$this.lock=false}});window._page++}}}function addLoadedItemsHTML(html,is_append){if(arguments.length===1){is_append=true}if(html!==""){if(chocolat_options.length>0){if(is_append){$(".imagelist").append(html)}else{$(".imagelist").prepend(html)}$(".imagelist a.item-content").Chocolat(chocolat_options)}else{if(is_append){$(".content").append(html)}else{$(".content").prepend(html)}}}}jQuery.fn.reverse=[].reverse;function search(_phrase,no_timeout){this.time_buffer=window.search_time_buffer;phrase=_phrase;page=1;var time_diff=0;if(this.last_search_time!==undefined){time_diff=(new Date).getTime()-this.last_search_time}if(this.last_search_time===undefined||time_diff>=this.time_buffer){ajax({type:"GET",data:{page:"1",phrase:phrase,ajax:true},func:function(data){$(".content-item").remove();addLoadedItemsHTML(data["html"]);window.start_time=getTime()}});this.last_search_time=(new Date).getTime()}else{if(time_diff<=this.time_buffer||no_timeout===false){if(this.timeout!==undefined){clearTimeout(this.timeout)}this.timeout=window.setTimeout("search('"+_phrase+"', true)",time_diff)}}}function initBottomLoad(){if(window.max_page!==undefined){$(window).bottom({proximity:.2}).bind("bottom",function(){loadItems()})}}setTimeout("initBottomLoad()",300);if($("#drop_area")!==null&&$("#drop_area").length!==0){$(".imagelist a.item-content").Chocolat(chocolat_options);var dropArea=$(".item-send")[0],file=null,file_content="",file_type="",droparea_html="",droparea_onclick=null,progress=$(".item-send .progress"),progressbar=$(".item-send .progress .bar");function handleFiles(files){if(!files.length)return;var li,fileInfo;file=files[0];if(file.size<max_file_size&&/image/i.test(file.type)){droparea_html=$("#drop_area").html();droparea_onclick=$("#drop_area").attr("onclick");$("#drop_area").attr("onclick","");$("#drop_area").html("");$("#drop-image-area .hide_when_unused").attr("style","display: block");if(typeof FileReader!=="undefined"){$("#drop_area").html("<img />");img=$("#drop_area img");reader=new FileReader;reader.onload=function(theImg){return function(evt){theImg.attr("src",evt.target.result);$("#file_input").val(file);file_content=evt.target.result;$(".item-send .descr").focus();file_type=file.type}}(img);reader.readAsDataURL(file)}}}dropArea.ondragenter=function(evt){evt.stopPropagation();evt.preventDefault();return false};dropArea.ondragover=function(evt){evt.stopPropagation();evt.preventDefault();return false};dropArea.ondrop=function(evt){evt.stopPropagation();evt.preventDefault();handleFiles(evt.dataTransfer.files);return false};var img_id;function byteToMiB(bytes,accuracy){var ac=Math.pow(10,accuracy);return Math.round(bytes/1048567*ac)/ac}function uploadImage(){if(file!==null){if(window.XMLHttpRequest){var xhr=new XMLHttpRequest}else{var xhr=new ActiveXObject("Microsoft.XMLHTTP")}progress.attr("style","display: inline");xhr.upload.onprogress=function(e){if(e.lengthComputable){percent=Math.round(e.loaded*100/e.total);progressbar.attr("style","width: "+percent+"%; display: inline");if(percent<90){progressbar.html(byteToMiB(e.loaded,2)+"MiB von "+byteToMiB(e.total,2)+"MiB hochgeladen")}else{progressbar.html("Erzeugung von Vorschaubildern...");progressbar.attr("style","width: 100%; display: inline")}}};xhr.open("post",rating_url2,true);xhr.overrideMimeType("text/plain; charset=x-user-defined-binary");var fd=new FormData;fd.append("uploaded_file",file);fd.append("description",$(".descr").val());fd.append("category",$("input.img_category").val());fd.append("access_key",access_key);fd.append("rotation","");progress.attr("style","display: visible");xhr.send(fd);xhr.onreadystatechange=function(){if(xhr.status===200&&xhr.readyState===4){var json;try{json=JSON.parse(xhr.responseText)}catch(err){console.log(xhr.responseText);console.log(err)}if(json===null)return;if(json["logs"]!==undefined)add_log_object(json["logs"]);if(json["data"]!==undefined&&json["data"]["html"]!==undefined){$(".item-send").after(json["data"]["html"]);$(".item-send .descr").val("");$("#drop_area").html(droparea_html);$("#drop_area").attr("onclick",droparea_onclick);progress.attr("style","display: none");progressbar.attr("style","width: 0%");$("#drop-image-area .hide_when_unused").attr("style","");file=null;file_content="";$(".imagelist a.item-content").Chocolat(chocolat_options)}}}}}}function sendQuote(is_anonymous,response_to,person){var ele_str;if(response_to&&response_to!=-1)ele_str="#responses_to_"+response_to+" .item-quote-send ";else ele_str=".content > .item-quote-send ";var data={person:person==""?$(ele_str+"input[name=person]").val():person,text:$(ele_str+"textarea").val(),response_to:response_to};if(is_anonymous){data["send_anonymous"]=""}else{data["send"]=""}ajax({data:data,func:function(data){if(response_to==-1){$(".content > .item-quote-send").after(data["html"]);$(".content > .item-quote-send textarea").val("");$(".content > .item-quote-send input").val("")}else{$("#responses_to_"+response_to+" .add_response_container").before(data["html"]);$("#responses_to_"+response_to+" .item-quote-send textarea").val("")}},needs:["html"]})}function sendRumor(is_anonymous,response_to){var data={response_to:response_to};data["text"]=response_to==-1?$(".content > .item-rumor-send textarea").val():$("#responses_to_"+response_to+" .item-rumor-send textarea").val();if(is_anonymous){data["send_anonymous"]=""}else{data["send"]=""}ajax({data:data,func:function(data){if(response_to==-1){$(".content > .item-rumor-send").after(data["html"]);$(".content > .item-rumor-send textarea").val("..., dass")}else{$("#responses_to_"+response_to+" .item-rumor-send").before(data["html"]);$("#responses_to_"+response_to+" .item-rumor-send textarea").val("..., dass")}},needs:["html"]})}function responseToItem(id,person){var container=$("#responses_to_"+id+" .add_response_container");if(container){if(window.item_response_template===undefined){window.item_response_template=Handlebars.compile($("#item-response-template").html())}if(container.children(".item-send").length==0){var html="";var ele=$("#"+id);if(person!=""){html=item_response_template({response_to:id,teacher:person,button_answer_title:"Hinzufügen",button_answer_ano_title:"Anonym hinzufügen"})}else{html=item_response_template({response_to:id,button_answer_title:"Hinzufügen",button_answer_ano_title:"Anonym hinzufügen"})}container.html(html)}else{container.html("")}}}function scrollToTop(){}function userCommentNotify(id){var action=$("#"+id).hasClass("notified_as_bad")?"unnotify":"notify";ajax({data:{action:action,id:id},func:function(data){var msg=data["msg"];var id=data["id"];if(msg!="notified"){$("#"+id).addClass("notified_as_bad");$("#"+id+" .notify").attr("title","Positiv bewerten")}else if(msg!="unnotified"){$("#"+id).removeClass("notified_as_bad");$("#"+id+" .notify").attr("title","Negativ bewerten")}},needs:["id","msg"]})}function sendUserComment(is_anonymous){var data={text:$("#textarea").val()};if(is_anonymous){data["send_anonymous"]=""}else{data["send"]=""}ajax({data:data,func:function(data){$(".write_comment textarea").val("");if(data["html"]!=="")$(".write_comment").after(data["html"])}})}function setResultMode(view_results){ajax({type:"POST",url:ajax_url+"/result_mode",data:{value:view_results},success:function(){location.reload()}})}function updateTimespans(){$(".timediff[time]").each(function(){var ele=$(this);ele.html(timespanText(getTime()-Number(ele.attr("time"))))})}function getTime(){var now=new Date;return Math.round(now.getTime()/1e3)-reference_time_diff_seconds}function timespanText(timediff){var text="";var arr=[[1,60,["Sekunde","n","einer"]],[60,3600,["Minute","n","einer"]],[3600,86400,["Stunde","n","einer"]],[86400,2626560,["Tag","en","einem"]],[2626560,31518720,["Monat","en","einem"]],[31518720,1e10,["Jahr","en","einem"]]];for(var i=0;i<arr.length;i++){var steparr=arr[i];if(steparr[1]>timediff){var value=Math.floor(timediff/steparr[0]);text=(value===1?steparr[2][2]:value)+" "+(value===1?steparr[2][0]:steparr[2][0]+steparr[2][1]);break}}return"Vor "+text}window.setInterval("updateTimespans()",5e3);function deleteUserComment(id){ajax({data:{deleteComment:id},func:function(data){$("#"+data["id"]).remove()},needs:["id"]})}function ajax(args){$this=this;if(this.last_time_updated===undefined){this.last_time_updated=(new Date).getTime();this.last_time_updated_loc=getTime()}var func=function(resp){if(resp===null){args["no_return"](null);return}if(resp["logs"]!==undefined)add_log_object(resp["logs"]);if(resp["data"]!==undefined){if(resp["data"]["ext"]!==undefined){$this.last_time_updated=(new Date).getTime();$this.last_time_updated_loc=getTime();if(resp["data"]["ext"].length!==0){update(resp["data"]["ext"])}}var ok=true;for(var i=0;i<args["needs"].length;i++){var need_data=resp["data"][args["needs"][i]];if(need_data===undefined||need_data===null||need_data===""){ok=false;args["func"](false);return}}if(ok)args["func"](resp["data"])}};args=$.extend({type:"POST",dataType:"json",func:function(data){},success:func,error:function(resp,textStatus){console.error(textStatus,resp.responseText);func($.parseJSON(resp.responseText));$this.use_ajax_url=true},no_return:function(){},func:function(){},needs:[]},args);args["data"]=$.extend({url:$(".item-send").length==0?ajax_url:"",access_key:access_key,last_time_updated:this.last_time_updated_loc,ajax:true},args["data"]);if(args["data"]!==undefined&&typeof args["data"]!=="string")args["data"]=$.param(args["data"]);if(args["only_update"]===true){if(window.auto_update_interval!==undefined&&Number(this.last_time_updated)+Number(auto_update_interval)<(new Date).getTime()){$.ajax(args)}}else{$.ajax(args)}}function update(ext_data){if(ext_data["actions"]!==undefined){if($(".action_list_container").size()!==0){$(".action_list_container ul").html(ext_data["actions"]+$(".action_list_container ul").html())}else if($(".action_list_container").size!==0){$(".action_list_container").html(ext_data["actions"]+$(".action_list_container").html())}}if(ext_data["items"]!==undefined){if($(".item-send").size()!==0){$(".item-send").after(ext_data["items"])}else if($(".action_list_container").size()!==0){$(".action_list_container").prepend(ext_data["items"])}}}var weird_counter=23426;Handlebars.registerHelper("debug",function(optionalValue){console.log("Current Context");console.log("====================");console.log(this);if(optionalValue){console.log("Value");console.log("====================");console.log(optionalValue)}});function add_log_object(object){weird_counter++;if(window.log_table_template_hbs===undefined)window.log_table_template_hbs=Handlebars.compile($("#log_table_template").html());$("#log").append(log_table_template_hbs({id:weird_counter,data:object}));var options={valueNames:["dbt_num","dbt_query_text","dbt_time","dbt_caller","dbt_caller_caller"],plugins:[["fuzzySearch"]]};window["database_query_table_"+weird_counter]=new List("database_query_table_"+weird_counter,options);options={valueNames:["lmt_time","lmt_time","lmt_time","lmt_message","lmt_caller_file","lmt_caller_line","lmt_caller_caller","lmt_caller_caller_file","lmt_caller_caller_line","lmt_type"],plugins:[["fuzzySearch"]]};window["log_messages_table_"+weird_counter]=new List("log_messages_table_"+weird_counter,options);options={valueNames:["tl_message","tl_time"],plugins:[["fuzzySearch"]]};window["time_log_"+weird_counter]=new List("time_log_"+weird_counter,options)}var time_precision=3;Handlebars.registerHelper("s_to_ms",function(value){var precision=Math.pow(10,time_precision);return Math.round(value*1e3*precision)/precision});function deletePoll(id,real_del){if(real_del){$("#"+id).replaceWith('<input type="hidden" name="'+$id+'"/><input type="hidden" name="'+$id+'_action" value="delete"/>')}else{$("#"+id).remove()}}function addPoll(type,ele){weird_counter++;if(window.edit_poll_item_template===undefined){window.edit_poll_item_template=Handlebars.compile($("#edit_poll_item_template").html())}$(ele).before(edit_poll_item_template({id:weird_counter,type:type}))}function testPasswordInput(idOfInput,idOfResult,idOfSubmit){var ele=$("#"+idOfInput);var res=testPassword(ele.val(),idOfResult,idOfSubmit);if(res<=10){ele.attr("class","error")}else if(res>10&&res<25){ele.attr("class","warning")}else{ele.attr("class","success")}}setTimeout(function(){$(function(){$("#poll_tabs a:first").tab("show")})},300);var user_list;$("body").ready(function(){$("#user_table").ready(function(){var options={valueNames:["id","first_name","last_name","math_course","math_teacher","user_mode","activated","visible","comments_moderated","unanswered_ucquestions","mail_adress","is_selected"],plugins:[["fuzzySearch"]]};window.user_table_list=new List("user_table",options)});$("#not_reviewed_comments_table").ready(function(){var options={valueNames:["comment_id","comment_text","commented_user","commenting_user","comment_date"],plugins:[["fuzzySearch"]]};window.not_reviewed_comments_table_list=new List("not_reviewed_comments_table",options)});$("#quote_stats_table").ready(function(){var options={valueNames:["qst_gender","qst_name","qst_number","qst_rating"],plugins:[["fuzzySearch"]]};window.quote_stats_table_list=new List("quote_stats_table",options)});$("#rumor_stats_table").ready(function(){var options={valueNames:["rst_gender","rst_name","rst_number","rst_rating"],plugins:[["fuzzySearch"]]};window.rumor_stats_table_list=new List("rumor_stats_table",options)})});
