
//@ sourceMappingURL=js/min/application.min.js.map
// NOTICE!! DO NOT USE ANY OF THIS JAVASCRIPT
// IT'S ALL JUST JUNK FOR OUR DOCS!
// ++++++++++++++++++++++++++++++++++++++++++
!function(e){e(function(){function s(){var e,s=t.scrollTop();s>=r&&!i?(i=1,n.addClass("subnav-fixed")):s<=r&&i&&(i=0,n.removeClass("subnav-fixed"))}var t=e(window),n=e(".subnav"),r=e(".subnav").length&&e(".subnav").offset().top-40,i=0;s(),n.on("click",function(){i||setTimeout(function(){t.scrollTop(t.scrollTop()-47)},10)}),t.on("scroll",s),e("#fat-btn").click(function(){var t=e(this);t.button("loading"),setTimeout(function(){t.button("reset")},3e3)})})}(window.jQuery);

//@ sourceMappingURL=js/min/bootstrap.min.js.map
/* ===================================================
 * bootstrap-transition.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";function r(){e(t).parent().removeClass("open")}var t='[data-toggle="dropdown"]',n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),i,s,o;if(n.is(".disabled, :disabled"))return;return s=n.attr("data-target"),s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i=e(s),i.length||(i=n.parent()),o=i.hasClass("open"),r(),o||i.toggleClass("open"),!1}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api",r),e("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,n.prototype.toggle)})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&n.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu")&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},isHTML:function(e){return typeof e!="string"||e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.isHTML(t)?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();e(i).collapse(s)})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(e){return e||(this.paused=!0),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f=e.Event("slide");this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n);i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):typeof n=="string"||(n=s.slide)?i[n]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n=this,r,i;return this.query=this.$element.val(),this.query?(r=e.grep(this.source,function(e){return n.matcher(e)}),r=this.sorter(r),r.length?this.render(r.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keypress,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},keypress:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if(e.type!="keydown")break;e.preventDefault(),this.prev();break;case 40:if(e.type!="keydown")break;e.preventDefault(),this.next()}e.stopPropagation()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery);

//@ sourceMappingURL=js/min/handlebars-1.0.0.beta.6.min.js.map
// lib/handlebars/base.js
var Handlebars={};Handlebars.VERSION="1.0.beta.6",Handlebars.helpers={},Handlebars.partials={},Handlebars.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},Handlebars.registerPartial=function(e,t){this.partials[e]=t},Handlebars.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Could not find property '"+e+"'")});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse||function(){},r=t.fn,i="",s=toString.call(e);s===functionType&&(e=e.call(this));if(e===!0)return r(this);if(e===!1||e==null)return n(this);if(s==="[object Array]"){if(e.length>0)for(var o=0,u=e.length;o<u;o++)i+=r(e[o]);else i=n(this);return i}return r(e)}),Handlebars.registerHelper("each",function(e,t){var n=t.fn,r=t.inverse,i="";if(e&&e.length>0)for(var s=0,o=e.length;s<o;s++)i+=n(e[s]);else i=r(this);return i}),Handlebars.registerHelper("if",function(e,t){var n=toString.call(e);return n===functionType&&(e=e.call(this)),!e||Handlebars.Utils.isEmpty(e)?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("unless",function(e,t){var n=t.fn,r=t.inverse;return t.fn=r,t.inverse=n,Handlebars.helpers["if"].call(this,e,t)}),Handlebars.registerHelper("with",function(e,t){return t.fn(e)}),Handlebars.registerHelper("log",function(e){Handlebars.log(e)});var handlebars=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function(t,n,r,i,s,o,u){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=new i.ProgramNode(o[a-2],o[a]);break;case 3:this.$=new i.ProgramNode(o[a]);break;case 4:this.$=new i.ProgramNode([]);break;case 5:this.$=[o[a]];break;case 6:o[a-1].push(o[a]),this.$=o[a-1];break;case 7:this.$=new i.InverseNode(o[a-2],o[a-1],o[a]);break;case 8:this.$=new i.BlockNode(o[a-2],o[a-1],o[a]);break;case 9:this.$=o[a];break;case 10:this.$=o[a];break;case 11:this.$=new i.ContentNode(o[a]);break;case 12:this.$=new i.CommentNode(o[a]);break;case 13:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 14:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 15:this.$=o[a-1];break;case 16:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 17:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1],!0);break;case 18:this.$=new i.PartialNode(o[a-1]);break;case 19:this.$=new i.PartialNode(o[a-2],o[a-1]);break;case 20:break;case 21:this.$=[[o[a-2]].concat(o[a-1]),o[a]];break;case 22:this.$=[[o[a-1]].concat(o[a]),null];break;case 23:this.$=[[o[a-1]],o[a]];break;case 24:this.$=[[o[a]],null];break;case 25:o[a-1].push(o[a]),this.$=o[a-1];break;case 26:this.$=[o[a]];break;case 27:this.$=o[a];break;case 28:this.$=new i.StringNode(o[a]);break;case 29:this.$=new i.IntegerNode(o[a]);break;case 30:this.$=new i.BooleanNode(o[a]);break;case 31:this.$=new i.HashNode(o[a]);break;case 32:o[a-1].push(o[a]),this.$=o[a-1];break;case 33:this.$=[o[a]];break;case 34:this.$=[o[a-2],o[a]];break;case 35:this.$=[o[a-2],new i.StringNode(o[a])];break;case 36:this.$=[o[a-2],new i.IntegerNode(o[a])];break;case 37:this.$=[o[a-2],new i.BooleanNode(o[a])];break;case 38:this.$=new i.IdNode(o[a]);break;case 39:o[a-2].push(o[a]),this.$=o[a-2];break;case 40:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function(t,n){throw new Error(t)},parse:function(t){function d(e){r.length=r.length-2*e,i.length=i.length-e,s.length=s.length-e}function v(){var e;return e=n.lexer.lex()||1,typeof e!="number"&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0,c=2,h=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var m,g,y,b,w,E,S={},x,T,N,C;for(;;){y=r[r.length-1],this.defaultActions[y]?b=this.defaultActions[y]:(m==null&&(m=v()),b=o[y]&&o[y][m]);if(typeof b=="undefined"||!b.length||!b[0])if(!l){C=[];for(x in o[y])this.terminals_[x]&&x>2&&C.push("'"+this.terminals_[x]+"'");var k="";this.lexer.showPosition?k="Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", ")+", got '"+this.terminals_[m]+"'":k="Parse error on line "+(a+1)+": Unexpected "+(m==1?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:p,expected:C})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+m);switch(b[0]){case 1:r.push(m),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(b[1]),m=null,g?(m=g,g=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:T=this.productions_[b[1]][1],S.$=i[i.length-T],S._$={first_line:s[s.length-(T||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(T||1)].first_column,last_column:s[s.length-1].last_column},E=this.performAction.call(S,u,f,a,this.yy,b[1],i,s);if(typeof E!="undefined")return E;T&&(r=r.slice(0,-1*T*2),i=i.slice(0,-1*T),s=s.slice(0,-1*T)),r.push(this.productions_[b[1]][0]),i.push(S.$),s.push(S._$),N=o[r[r.length-2]][r[r.length-1]],r.push(N);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(t,n){if(!this.yy.parseError)throw new Error(t);this.yy.parseError(t,n)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e;var t=e.match(/\n/);return t&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");var i=this._currentRules();for(var s=0;s<i.length;s++){t=this._input.match(this.rules[i[s]]);if(t){r=t[0].match(/\n.*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[s],this.conditionStack[this.conditionStack.length-1]);if(e)return e;return}}if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return typeof t!="undefined"?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return e.performAction=function(t,n,r,i){var s=i;switch(r){case 0:n.yytext.slice(-1)!=="\\"&&this.begin("mu"),n.yytext.slice(-1)==="\\"&&(n.yytext=n.yytext.substr(0,n.yyleng-1),this.begin("emu"));if(n.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return n.yytext=n.yytext.substr(3,n.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 34;case 13:return 33;case 14:return 33;case 15:return 36;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return n.yytext=n.yytext.substr(1,n.yyleng-2).replace(/\\"/g,'"'),28;case 20:return 30;case 21:return 30;case 22:return 29;case 23:return 33;case 24:return n.yytext=n.yytext.substr(1,n.yyleng-2),33;case 25:return"INVALID";case 26:return 5}},e.rules=[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/,/^./,/^$/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,26],inclusive:!0}},e}();return e.lexer=t,e}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=handlebars,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if(typeof process!="undefined")var n=require("fs").readFileSync(require("path").join(process.cwd(),t[1]),"utf8");else var r=require("file").path(require("file").cwd()),n=r.join(t[1]).read({charset:"utf-8"});return exports.parser.parse(n)},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args)),Handlebars.Parser=handlebars,Handlebars.parse=function(e){return Handlebars.Parser.yy=Handlebars.AST,Handlebars.Parser.parse(e)},Handlebars.print=function(e){return(new Handlebars.PrintVisitor).accept(e)},Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){}},Handlebars.log=function(e,t){Handlebars.logger.log(e,t)},function(){Handlebars.AST={},Handlebars.AST.ProgramNode=function(e,t){this.type="program",this.statements=e,t&&(this.inverse=new Handlebars.AST.ProgramNode(t))},Handlebars.AST.MustacheNode=function(e,t,n){this.type="mustache",this.id=e[0],this.params=e.slice(1),this.hash=t,this.escaped=!n},Handlebars.AST.PartialNode=function(e,t){this.type="partial",this.id=e,this.context=t};var e=function(e,t){if(e.original!==t.original)throw new Handlebars.Exception(e.original+" doesn't match "+t.original)};Handlebars.AST.BlockNode=function(t,n,r){e(t.id,r),this.type="block",this.mustache=t,this.program=n},Handlebars.AST.InverseNode=function(t,n,r){e(t.id,r),this.type="inverse",this.mustache=t,this.program=n},Handlebars.AST.ContentNode=function(e){this.type="content",this.string=e},Handlebars.AST.HashNode=function(e){this.type="hash",this.pairs=e},Handlebars.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");var t=[],n=0;for(var r=0,i=e.length;r<i;r++){var s=e[r];s===".."?n++:s==="."||s==="this"?this.isScoped=!0:t.push(s)}this.parts=t,this.string=t.join("."),this.depth=n,this.isSimple=t.length===1&&n===0},Handlebars.AST.StringNode=function(e){this.type="STRING",this.string=e},Handlebars.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},Handlebars.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},Handlebars.AST.CommentNode=function(e){this.type="comment",this.comment=e}}(),Handlebars.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.message=t.message},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/&(?!\w+;)|[<>"'`]/g,n=/[&<>"'`]/,r=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():e==null||e===!1?"":n.test(e)?e.replace(t,r):e},isEmpty:function(e){return typeof e=="undefined"?!0:e===null?!0:e===!1?!0:Object.prototype.toString.call(e)==="[object Array]"&&e.length===0?!0:!1}}}(),Handlebars.Compiler=function(){},Handlebars.JavaScriptCompiler=function(){},function(e,t){e.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16},e.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1},e.DISASSEMBLE_MAP={};for(var n in e.OPCODE_MAP){var r=e.OPCODE_MAP[n];e.DISASSEMBLE_MAP[r]=n}e.multiParamSize=function(t){return e.MULTI_PARAM_OPCODES[e.DISASSEMBLE_MAP[t]]},e.prototype={compiler:e,disassemble:function(){var t=this.opcodes,n,r,i=[],s,o,u;for(var a=0,f=t.length;a<f;a++){n=t[a];if(n==="DECLARE")o=t[++a],u=t[++a],i.push("DECLARE "+o+" = "+u);else{s=e.DISASSEMBLE_MAP[n];var l=e.multiParamSize(n),c=[];for(var h=0;h<l;h++)r=t[++a],typeof r=="string"&&(r='"'+r.replace("\n","\\n")+'"'),c.push(r);s=s+" "+c.join(" "),i.push(s)}}return i.join("\n")},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t=e.statements,n;this.opcodes=[];for(var r=0,i=t.length;r<i;r++)n=t[r],this[n.type](n);return this.isSimple=i===1,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||t.usePartial,this.children[n]=t;for(var r=0,i=t.depths.list.length;r<i;r++){depth=t.depths.list[r];if(depth<2)continue;this.addDepth(depth-1)}return n},block:function(e){var t=e.mustache,n,r,i,s,o=this.setupStackForMustache(t),u=this.compileProgram(e.program);e.program.inverse&&(s=this.compileProgram(e.program.inverse),this.declare("inverse",s)),this.opcode("invokeProgram",u,o.length,!!t.hash),this.declare("inverse",null),this.opcode("append")},inverse:function(e){var t=this.setupStackForMustache(e.mustache),n=this.compileProgram(e.program);this.declare("inverse",n),this.opcode("invokeProgram",null,t.length,!!e.mustache.hash),this.declare("inverse",null),this.opcode("append")},hash:function(e){var t=e.pairs,n,r;this.opcode("push","{}");for(var i=0,s=t.length;i<s;i++)n=t[i],r=n[1],this.accept(r),this.opcode("assignToHash",n[0])},partial:function(e){var t=e.id;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.setupStackForMustache(e);this.opcode("invokeMustache",t.length,e.id.original,!!e.hash),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("lookupWithHelpers",e.parts[0]||null,e.isScoped||!1);for(var t=1,n=e.parts.length;t<n;t++)this.opcode("lookup",e.parts[t])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("push",e.integer)},BOOLEAN:function(e){this.opcode("push",e.bool)},comment:function(){},pushParams:function(e){var t=e.length,n;while(t--)n=e[t],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.string)):this[n.type](n)},opcode:function(t,n,r,i){this.opcodes.push(e.OPCODE_MAP[t]),n!==undefined&&this.opcodes.push(n),r!==undefined&&this.opcodes.push(r),i!==undefined&&this.opcodes.push(i)},declare:function(e,t){this.opcodes.push("DECLARE"),this.opcodes.push(e),this.opcodes.push(t)},addDepth:function(e){if(e===0)return;this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e))},setupStackForMustache:function(e){var t=e.params;return this.pushParams(t),e.hash&&this.hash(e.hash),this.ID(e.id),t}},t.prototype={nameLookup:function(e,n,r){return/^[0-9]+$/.test(n)?e+"["+n+"]":t.isValidJavaScriptVariableName(n)?e+"."+n:e+"['"+n+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t||{},this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],aliases:{self:"this"},registers:{list:[]}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.compileChildren(e,t);var i=e.opcodes,s;this.i=0;for(u=i.length;this.i<u;this.i++)s=this.nextOpcode(0),s[0]==="DECLARE"?(this.i=this.i+2,this[s[1]]=s[2]):(this.i=this.i+s[1].length,this[s[0]].apply(this,s[1]));return this.createFunctionContext(r)},nextOpcode:function(t){var n=this.environment.opcodes,r=n[this.i+t],i,s,o,u;if(r==="DECLARE")return i=n[this.i+1],s=n[this.i+2],["DECLARE",i,s];i=e.DISASSEMBLE_MAP[r],o=e.multiParamSize(r),u=[];for(var a=0;a<o;a++)u.push(n[this.i+a+1+t]);return[i,u]},eat:function(e){this.i=this.i+e.length},preamble:function(){var e=[];this.useRegister("foundHelper");if(!this.isChild){var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),e.push(n)}else e.push("");this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars;this.isChild||(t=t.concat(this.context.registers.list)),t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", "));if(!this.isChild){var n=[];for(var r in this.context.aliases)this.source[1]=this.source[1]+", "+r+"="+this.context.aliases[r]}this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var s=0,o=this.environment.depths.list.length;s<o;s++)i.push("depth"+this.environment.depths.list[s]);if(e)return i.push(this.source.join("\n  ")),Function.apply(this,i);var u="function "+(this.name||"")+"("+i.join(",")+") {\n  "+this.source.join("\n  ")+"}";return Handlebars.log(Handlebars.logger.DEBUG,u+"\n\n"),u},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(1),t="";this.context.aliases.escapeExpression="this.escapeExpression",e[0]==="appendContent"&&(t=" + "+this.quotedString(e[1][0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupWithHelpers:function(e,t){if(e){var n=this.nextStack();this.usingKnownHelper=!1;var r;!t&&this.options.knownHelpers[e]?(r=n+" = "+this.nameLookup("helpers",e,"helper"),this.usingKnownHelper=!0):t||this.options.knownHelpersOnly?r=n+" = "+this.nameLookup("depth"+this.lastContext,e,"context"):(this.register("foundHelper",this.nameLookup("helpers",e,"helper")),r=n+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,e,"context")),r+=";",this.source.push(r)}else this.pushStack("depth"+this.lastContext)},lookup:function(e){var t=this.topStack();this.source.push(t+" = ("+t+" === null || "+t+" === undefined || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")+");")},pushStringParam:function(e){this.pushStack("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStack(this.quotedString(e))},push:function(e){this.pushStack(e)},invokeMustache:function(e,t,n){this.populateParams(e,this.quotedString(t),"{}",null,n,function(e,t,n){this.usingKnownHelper||(this.context.aliases.helperMissing="helpers.helperMissing",this.context.aliases.undef="void 0",this.source.push("else if("+n+"=== undef) { "+e+" = helperMissing.call("+t+"); }"),e!==n&&this.source.push("else { "+e+" = "+n+"; }"))})},invokeProgram:function(e,t,n){var r=this.programExpression(this.inverse),i=this.programExpression(e);this.populateParams(t,null,i,r,n,function(e,t,n){this.usingKnownHelper||(this.context.aliases.blockHelperMissing="helpers.blockHelperMissing",this.source.push("else { "+e+" = blockHelperMissing.call("+t+"); }"))})},populateParams:function(e,t,n,r,i,s){var o=i||this.options.stringParams||r||this.options.data,u=this.popStack(),a,f=[],l,c,h;o?(this.register("tmp1",n),h="tmp1"):h="{ hash: {} }";if(o){var p=i?this.popStack():"{}";this.source.push("tmp1.hash = "+p+";")}this.options.stringParams&&this.source.push("tmp1.contexts = [];");for(var d=0;d<e;d++)l=this.popStack(),f.push(l),this.options.stringParams&&this.source.push("tmp1.contexts.push("+this.popStack()+");");r&&(this.source.push("tmp1.fn = tmp1;"),this.source.push("tmp1.inverse = "+r+";")),this.options.data&&this.source.push("tmp1.data = data;"),f.push(h),this.populateCall(f,u,t||u,s,n!=="{}")},populateCall:function(e,t,n,r,i){var s=["depth0"].concat(e).join(", "),o=["depth0"].concat(n).concat(e).join(", "),u=this.nextStack();if(this.usingKnownHelper)this.source.push(u+" = "+t+".call("+s+");");else{this.context.aliases.functionType='"function"';var a=i?"foundHelper && ":"";this.source.push("if("+a+"typeof "+t+" === functionType) { "+u+" = "+t+".call("+s+"); }")}r.call(this,u,o,t),this.usingKnownHelper=!1},invokePartial:function(e){params=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"],this.options.data&&params.push("data"),this.pushStack("self.invokePartial("+params.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),n=this.topStack();this.source.push(n+"['"+e+"'] = "+t+";")},compiler:t,compileChildren:function(e,t){var n=e.children,r,i;for(var s=0,o=n.length;s<o;s++){r=n[s],i=new this.compiler,this.context.programs.push("");var u=this.context.programs.length;r.index=u,r.name="program"+u,this.context.programs[u]=i.compile(r,t,this.context)}},programExpression:function(e){if(e==null)return"self.noop";var t=this.environment.children[e],n=t.depths.list,r=[t.index,t.name,"data"];for(var i=0,s=n.length;i<s;i++)depth=n[i],depth===1?r.push("depth0"):r.push("depth"+(depth-1));return n.length===0?"self.program("+r.join(", ")+")":(r.shift(),"self.programWithDepth("+r.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.context.registers[e]||(this.context.registers[e]=!0,this.context.registers.list.push(e))},pushStack:function(e){return this.source.push(this.nextStack()+" = "+e+";"),"stack"+this.stackSlot},nextStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};var i="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),s=t.RESERVED_WORDS={};for(var o=0,u=i.length;o<u;o++)s[i[o]]=!0;t.isValidJavaScriptVariableName=function(e){return!t.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(Handlebars.Compiler,Handlebars.JavaScriptCompiler),Handlebars.precompile=function(e,t){t=t||{};var n=Handlebars.parse(e),r=(new Handlebars.Compiler).compile(n,t);return(new Handlebars.JavaScriptCompiler).compile(r,t)},Handlebars.compile=function(e,t){function r(){var n=Handlebars.parse(e),r=(new Handlebars.Compiler).compile(n,t),i=(new Handlebars.JavaScriptCompiler).compile(r,t,undefined,!0);return Handlebars.template(i)}t=t||{};var n;return function(e,t){return n||(n=r()),n.call(this,e,t)}},Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var r=this.programs[e];return n?Handlebars.VM.program(t,n):r?r:(r=this.programs[e]=Handlebars.VM.program(t),r)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,r){return r=r||{},e.call(t,Handlebars,n,r.helpers,r.partials,r.data)}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,2);return function(n,i){return i=i||{},e.apply(this,[n,i.data||t].concat(r))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,r,i,s){options={helpers:r,partials:i,data:s};if(e===undefined)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,options);if(!Handlebars.compile)throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode");return i[t]=Handlebars.compile(e),i[t](n,options)}},Handlebars.template=Handlebars.VM.template;

//@ sourceMappingURL=js/min/jquery.wysiwyg.min.js.map
/**
 * WYSIWYG - jQuery plugin 0.97
 * (0.97.2 - From infinity)
 *
 * Copyright (c) 2008-2009 Juan M Martinez, 2010-2011 Akzhan Abdulin and all contributors
 * https://github.com/akzhan/jwysiwyg
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 *//*jslint browser: true, forin: true */(function(e){"use strict";function r(){this.controls={bold:{groupIndex:0,visible:!0,tags:["b","strong"],css:{fontWeight:"bold"},tooltip:"Bold",hotkey:{ctrl:1,key:66}},copy:{groupIndex:8,visible:!1,tooltip:"Copy"},createLink:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.link?e.wysiwyg.controls.link.init(this):t.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")},tags:["a"],tooltip:"Create link"},unLink:{groupIndex:6,visible:!0,exec:function(){this.editorDoc.execCommand("unlink",!1,null)},tooltip:"Remove link"},cut:{groupIndex:8,visible:!1,tooltip:"Cut"},decreaseFontSize:{groupIndex:9,visible:!1,tags:["small"],tooltip:"Decrease font size",exec:function(){this.decreaseFontSize()}},h1:{groupIndex:7,visible:!0,className:"h1",command:e.browser.msie||e.browser.safari?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.safari?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:!0,className:"h2",command:e.browser.msie||e.browser.safari?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.safari?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:!0,className:"h3",command:e.browser.msie||e.browser.safari?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.safari?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},highlight:{tooltip:"Highlight",className:"highlight",groupIndex:1,visible:!1,css:{backgroundColor:"rgb(255, 255, 102)"},exec:function(){var t,n,r,i;e.browser.msie||e.browser.safari?t="backcolor":t="hilitecolor";if(e.browser.msie)n=this.getInternalRange().parentElement();else{r=this.getInternalSelection(),n=r.extentNode||r.focusNode;while(n.style===undefined){n=n.parentNode;if(n.tagName&&n.tagName.toLowerCase()==="body")return}}n.style.backgroundColor==="rgb(255, 255, 102)"||n.style.backgroundColor==="#ffff66"?i="#ffffff":i="#ffff66",this.editorDoc.execCommand(t,!1,i)}},html:{groupIndex:10,visible:!1,exec:function(){var t;this.options.resizeOptions&&e.fn.resizable&&(t=this.element.height()),this.viewHTML?(this.setContent(this.original.value),e(this.original).hide(),this.editor.show(),this.options.resizeOptions&&e.fn.resizable&&(t===this.element.height()&&this.element.height(t+this.editor.height()),this.element.resizable(e.extend(!0,{alsoResize:this.editor},this.options.resizeOptions))),this.ui.toolbar.find("li").each(function(){var t=e(this);t.hasClass("html")?t.removeClass("active"):t.removeClass("disabled")})):(this.saveContent(),e(this.original).css({width:this.element.outerWidth()-6,height:this.element.height()-this.ui.toolbar.height()-6,resize:"none"}).show(),this.editor.hide(),this.options.resizeOptions&&e.fn.resizable&&(t===this.element.height()&&this.element.height(this.ui.toolbar.height()),this.element.resizable("destroy")),this.ui.toolbar.find("li").each(function(){var t=e(this);t.hasClass("html")?t.addClass("active"):!1===t.hasClass("fullscreen")&&t.removeClass("active").addClass("disabled")})),this.viewHTML=!this.viewHTML},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:!1,tags:["big"],tooltip:"Increase font size",exec:function(){this.increaseFontSize()}},indent:{groupIndex:2,visible:!0,tooltip:"Indent"},insertHorizontalRule:{groupIndex:6,visible:!0,tags:["hr"],tooltip:"Insert Horizontal Rule"},insertImage:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.image?e.wysiwyg.controls.image.init(this):e.wysiwyg.autoload?e.wysiwyg.autoload.control("wysiwyg.image.js",function(){n.controls.insertImage.exec.apply(n)}):t.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")},tags:["img"],tooltip:"Insert image"},insertOrderedList:{groupIndex:5,visible:!0,tags:["ol"],tooltip:"Insert Ordered List"},insertTable:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.table?e.wysiwyg.controls.table(this):e.wysiwyg.autoload?e.wysiwyg.autoload.control("wysiwyg.table.js",function(){n.controls.insertTable.exec.apply(n)}):t.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:!0,tags:["ul"],tooltip:"Insert Unordered List"},italic:{groupIndex:0,visible:!0,tags:["i","em"],css:{fontStyle:"italic"},tooltip:"Italic",hotkey:{ctrl:1,key:73}},justifyCenter:{groupIndex:1,visible:!0,tags:["center"],css:{textAlign:"center"},tooltip:"Justify Center"},justifyFull:{groupIndex:1,visible:!0,css:{textAlign:"justify"},tooltip:"Justify Full"},justifyLeft:{visible:!0,groupIndex:1,css:{textAlign:"left"},tooltip:"Justify Left"},justifyRight:{groupIndex:1,visible:!0,css:{textAlign:"right"},tooltip:"Justify Right"},ltr:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return t?(e(t).attr("dir","ltr"),!0):!1},tooltip:"Left to Right"},outdent:{groupIndex:2,visible:!0,tooltip:"Outdent"},paragraph:{groupIndex:7,visible:!1,className:"paragraph",command:"FormatBlock",arguments:e.browser.msie||e.browser.safari?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:8,visible:!1,tooltip:"Paste"},redo:{groupIndex:4,visible:!0,tooltip:"Redo"},removeFormat:{groupIndex:10,visible:!0,exec:function(){this.removeFormat()},tooltip:"Remove formatting"},rtl:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return t?(e(t).attr("dir","rtl"),!0):!1},tooltip:"Right to Left"},strikeThrough:{groupIndex:0,visible:!0,tags:["s","strike"],css:{textDecoration:"line-through"},tooltip:"Strike-through"},subscript:{groupIndex:3,visible:!0,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:!0,tags:["sup"],tooltip:"Superscript"},underline:{groupIndex:0,visible:!0,tags:["u"],css:{textDecoration:"underline"},tooltip:"Underline",hotkey:{ctrl:1,key:85}},undo:{groupIndex:4,visible:!0,tooltip:"Undo"},code:{visible:!0,groupIndex:6,tooltip:"Code snippet",exec:function(){var t=this.getInternalRange(),n=e(t.commonAncestorContainer),r=t.commonAncestorContainer.nodeName.toLowerCase();n.parent("code").length?n.unwrap():r!=="body"&&n.wrap("<code/>")}},cssWrap:{visible:!1,groupIndex:6,tooltip:"CSS Wrapper",exec:function(){e.wysiwyg.controls.cssWrap.init(this)}}},this.defaults={html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" style="margin:0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body style="margin:0;">INITIAL_CONTENT</body></html>',debug:!1,controls:{},css:{},events:{},autoGrow:!1,autoSave:!0,brIE:!0,formHeight:270,formWidth:440,iFrameClass:null,initialContent:"<p>Initial content</p>",maxHeight:1e4,maxLength:0,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"></ul>',removeHeadings:!1,replaceDivWithP:!1,resizeOptions:!1,rmUnusedControls:!1,rmUnwantedBr:!0,tableFiller:"Lorem ipsum",initialMinHeight:null,controlImage:{forceRelativeUrls:!1},controlLink:{forceRelativeUrls:!1},plugins:{autoload:!1,i18n:!1,rmFormat:{rmMsWordMarkup:!1}},dialog:"default"},this.availableControlProperties=["arguments","callback","className","command","css","custom","exec","groupIndex","hotkey","icon","tags","tooltip","visible"],this.editor=null,this.editorDoc=null,this.element=null,this.options={},this.original=null,this.savedRange=null,this.timers=[],this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46],this.isDestroyed=!1,this.dom={ie:{parent:null},w3c:{parent:null}},this.dom.parent=this,this.dom.ie.parent=this.dom,this.dom.w3c.parent=this.dom,this.ui={},this.ui.self=this,this.ui.toolbar=null,this.ui.initialHeight=null,this.dom.getAncestor=function(e,t){t=t.toLowerCase();while(e&&typeof e.tagName!="undefined"&&"body"!==e.tagName.toLowerCase()){if(t===e.tagName.toLowerCase())return e;e=e.parentNode}if(!e.tagName&&(e.previousSibling||e.nextSibling)){if(e.previousSibling&&e.previousSibling.tagName.toLowerCase()==t)return e.previousSibling;if(e.nextSibling&&e.nextSibling.tagName.toLowerCase()==t)return e.nextSibling}return null},this.dom.getElement=function(e){var t=this;return e=e.toLowerCase(),window.getSelection?t.w3c.getElement(e):t.ie.getElement(e)},this.dom.ie.getElement=function(e){var t=this.parent,n=t.parent.getInternalSelection(),r=n.createRange(),i;if("Control"===n.type){if(1!==r.length)return null;i=r.item(0)}else i=r.parentElement();return t.getAncestor(i,e)},this.dom.w3c.getElement=function(e){var t=this.parent,n=t.parent.getInternalRange(),r;if(!n)return null;r=n.commonAncestorContainer,3===r.nodeType&&(r=r.parentNode),r===n.startContainer&&(r=r.childNodes[n.startOffset]);if(!r.tagName&&(r.previousSibling||r.nextSibling)){if(r.previousSibling&&r.previousSibling.tagName.toLowerCase()==e)return r.previousSibling;if(r.nextSibling&&r.nextSibling.tagName.toLowerCase()==e)return r.nextSibling}return t.getAncestor(r,e)},this.ui.addHoverClass=function(){e(this).addClass("wysiwyg-button-hover")},this.ui.appendControls=function(){var t=this,n=this.self,r=n.parseControls(),i=!0,s=[],o={},u,a,f=function(e,n){n.groupIndex&&a!==n.groupIndex&&(a=n.groupIndex,i=!1);if(!n.visible)return;i||(t.appendItemSeparator(),i=!0),n.custom?t.appendItemCustom(e,n):t.appendItem(e,n)};e.each(r,function(e,t){var n="empty";undefined!==t.groupIndex&&(""===t.groupIndex?n="empty":n=t.groupIndex),undefined===o[n]&&(s.push(n),o[n]={}),o[n][e]=t}),s.sort(function(e,t){return"number"==typeof e&&typeof e==typeof t?e-t:(e=e.toString(),t=t.toString(),e>t?1:e===t?0:-1)}),0<s.length&&(a=s[0]);for(u=0;u<s.length;u+=1)e.each(o[s[u]],f)},this.ui.appendItem=function(t,n){var r=this.self,i=n.className||n.command||t||"empty",s=n.tooltip||n.command||t||"";return e('<li role="menuitem" unselectable="on">'+i+"</li>").addClass(i).attr("title",s).hover(this.addHoverClass,this.removeHoverClass).click(function(i){if(e(this).hasClass("disabled"))return!1;r.triggerControl.apply(r,[t,n]);var s=e(i.target);for(var o in r.controls)if(s.hasClass(o)){r.ui.toolbar.find("."+o).toggleClass("active"),r.editorDoc.rememberCommand=!0;break}return this.blur(),r.ui.returnRange(),r.ui.focus(),!0}).appendTo(r.ui.toolbar)},this.ui.appendItemCustom=function(t,n){var r=this.self,i=n.tooltip||n.command||t||"";return n.callback&&e(window).bind("trigger-"+t+".wysiwyg",n.callback),e('<li role="menuitem" unselectable="on" style="background: url(\''+n.icon+"') no-repeat;\"></li>").addClass("custom-command-"+t).addClass("wysiwyg-custom-command").addClass(t).attr("title",i).hover(this.addHoverClass,this.removeHoverClass).click(function(){return e(this).hasClass("disabled")?!1:(r.triggerControl.apply(r,[t,n]),this.blur(),r.ui.returnRange(),r.ui.focus(),r.triggerControlCallback(t),!0)}).appendTo(r.ui.toolbar)},this.ui.appendItemSeparator=function(){var t=this.self;return e('<li role="separator" class="separator"></li>').appendTo(t.ui.toolbar)},this.autoSaveFunction=function(){this.saveContent()},this.ui.checkTargets=function(t){var n=this.self;e.each(n.options.controls,function(r,i){var s=i.className||i.command||r||"empty",o,u,a,f,l=function(e,t){var r;"function"==typeof t?(r=t,r(f.css(e).toString().toLowerCase(),n)&&n.ui.toolbar.find("."+s).addClass("active")):f.css(e).toString().toLowerCase()===t&&n.ui.toolbar.find("."+s).addClass("active")};"fullscreen"!==s&&n.ui.toolbar.find("."+s).removeClass("active");if(i.tags||i.options&&i.options.tags){o=i.tags||i.options&&i.options.tags,u=t;while(u){if(u.nodeType!==1)break;e.inArray(u.tagName.toLowerCase(),o)!==-1&&n.ui.toolbar.find("."+s).addClass("active"),u=u.parentNode}}if(i.css||i.options&&i.options.css){a=i.css||i.options&&i.options.css,f=e(t);while(f){if(f[0].nodeType!==1)break;e.each(a,l),f=f.parent()}}})},this.ui.designMode=function(){var e=3,t=this.self,n;n=function(e){if("on"===t.editorDoc.designMode){t.timers.designMode&&window.clearTimeout(t.timers.designMode),t.innerDocument()!==t.editorDoc&&t.ui.initFrame();return}try{t.editorDoc.designMode="on"}catch(r){}e-=1,e>0&&(t.timers.designMode=window.setTimeout(function(){n(e)},100))},n(e)},this.destroy=function(){this.isDestroyed=!0;var t,n=this.element.closest("form");for(t=0;t<this.timers.length;t+=1)window.clearTimeout(this.timers[t]);return n.unbind(".wysiwyg"),this.element.remove(),e.removeData(this.original,"wysiwyg"),e(this.original).show(),this},this.getRangeText=function(){var e=this.getInternalRange();return e.toString?e=e.toString():e.text&&(e=e.text),e},this.execute=function(e,t){typeof t=="undefined"&&(t=null),this.editorDoc.execCommand(e,!1,t)},this.extendOptions=function(t){var n={};return"object"==typeof t.controls&&(n=t.controls,delete t.controls),t=e.extend(!0,{},this.defaults,t),t.controls=e.extend(!0,{},n,this.controls,n),t.rmUnusedControls&&e.each(t.controls,function(e){n[e]||delete t.controls[e]}),t},this.ui.focus=function(){var e=this.self;return e.editor.get(0).contentWindow.focus(),e},this.ui.returnRange=function(){var e=this.self,n;if(e.savedRange!==null){if(window.getSelection){n=window.getSelection(),n.rangeCount>0&&n.removeAllRanges();try{n.addRange(e.savedRange)}catch(r){t.error(r)}}else window.document.createRange?window.getSelection().addRange(e.savedRange):window.document.selection&&e.savedRange.select();e.savedRange=null}},this.increaseFontSize=function(){if(e.browser.mozilla||e.browser.opera)this.editorDoc.execCommand("increaseFontSize",!1,null);else if(e.browser.safari){var n=this.getInternalRange(),r=this.getInternalSelection(),i=this.editorDoc.createElement("big");if(!0===n.collapsed&&3===n.commonAncestorContainer.nodeType){var s=n.commonAncestorContainer.nodeValue.toString(),o=s.lastIndexOf(" ",n.startOffset)+1,u=-1===s.indexOf(" ",n.startOffset)?s:s.indexOf(" ",n.startOffset);n.setStart(n.commonAncestorContainer,o),n.setEnd(n.commonAncestorContainer,u),n.surroundContents(i),r.addRange(n)}else n.surroundContents(i),r.removeAllRanges(),r.addRange(n)}else t.error("Internet Explorer?")},this.decreaseFontSize=function(){if(e.browser.mozilla||e.browser.opera)this.editorDoc.execCommand("decreaseFontSize",!1,null);else if(e.browser.safari){var n=this.getInternalRange(),r=this.getInternalSelection(),i=this.editorDoc.createElement("small");if(!0===n.collapsed&&3===n.commonAncestorContainer.nodeType){var s=n.commonAncestorContainer.nodeValue.toString(),o=s.lastIndexOf(" ",n.startOffset)+1,u=-1===s.indexOf(" ",n.startOffset)?s:s.indexOf(" ",n.startOffset);n.setStart(n.commonAncestorContainer,o),n.setEnd(n.commonAncestorContainer,u),n.surroundContents(i),r.addRange(n)}else n.surroundContents(i),r.removeAllRanges(),r.addRange(n)}else t.error("Internet Explorer?")},this.getContent=function(){return this.viewHTML&&this.setContent(this.original.value),this.events.filter("getContent",this.editorDoc.body.innerHTML)},this.events={_events:{},bind:function(e,t){typeof this._events.eventName!="object"&&(this._events[e]=[]),this._events[e].push(t)},trigger:function(t,n){if(typeof this._events.eventName=="object"){var r=this.editor;e.each(this._events[t],function(e,t){typeof t=="function"&&t.apply(r,n)})}},filter:function(t,n){if(typeof this._events[t]=="object"){var r=this.editor,i=Array.prototype.slice.call(arguments,1);e.each(this._events[t],function(e,t){typeof t=="function"&&(n=t.apply(r,i))})}return n}},this.getElementByAttributeValue=function(t,n,r){var i,s,o=this.editorDoc.getElementsByTagName(t);for(i=0;i<o.length;i+=1){s=o[i].getAttribute(n),e.browser.msie&&(s=s.substr(s.length-r.length));if(s===r)return o[i]}return!1},this.getInternalRange=function(){var e=this.getInternalSelection();return e?e.rangeCount&&e.rangeCount>0?e.getRangeAt(0):e.createRange?e.createRange():null:null},this.getInternalSelection=function(){if(this.editor.get(0).contentWindow){if(this.editor.get(0).contentWindow.getSelection)return this.editor.get(0).contentWindow.getSelection();if(this.editor.get(0).contentWindow.selection)return this.editor.get(0).contentWindow.selection}return this.editorDoc.getSelection?this.editorDoc.getSelection():this.editorDoc.selection?this.editorDoc.selection:null},this.getRange=function(){var e=this.getSelection();if(!e)return null;if(e.rangeCount&&e.rangeCount>0)e.getRangeAt(0);else if(e.createRange)return e.createRange();return null},this.getSelection=function(){return window.getSelection?window.getSelection():window.document.selection},this.ui.grow=function(){var t=this.self,n=e(t.editorDoc.body),r=e.browser.msie?n[0].scrollHeight:n.height()+2+20,i=t.ui.initialHeight,s=Math.max(r,i);return s=Math.min(s,t.options.maxHeight),t.editor.attr("scrolling",s<t.options.maxHeight?"no":"auto"),n.css("overflow",s<t.options.maxHeight?"hidden":""),t.editor.get(0).height=s,t},this.init=function(t,n){var r=this,i=e(t).closest("form"),s=t.width||t.clientWidth||0,o=t.height||t.clientHeight||0;this.options=this.extendOptions(n),this.original=t,this.ui.toolbar=e(this.options.toolbarHtml),e.browser.msie&&parseInt(e.browser.version,10)<8&&(this.options.autoGrow=!1),s===0&&t.cols&&(s=t.cols*8+21),o===0&&t.rows&&(o=t.rows*16+16),this.editor=e(window.location.protocol==="https:"?'<iframe src="javascript:false;"></iframe>':"<iframe></iframe>").attr("frameborder","0"),this.options.iFrameClass?this.editor.addClass(this.options.iFrameClass):(this.editor.css({minHeight:(o-6).toString()+"px",width:s>50?s.toString()+"px":""}),e.browser.msie&&parseInt(e.browser.version,10)<7&&this.editor.css("height",o.toString()+"px"));if(t.id){var u=t.id+"-wysiwyg-iframe";document.getElementById(u)||this.editor.attr("id",u)}this.editor.attr("tabindex",e(t).attr("tabindex")),this.element=e("<div/>").addClass("wysiwyg"),this.options.iFrameClass||this.element.css({width:s>0?s.toString()+"px":"100%"}),e(t).hide().before(this.element),this.viewHTML=!1,this.initialContent=e(t).val(),this.ui.initFrame(),this.options.resizeOptions&&e.fn.resizable&&this.element.resizable(e.extend(!0,{alsoResize:this.editor},this.options.resizeOptions)),this.options.autoSave&&i.bind("submit.wysiwyg",function(){r.autoSaveFunction()}),i.bind("reset.wysiwyg",function(){r.resetFunction()})},this.ui.initFrame=function(){var n=this.self,r,i,s;n.ui.appendControls(),n.element.append(n.ui.toolbar).append(e("<div><!-- --></div>").css({clear:"both"})).append(n.editor),n.editorDoc=n.innerDocument();if(n.isDestroyed)return null;n.ui.designMode(),n.editorDoc.open(),n.editorDoc.write(n.options.html.replace(/INITIAL_CONTENT/,function(){return n.wrapInitialContent()})),n.editorDoc.close(),e.wysiwyg.plugin.bind(n),e(n.editorDoc).trigger("initFrame.wysiwyg"),e(n.editorDoc).bind("click.wysiwyg",function(e){n.ui.checkTargets(e.target?e.target:e.srcElement)}),setInterval(function(){var e=null;try{var r=n.getInternalRange();r&&(e={range:r,parent:r.endContainer.parentNode,width:r.startOffset-r.endOffset||0})}catch(i){t.error(i)}e&&e.width==0&&!n.editorDoc.rememberCommand&&n.ui.checkTargets(e.parent)},400),e(n.original).focus(function(){if(e(this).filter(":visible").length===0||e.browser.opera)return;n.ui.focus()}),e(n.editorDoc).keydown(function(e){var t;if(e.keyCode===8){t=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/;if(t.test(n.getContent()))return e.stopPropagation(),!1}return n.editorDoc.rememberCommand=!1,!0}),e.browser.msie?n.options.brIE&&e(n.editorDoc).keydown(function(e){if(e.keyCode===13){var t=n.getRange();return t.pasteHTML("<br/>"),t.collapse(!1),t.select(),!1}return!0}):e(n.editorDoc).keydown(function(e){var t,r;if(e.ctrlKey||e.metaKey)for(t in n.options.controls){r=n.options.controls[t];if(r.hotkey&&r.hotkey.ctrl&&e.keyCode===r.hotkey.key)return n.triggerControl.apply(n,[t,r]),!1}return!0}),n.options.plugins.rmFormat.rmMsWordMarkup&&e(n.editorDoc).bind("keyup.wysiwyg",function(t){(t.ctrlKey||t.metaKey)&&86===t.keyCode&&e.wysiwyg.rmFormat&&("object"==typeof n.options.plugins.rmFormat.rmMsWordMarkup?e.wysiwyg.rmFormat.run(n,{rules:{msWordMarkup:n.options.plugins.rmFormat.rmMsWordMarkup}}):e.wysiwyg.rmFormat.run(n,{rules:{msWordMarkup:{enabled:!0}}}))}),n.options.autoSave&&e(n.editorDoc).keydown(function(){n.autoSaveFunction()}).keyup(function(){n.autoSaveFunction()}).mousedown(function(){n.autoSaveFunction()}).bind(e.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",function(){n.autoSaveFunction()}),n.options.autoGrow&&(n.options.initialMinHeight!==null?n.ui.initialHeight=n.options.initialMinHeight:n.ui.initialHeight=e(n.editorDoc).height(),e(n.editorDoc.body).css("border","1px solid white"),i=function(){n.ui.grow()},e(n.editorDoc).keyup(i),e(n.editorDoc).bind("editorRefresh.wysiwyg",i),n.ui.grow()),n.options.css&&(String===n.options.css.constructor?e.browser.msie?(r=n.editorDoc.createStyleSheet(n.options.css),e(r).attr({media:"all"})):(r=e("<link/>").attr({href:n.options.css,media:"all",rel:"stylesheet",type:"text/css"}),e(n.editorDoc).find("head").append(r)):n.timers.initFrame_Css=window.setTimeout(function(){e(n.editorDoc.body).css(n.options.css)},0)),n.initialContent.length===0&&("function"==typeof n.options.initialContent?n.setContent(n.options.initialContent()):n.setContent(n.options.initialContent)),n.options.maxLength>0&&e(n.editorDoc).keydown(function(t){e(n.editorDoc).text().length>=n.options.maxLength&&e.inArray(t.which,n.validKeyCodes)===-1&&t.preventDefault()}),e.each(n.options.events,function(t,r){e(n.editorDoc).bind(t+".wysiwyg",function(e){r.apply(n.editorDoc,[e,n])})}),e.browser.msie?e(n.editorDoc).bind("beforedeactivate.wysiwyg",function(){n.savedRange=n.getInternalRange()}):e(n.editorDoc).bind("blur.wysiwyg",function(){n.savedRange=n.getInternalRange()}),e(n.editorDoc.body).addClass("wysiwyg"),n.options.events&&n.options.events.save&&(s=n.options.events.save,e(n.editorDoc).bind("keyup.wysiwyg",s),e(n.editorDoc).bind("change.wysiwyg",s),e.support.noCloneEvent?e(n.editorDoc).bind("input.wysiwyg",s):(e(n.editorDoc).bind("paste.wysiwyg",s),e(n.editorDoc).bind("cut.wysiwyg",s)));if(n.options.xhtml5&&n.options.unicode){var o={ne:8800,le:8804,para:182,xi:958,darr:8595,nu:957,oacute:243,Uacute:218,omega:969,prime:8242,pound:163,igrave:236,thorn:254,forall:8704,emsp:8195,lowast:8727,brvbar:166,alefsym:8501,nbsp:160,delta:948,clubs:9827,lArr:8656,Omega:937,Auml:196,cedil:184,and:8743,plusmn:177,ge:8805,raquo:187,uml:168,equiv:8801,laquo:171,rdquo:8221,Epsilon:917,divide:247,fnof:402,chi:967,Dagger:8225,iacute:237,rceil:8969,sigma:963,Oslash:216,acute:180,frac34:190,lrm:8206,upsih:978,Scaron:352,part:8706,exist:8707,nabla:8711,image:8465,prop:8733,zwj:8205,omicron:959,aacute:225,Yuml:376,Yacute:221,weierp:8472,rsquo:8217,otimes:8855,kappa:954,thetasym:977,harr:8596,Ouml:214,Iota:921,ograve:242,sdot:8901,copy:169,oplus:8853,acirc:226,sup:8835,zeta:950,Iacute:205,Oacute:211,crarr:8629,Nu:925,bdquo:8222,lsquo:8216,apos:39,Beta:914,eacute:233,egrave:232,lceil:8968,Kappa:922,piv:982,Ccedil:199,ldquo:8220,Xi:926,cent:162,uarr:8593,hellip:8230,Aacute:193,ensp:8194,sect:167,Ugrave:217,aelig:230,ordf:170,curren:164,sbquo:8218,macr:175,Phi:934,Eta:919,rho:961,Omicron:927,sup2:178,euro:8364,aring:229,Theta:920,mdash:8212,uuml:252,otilde:245,eta:951,uacute:250,rArr:8658,nsub:8836,agrave:224,notin:8713,ndash:8211,Psi:936,Ocirc:212,sube:8838,szlig:223,micro:181,not:172,sup1:185,middot:183,iota:953,ecirc:234,lsaquo:8249,thinsp:8201,sum:8721,ntilde:241,scaron:353,cap:8745,atilde:227,lang:10216,__replacement:65533,isin:8712,gamma:947,Euml:203,ang:8736,upsilon:965,Ntilde:209,hearts:9829,Alpha:913,Tau:932,spades:9824,dagger:8224,THORN:222,"int":8747,lambda:955,Eacute:201,Uuml:220,infin:8734,rlm:8207,Aring:197,ugrave:249,Egrave:200,Acirc:194,rsaquo:8250,ETH:208,oslash:248,alpha:945,Ograve:210,Prime:8243,mu:956,ni:8715,real:8476,bull:8226,beta:946,icirc:238,eth:240,prod:8719,larr:8592,ordm:186,perp:8869,Gamma:915,reg:174,ucirc:251,Pi:928,psi:968,tilde:732,asymp:8776,zwnj:8204,Agrave:192,deg:176,AElig:198,times:215,Delta:916,sim:8764,Otilde:213,Mu:924,uArr:8657,circ:710,theta:952,Rho:929,sup3:179,diams:9830,tau:964,Chi:935,frac14:188,oelig:339,shy:173,or:8744,dArr:8659,phi:966,iuml:239,Lambda:923,rfloor:8971,iexcl:161,cong:8773,ccedil:231,Icirc:206,frac12:189,loz:9674,rarr:8594,cup:8746,radic:8730,frasl:8260,euml:235,OElig:338,hArr:8660,Atilde:195,Upsilon:933,there4:8756,ouml:246,oline:8254,Ecirc:202,yacute:253,auml:228,permil:8240,sigmaf:962,iquest:191,empty:8709,pi:960,Ucirc:219,supe:8839,Igrave:204,yen:165,rang:10217,trade:8482,lfloor:8970,minus:8722,Zeta:918,sub:8834,epsilon:949,yuml:255,Sigma:931,Iuml:207,ocirc:244};n.events.bind("getContent",function(e){return e.replace(/&(?:amp;)?(?!amp|lt|gt|quot)([a-z][a-z0-9]*);/gi,function(e,t){o[t]||(t=t.toLowerCase(),o[t]||(t="__replacement"));var n=o[t];return String.fromCharCode(n)})})}e(n.original).trigger("ready.jwysiwyg",[n.editorDoc,n])},this.innerDocument=function(){var e=this.editor.get(0);if(e.nodeName.toLowerCase()==="iframe"){if(e.contentDocument)return e.contentDocument;if(e.contentWindow)return e.contentWindow.document;if(this.isDestroyed)return null;t.error("Unexpected error in innerDocument")}return e},this.insertHtml=function(t){var n,r;return!t||t.length===0?this:(e.browser.msie?(this.ui.focus(),this.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),n=this.getElementByAttributeValue("img","src","#jwysiwyg#"),n&&e(n).replaceWith(t)):e.browser.mozilla?1===e(t).length?(r=this.getInternalRange(),r.deleteContents(),r.insertNode(e(t).get(0))):this.editorDoc.execCommand("insertHTML",!1,t):this.editorDoc.execCommand("insertHTML",!1,t)||(this.editor.focus(),this.editorDoc.execCommand("insertHTML",!1,t)),this.saveContent(),this)},this.parseControls=function(){var t=this;return e.each(this.options.controls,function(n,r){e.each(r,function(r){if(-1===e.inArray(r,t.availableControlProperties))throw n+'["'+r+'"]: property "'+r+'" not exists in Wysiwyg.availableControlProperties'})}),this.options.parseControls?this.options.parseControls.call(this):this.options.controls},this.removeFormat=function(){return e.browser.msie&&this.ui.focus(),this.options.removeHeadings&&this.editorDoc.execCommand("formatBlock",!1,"<p>"),this.editorDoc.execCommand("removeFormat",!1,null),this.editorDoc.execCommand("unlink",!1,null),e.wysiwyg.rmFormat&&e.wysiwyg.rmFormat.enabled&&("object"==typeof this.options.plugins.rmFormat.rmMsWordMarkup?e.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:this.options.plugins.rmFormat.rmMsWordMarkup}}):e.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:{enabled:!0}}})),this},this.ui.removeHoverClass=function(){e(this).removeClass("wysiwyg-button-hover")},this.resetFunction=function(){this.setContent(this.initialContent)},this.saveContent=function(){if(this.viewHTML)return;if(this.original){var t,n;t=this.getContent(),this.options.rmUnwantedBr&&(t=t.replace(/<br\/?>$/,"")),this.options.replaceDivWithP&&(n=e("<div/>").addClass("temp").append(t),n.children("div").each(function(){var t=e(this),n=t.find("p"),r;if(0===n.length){n=e("<p></p>");if(this.attributes.length>0)for(r=0;r<this.attributes.length;r+=1)n.attr(this.attributes[r].name,t.attr(this.attributes[r].name));n.append(t.html()),t.replaceWith(n)}}),t=n.html()),e(this.original).val(t).change(),this.options.events&&this.options.events.save&&this.options.events.save.call(this)}return this},this.setContent=function(e){return this.editorDoc.body.innerHTML=e,this.saveContent(),this},this.triggerControl=function(e,n){var r=n.command||e,i=n.arguments||[];if(n.exec)n.exec.apply(this);else{this.ui.focus(),this.ui.withoutCss();try{this.editorDoc.execCommand(r,!1,i)}catch(s){t.error(s)}}this.options.autoSave&&this.autoSaveFunction()},this.triggerControlCallback=function(t){e(window).trigger("trigger-"+t+".wysiwyg",[this])},this.ui.withoutCss=function(){var t=this.self;if(e.browser.mozilla)try{t.editorDoc.execCommand("styleWithCSS",!1,!1)}catch(n){try{t.editorDoc.execCommand("useCSS",!1,!0)}catch(r){}}return t},this.wrapInitialContent=function(){var e=this.initialContent,t=e.match(/<\/?p>/gi);return t?e:"<p>"+e+"</p>"}}var t=window.console?window.console:{log:e.noop,error:function(t){e.error(t)}},n="prop"in e.fn&&"removeProp"in e.fn;e.wysiwyg={messages:{noObject:"Something goes wrong, check object"},addControl:function(t,n,r){return t.each(function(){var t=e(this).data("wysiwyg"),i={},s;if(!t)return this;i[n]=e.extend(!0,{visible:!0,custom:!0},r),e.extend(!0,t.options.controls,i),s=e(t.options.toolbarHtml),t.ui.toolbar.replaceWith(s),t.ui.toolbar=s,t.ui.appendControls()})},clear:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.setContent("")})},console:t,destroy:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.destroy()})},document:function(t){var n=t.data("wysiwyg");return n?e(n.editorDoc):undefined},getContent:function(e){var t=e.data("wysiwyg");return t?t.getContent():undefined},getSelection:function(e){var t=e.data("wysiwyg");return t?t.getRangeText():undefined},init:function(t,n){return t.each(function(){var t=e.extend(!0,{},n),i;if("textarea"!==this.nodeName.toLowerCase()||e(this).data("wysiwyg"))return;i=new r,i.init(this,t),e.data(this,"wysiwyg",i),e(i.editorDoc).trigger("afterInit.wysiwyg")})},insertHtml:function(t,n){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.insertHtml(n)})},plugin:{listeners:{},bind:function(t){var n=this;e.each(this.listeners,function(r,i){var s,o;for(s=0;s<i.length;s+=1)o=n.parseName(i[s]),e(t.editorDoc).bind(r+".wysiwyg",{plugin:o},function(n){e.wysiwyg[n.data.plugin.name][n.data.plugin.method].apply(e.wysiwyg[n.data.plugin.name],[t])})})},exists:function(t){var n;return"string"!=typeof t?!1:(n=this.parseName(t),!e.wysiwyg[n.name]||!e.wysiwyg[n.name][n.method]?!1:!0)},listen:function(t,n){var r;return r=this.parseName(n),!e.wysiwyg[r.name]||!e.wysiwyg[r.name][r.method]?!1:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n),!0)},parseName:function(e){var t;return"string"!=typeof e?!1:(t=e.split("."),2>t.length?!1:{name:t[0],method:t[1]})},register:function(n){return n.name||t.error("Plugin name missing"),e.each(e.wysiwyg,function(e){e===n.name&&t.error("Plugin with name '"+n.name+"' was already registered")}),e.wysiwyg[n.name]=n,!0}},removeFormat:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.removeFormat()})},save:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.saveContent()})},selectAll:function(e){var t=e.data("wysiwyg"),n,r,i;if(!t)return this;n=t.editorDoc.body,window.getSelection?(i=t.getInternalSelection(),i.selectAllChildren(n)):(r=n.createTextRange(),r.moveToElementText(n),r.select())},setContent:function(t,n){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.setContent(n)})},triggerControl:function(n,r){return n.each(function(){var n=e(this).data("wysiwyg");if(!n)return this;n.controls[r]||t.error("Control '"+r+"' not exists"),n.triggerControl.apply(n,[r,n.controls[r]])})},support:{prop:n},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(t){var n=this,r,i=[];return this.extraSafeEntities[1].length===0&&e.each(this.extraSafeEntities[0],function(e,t){n.extraSafeEntities[1].push(t.charCodeAt(0))}),r=t.split(""),e.each(r,function(t){var s=r[t].charCodeAt(0);e.inArray(s,n.extraSafeEntities[1])&&(s<65||s>127||s>90&&s<97)?i.push("&#"+s+";"):i.push(r[t])}),i.join("")}}},e.wysiwyg.dialog=function(t,n){var r=t&&t.options&&t.options.dialog?t.options.dialog:n.theme?n.theme:"default",i=new e.wysiwyg.dialog.createDialog(r),s=this,o=e(s);return this.options={modal:!0,draggable:!0,title:"Title",content:"Content",width:"auto",height:"auto",zIndex:2e3,open:!1,close:!1},this.isOpen=!1,e.extend(this.options,n),this.object=i,this.open=function(){this.isOpen=!0,i.init.apply(s,[]);var e=i.show.apply(s,[]);o.trigger("afterOpen",[e])},this.show=function(){this.isOpen=!0,o.trigger("beforeShow");var e=i.show.apply(s,[]);o.trigger("afterShow")},this.hide=function(){this.isOpen=!1,o.trigger("beforeHide");var e=i.hide.apply(s,[]);o.trigger("afterHide",[e])},this.close=function(){this.isOpen=!1;var e=i.hide.apply(s,[]);o.trigger("beforeClose",[e]),i.destroy.apply(s,[]),o.trigger("afterClose",[e]),t.ui.focus()},this.options.open&&o.bind("afterOpen",this.options.open),this.options.close&&o.bind("afterClose",this.options.close),this},e.extend(!0,e.wysiwyg.dialog,{_themes:{},_theme:"",register:function(t,n){e.wysiwyg.dialog._themes[t]=n},deregister:function(t){delete e.wysiwyg.dialog
._themes[t]},createDialog:function(t){return new e.wysiwyg.dialog._themes[t]},getDimensions:function(){var t=document.body.scrollWidth,n=document.body.scrollHeight;return e.browser.opera&&(n=Math.max(e(document).height(),e(window).height(),document.documentElement.clientHeight)),[t,n]}}),e(function(){jQuery.ui&&e.wysiwyg.dialog.register("jqueryui",function(){var t=this;this._$dialog=null,this.init=function(){var n=this,r=this.options.content;typeof r=="object"&&(typeof r.html=="function"?r=r.html():typeof r.toString=="function"&&(r=r.toString())),t._$dialog=e("<div></div>").attr("title",this.options.title).html(r);var i=this.options.height=="auto"?300:this.options.height,s=this.options.width=="auto"?450:this.options.width;return t._$dialog.dialog({modal:this.options.modal,draggable:this.options.draggable,height:i,width:s}),t._$dialog},this.show=function(){return t._$dialog.dialog("open"),t._$dialog},this.hide=function(){return t._$dialog.dialog("close"),t._$dialog},this.destroy=function(){return t._$dialog.dialog("destroy"),t._$dialog}}),e.wysiwyg.dialog.register("default",function(){var t=this;this._$dialog=null,this.init=function(){var n=this,r=this.options.content;typeof r=="object"&&(typeof r.html=="function"?r=r.html():typeof r.toString=="function"&&(r=r.toString())),t._$dialog=e('<div class="wysiwyg-dialog"></div>').css({"z-index":this.options.zIndex});var i=e('<div class="wysiwyg-dialog-topbar"><div class="wysiwyg-dialog-close-wrapper"></div><div class="wysiwyg-dialog-title">'+this.options.title+"</div></div>"),s=e('<a href="#" class="wysiwyg-dialog-close-button">X</a>');s.click(function(){n.close()}),i.find(".wysiwyg-dialog-close-wrapper").prepend(s);var o=e('<div class="wysiwyg-dialog-content">'+r+"</div>");t._$dialog.append(i).append(o);var u=this.options.height=="auto"?300:this.options.height,a=this.options.width=="auto"?450:this.options.width;return t._$dialog.hide().css({width:a,height:u,left:(e(window).width()-a)/2,top:(e(window).height()-u)/3}),e("body").append(t._$dialog),t._$dialog},this.show=function(){if(this.options.modal){var n=e.wysiwyg.dialog.getDimensions(),r=e('<div class="wysiwyg-dialog-modal-div"></div>').css({width:n[0],height:n[1]});t._$dialog.wrap(r)}if(this.options.draggable){var i=!1;t._$dialog.find("div.wysiwyg-dialog-topbar").bind("mousedown",function(t){t.preventDefault(),e(this).css({cursor:"move"});var n=e(this),r=e(this).parents(".wysiwyg-dialog"),s=t.pageX-parseInt(r.css("left"),10),o=t.pageY-parseInt(r.css("top"),10);i=!0,e(this).css({cursor:"move"}),e(document).bind("mousemove",function(e){e.preventDefault(),i&&r.css({top:e.pageY-o,left:e.pageX-s})}).bind("mouseup",function(t){t.preventDefault(),i=!1,n.css({cursor:"auto"}),e(document).unbind("mousemove").unbind("mouseup")})})}return t._$dialog.show(),t._$dialog},this.hide=function(){return t._$dialog.hide(),t._$dialog},this.destroy=function(){return this.options.modal&&t._$dialog.unwrap(),this.options.draggable&&t._$dialog.find("div.wysiwyg-dialog-topbar").unbind("mousedown"),t._$dialog.remove(),t._$dialog}})}),e.fn.wysiwyg=function(n){var r=arguments,i;if("undefined"!=typeof e.wysiwyg[n])return r=Array.prototype.concat.call([r[0]],[this],Array.prototype.slice.call(r,1)),e.wysiwyg[n].apply(e.wysiwyg,Array.prototype.slice.call(r,1));if("object"==typeof n||!n)return Array.prototype.unshift.call(r,this),e.wysiwyg.init.apply(e.wysiwyg,r);if(e.wysiwyg.plugin.exists(n))return i=e.wysiwyg.plugin.parseName(n),r=Array.prototype.concat.call([r[0]],[this],Array.prototype.slice.call(r,1)),e.wysiwyg[i.name][i.method].apply(e.wysiwyg[i.name],Array.prototype.slice.call(r,1));t.error("Method '"+n+"' does not exist on jQuery.wysiwyg.\nTry to include some extra controls or plugins")},e.fn.getWysiwyg=function(){return this.data("wysiwyg")}})(jQuery),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.i18n.js depends on $.wysiwyg";var t={name:"i18n",version:"",defaults:{lang:"en",wysiwygLang:"en"},lang:{},options:{},init:function(t,n){if(!t.options.plugins[this.name])return!0;this.options=e.extend(!0,this.defaults,t.options.plugins[this.name]),n?this.options.lang=n:n=this.options.lang;if(n!==this.options.wysiwygLang&&undefined===e.wysiwyg.i18n.lang[n]){if(!e.wysiwyg.autoload)throw'Language "'+n+'" not found in $.wysiwyg.i18n. You need to include this language file';e.wysiwyg.autoload.lang("lang."+n+".js",function(){e.wysiwyg.i18n.init(t,n)})}this.translateControls(t,n)},translateControls:function(t,n){t.ui.toolbar.find("li").each(function(){t.options.controls[e(this).attr("class")]&&t.options.controls[e(this).attr("class")].visible&&e(this).attr("title",e.wysiwyg.i18n.t(t.options.controls[e(this).attr("class")].tooltip,"controls",n))})},run:function(t,n){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;e.wysiwyg.i18n.init(t,n)})},t:function(e,t,n){var r,i,s;n||(n=this.options.lang);if(n===this.options.wysiwygLang||!this.lang[n])return e;s=this.lang[n],i=t.split(".");for(r=0;r<i.length;r+=1)s[i[r]]&&(s=s[i[r]]);return s[e]?s[e]:e}};e.wysiwyg.plugin.register(t),e.wysiwyg.plugin.listen("initFrame","i18n.init")}(jQuery),function(e){if(undefined===e.wysiwyg)throw"lang.de.js depends on $.wysiwyg";if(undefined===e.wysiwyg.i18n)throw"lang.de.js depends on $.wysiwyg.i18n";e.wysiwyg.i18n.lang.de={controls:{Bold:"Fett",Colorpicker:"Farbe wählen",Copy:"Kopieren","Create link":"Link erstellen",Cut:"Ausschneiden","Decrease font size":"Schriftgröße verkleinern",Fullscreen:"Vollbild","Header 1":"Überschrift 1","Header 2":"Überschrift 2","Header 3":"Überschrift 3","View source code":"Quellcode anzeigen","Increase font size":"Schriftgröße vergrößern",Indent:"Einrücken","Insert Horizontal Rule":"Horizontalen Trennbalken einfügen","Insert image":"Bild einfügen","Insert Ordered List":"Nummerierte Liste einfügen","Insert table":"Tabelle einfügen","Insert Unordered List":"Unnummerierte Liste einfügen",Italic:"Kursiv","Justify Center":"Zentrieren","Justify Full":"Blocksatz","Justify Left":"Links ausrichten","Justify Right":"Rechts ausrichten","Left to Right":"Links nach Rechts",Outdent:"Einrückung zurücknehmen",Paste:"Einfügen",Redo:"Wiederherstellen","Remove formatting":"Formatierung entfernen","Right to Left":"Rechts nach Links","Strike-through":"Durchstreichen",Subscript:"Tiefstellen",Superscript:"Hochstellen",Underline:"Unterstreichen",Undo:"Rückgängig"},dialogs:{Apply:"Anwenden",Cancel:"Abbrechen",colorpicker:{Colorpicker:"Farbwähler",Color:"Farbe"},image:{"Insert Image":"Bild einfügen",Preview:"Vorschau",URL:"URL",Title:"Titel",Description:"Beschreibung",Width:"Breite",Height:"Höhe","Original W x H":"Original W x H",Float:"",None:"",Left:"",Right:""},link:{"Insert Link":"Link einfügen","Link URL":"Link URL","Link Title":"Link Titel","Link Target":"Link Ziel"},table:{"Insert table":"Tabelle einfügen","Count of columns":"Spaltenanzahl","Count of rows":"Zeilenanzahl"}}}}(jQuery),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.fullscreen.js depends on $.wysiwyg";var t={name:"fullscreen",version:"",defaults:{css:{editor:{width:"100%",height:"100%"},element:{width:"100%",height:"100%",position:"fixed",left:"0px",top:"0px",background:"rgb(255, 255, 255)",padding:"0px","border-bottom-color":"","border-bottom-style":"","border-bottom-width":"0px","border-left-color":"","border-left-style":"","border-left-width":"0px","border-right-color":"","border-right-style":"","border-right-width":"0px","border-top-color":"","border-top-style":"","border-top-width":"0px","z-index":1e3},original:{width:"100%",height:"100%",position:"fixed",left:"0px",top:"0px",background:"rgb(255, 255, 255)",padding:"0px","border-bottom-color":"","border-bottom-style":"","border-bottom-width":"0px","border-left-color":"","border-left-style":"","border-left-width":"0px","border-right-color":"","border-right-style":"","border-right-width":"0px","border-top-color":"","border-top-style":"","border-top-width":"0px","z-index":1e3}}},options:{},originalBoundary:{editor:{},element:{},original:{}},init:function(t,n){n=n||{},this.options=e.extend(!0,this.defaults,n),t.ui.toolbar.find(".fullscreen").hasClass("active")?(this.restore(t),t.ui.toolbar.find(".fullscreen").removeClass("active")):(this.stretch(t),t.ui.toolbar.find(".fullscreen").addClass("active"))},restore:function(t){var n;for(n in this.defaults.css.editor)t.editor.css(n,this.originalBoundary.editor[n]),this.originalBoundary.editor[n]=null;for(n in this.defaults.css.element)t.element.css(n,this.originalBoundary.element[n]),this.originalBoundary.element[n]=null;for(n in this.defaults.css.original)e(t.original).css(n,this.originalBoundary.original[n]),this.originalBoundary.original[n]=null},stretch:function(t){var n;for(n in this.defaults.css.editor)this.originalBoundary.editor[n]=t.editor.css(n);for(n in this.defaults.css.element)this.originalBoundary.element[n]=t.element.css(n);for(n in this.defaults.css.original)this.originalBoundary.original[n]=e(t.original).css(n);for(n in this.defaults.css.editor)t.editor.css(n,this.options.css.editor[n]);for(n in this.defaults.css.element)t.element.css(n,this.options.css.element[n]);this.options.css.original.top=t.ui.toolbar.css("height");for(n in this.defaults.css.original)e(t.original).css(n,this.options.css.original[n])}};e.wysiwyg.plugin.register(t)}(jQuery),function(e){"use strict";if(undefined===e.wysiwyg)throw"wysiwyg.table.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={});var t=function(e,t,n){if(isNaN(t)||isNaN(e)||t===null||e===null)return;var r,i,s=['<table border="1" style="width: 100%;"><tbody>'];e=parseInt(e,10),t=parseInt(t,10),n===null&&(n="&nbsp;"),n="<td>"+n+"</td>";for(r=t;r>0;r-=1){s.push("<tr>");for(i=e;i>0;i-=1)s.push(n);s.push("</tr>")}return s.push("</tbody></table>"),this.insertHtml(s.join(""))};e.wysiwyg.controls.table=function(n){var r,i,s,o,u,a,f,l,c;a={legend:"Insert table",cols:"Count of columns",rows:"Count of rows",submit:"Insert table",reset:"Cancel"},u='<form class="wysiwyg" id="wysiwyg-tableInsert"><fieldset><legend>{legend}</legend><label>{cols}: <input type="text" name="colCount" value="3" /></label><br/><label>{rows}: <input type="text" name="rowCount" value="3" /></label><br/><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(f in a)e.wysiwyg.i18n&&(l=e.wysiwyg.i18n.t(a[f],"dialogs.table"),l===a[f]&&(l=e.wysiwyg.i18n.t(a[f],"dialogs")),a[f]=l),c=new RegExp("{"+f+"}","g"),u=u.replace(c,a[f]);n.insertTable||(n.insertTable=t),r=new e.wysiwyg.dialog(n,{title:a.legend,content:u,open:function(e,t){t.find("form#wysiwyg-tableInsert").submit(function(e){return e.preventDefault(),o=t.find("input[name=rowCount]").val(),s=t.find("input[name=colCount]").val(),n.insertTable(s,o,n.defaults.tableFiller),r.close(),!1}),t.find("input:reset").click(function(e){return e.preventDefault(),r.close(),!1})}}),r.open(),e(n.editorDoc).trigger("editorRefresh.wysiwyg")},e.wysiwyg.insertTable=function(n,r,i,s){return n.each(function(){var n=e(this).data("wysiwyg");return n.insertTable||(n.insertTable=t),n?(n.insertTable(r,i,s),e(n.editorDoc).trigger("editorRefresh.wysiwyg"),this):this})}}(jQuery),function(e){"use strict";if(undefined===e.wysiwyg)throw"wysiwyg.link.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.link={init:function(t){var n=this,r,i,s,o,u,a,f,l,c,h,p,d;f={legend:"Insert Link",url:"Link URL",title:"Link Title",target:"Link Target",submit:"Insert Link",reset:"Cancel"},a='<form class="wysiwyg"><fieldset><legend>{legend}</legend><label>{url}: <input type="text" name="linkhref" value=""/></label><label>{title}: <input type="text" name="linktitle" value=""/></label><label>{target}: <input type="text" name="linktarget" value=""/></label><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(l in f)e.wysiwyg.i18n&&(c=e.wysiwyg.i18n.t(f[l],"dialogs.link"),c===f[l]&&(c=e.wysiwyg.i18n.t(f[l],"dialogs")),f[l]=c),h=new RegExp("{"+l+"}","g"),a=a.replace(h,f[l]);o={self:t.dom.getElement("a"),href:"http://",title:"",target:""},o.self&&(o.href=o.self.href?o.self.href:o.href,o.title=o.self.title?o.self.title:"",o.target=o.self.target?o.self.target:"");if(e.fn.dialog){r=e(a),r.find("input[name=linkhref]").val(o.href),r.find("input[name=linktitle]").val(o.title),r.find("input[name=linktarget]").val(o.target);if(e.browser.msie)try{i=r.appendTo(t.editorDoc.body)}catch(v){i=r.appendTo("body")}else i=r.appendTo("body");i.dialog({modal:!0,open:function(n,r){e("input:submit",i).click(function(n){n.preventDefault();var r=e('input[name="linkhref"]',i).val(),s=e('input[name="linktitle"]',i).val(),a=e('input[name="linktarget"]',i).val(),f,l;t.options.controlLink.forceRelativeUrls&&(f=window.location.protocol+"//"+window.location.hostname,0===r.indexOf(f)&&(r=r.substr(f.length))),o.self?"string"==typeof r&&(r.length>0?e(o.self).attr("href",r).attr("title",s).attr("target",a):e(o.self).replaceWith(o.self.innerHTML)):(e.browser.msie&&t.ui.returnRange(),u=t.getRangeText(),l=t.dom.getElement("img"),u&&u.length>0||l?(e.browser.msie&&t.ui.focus(),"string"==typeof r&&(r.length>0?t.editorDoc.execCommand("createLink",!1,r):t.editorDoc.execCommand("unlink",!1,null)),o.self=t.dom.getElement("a"),e(o.self).attr("href",r).attr("title",s),e(o.self).attr("target",a)):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection)),t.saveContent(),e(i).dialog("close")}),e("input:reset",i).click(function(t){t.preventDefault(),e(i).dialog("close")})},close:function(e,t){i.dialog("destroy"),i.remove()}})}else o.self?(s=window.prompt("URL",o.href),t.options.controlLink.forceRelativeUrls&&(p=window.location.protocol+"//"+window.location.hostname,0===s.indexOf(p)&&(s=s.substr(p.length))),"string"==typeof s&&(s.length>0?e(o.self).attr("href",s):e(o.self).replaceWith(o.self.innerHTML))):(u=t.getRangeText(),d=t.dom.getElement("img"),u&&u.length>0||d?e.browser.msie?(t.ui.focus(),t.editorDoc.execCommand("createLink",!0,null)):(s=window.prompt(f.url,o.href),t.options.controlLink.forceRelativeUrls&&(p=window.location.protocol+"//"+window.location.hostname,0===s.indexOf(p)&&(s=s.substr(p.length))),"string"==typeof s&&(s.length>0?t.editorDoc.execCommand("createLink",!1,s):t.editorDoc.execCommand("unlink",!1,null))):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection)),t.saveContent();e(t.editorDoc).trigger("editorRefresh.wysiwyg")}},e.wysiwyg.createLink=function(t,n){return t.each(function(){var t=e(this).data("wysiwyg"),r;return t?!n||n.length===0?this:(r=t.getRangeText(),r&&r.length>0?(e.browser.msie&&t.ui.focus(),t.editorDoc.execCommand("unlink",!1,null),t.editorDoc.execCommand("createLink",!1,n)):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection),this):this})}}(jQuery),function(e){"use strict";if(undefined===e.wysiwyg)throw"wysiwyg.image.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.image={groupIndex:6,visible:!0,exec:function(){e.wysiwyg.controls.image.init(this)},tags:["img"],tooltip:"Insert image",init:function(t){var n=this,r,i,s,o,u,a,f,l,c={alt:"",self:t.dom?t.dom.getElement("img"):null,src:"http://",title:""};a={legend:"Insert Image",preview:"Preview",url:"URL",title:"Title",description:"Description",width:"Width",height:"Height",original:"Original W x H","float":"Float",floatNone:"None",floatLeft:"Left",floatRight:"Right",submit:"Insert Image",reset:"Cancel",fileManagerIcon:"Select file from server"},o='<form class="wysiwyg" id="wysiwyg-addImage"><fieldset><div class="form-row"><span class="form-row-key">{preview}:</span><div class="form-row-value"><img src="" alt="{preview}" style="margin: 2px; padding:5px; max-width: 100%; overflow:hidden; max-height: 100px; border: 1px solid rgb(192, 192, 192);"/></div></div><div class="form-row"><label for="name">{url}:</label><div class="form-row-value"><input type="text" name="src" value=""/>',e.wysiwyg.fileManager&&e.wysiwyg.fileManager.ready&&(o+='<div class="wysiwyg-fileManager" title="{fileManagerIcon}"/>'),o+='</div></div><div class="form-row"><label for="name">{title}:</label><div class="form-row-value"><input type="text" name="imgtitle" value=""/></div></div><div class="form-row"><label for="name">{description}:</label><div class="form-row-value"><input type="text" name="description" value=""/></div></div><div class="form-row"><label for="name">{width} x {height}:</label><div class="form-row-value"><input type="text" name="width" value="" class="width-small"/> x <input type="text" name="height" value="" class="width-small"/></div></div><div class="form-row"><label for="name">{original}:</label><div class="form-row-value"><input type="text" name="naturalWidth" value="" class="width-small" disabled="disabled"/> x <input type="text" name="naturalHeight" value="" class="width-small" disabled="disabled"/></div></div><div class="form-row"><label for="name">{float}:</label><div class="form-row-value"><select name="float"><option value="">{floatNone}</option><option value="left">{floatLeft}</option><option value="right">{floatRight}</option></select></div></div><div class="form-row form-row-last"><label for="name"></label><div class="form-row-value"><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></div></div></fieldset></form>';for(f in a)e.wysiwyg.i18n&&(l=e.wysiwyg.i18n.t(a[f],"dialogs.image"),l===a[f]&&(l=e.wysiwyg.i18n.t(a[f],"dialogs")),a[f]=l),u=new RegExp("{"+f+"}","g"),o=o.replace(u,a[f]);c.self&&(c.src=c.self.src?c.self.src:"",c.alt=c.self.alt?c.self.alt:"",c.title=c.self.title?c.self.title:"",c.width=c.self.width?c.self.width:"",c.height=c.self.height?c.self.height:"",c.styleFloat=e(c.self).css("float")),i=new e.wysiwyg.dialog(t,{title:a.legend,content:o}),e(i).bind("afterOpen",function(r,s){s.find("form#wysiwyg-addImage").submit(function(e){return e.preventDefault(),n.processInsert(s.container,t,c),i.close(),!1}),e.wysiwyg.fileManager&&e("div.wysiwyg-fileManager").bind("click",function(){e.wysiwyg.fileManager.init(function(e){s.find("input[name=src]").val(e),s.find("input[name=src]").trigger("change")})}),e("input:reset",s).click(function(e){return i.close(),!1}),e("fieldset",s).click(function(e){e.stopPropagation()}),n.makeForm(s,c)}),i.open(),e(t.editorDoc).trigger("editorRefresh.wysiwyg")},processInsert:function(t,n,r){var i,s=e('input[name="src"]',t).val(),o=e('input[name="imgtitle"]',t).val(),u=e('input[name="description"]',t).val(),a=e('input[name="width"]',t).val(),f=e('input[name="height"]',t).val(),l=e('select[name="float"]',t).val(),c=[],h="",p,d;n.options.controlImage&&n.options.controlImage.forceRelativeUrls&&(d=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),0===s.indexOf(d)&&(s=s.substr(d.length))),r.self?(e(r.self).attr("src",s).attr("title",o).attr("alt",u).css("float",l),a.toString().match(/^[0-9]+(px|%)?$/)?e(r.self).css("width",a):e(r.self).css("width",""),f.toString().match(/^[0-9]+(px|%)?$/)?e(r.self).css("height",f):e(r.self).css("height",""),n.saveContent()):(p=a.toString().match(/^[0-9]+(px|%)?$/),p&&(p[1]?c.push("width: "+a+";"):c.push("width: "+a+"px;")),p=f.toString().match(/^[0-9]+(px|%)?$/),p&&(p[1]?c.push("height: "+f+";"):c.push("height: "+f+"px;")),l.length>0&&c.push("float: "+l+";"),c.length>0&&(h=' style="'+c.join(" ")+'"'),i="<img src='"+s+"' title='"+o+"' alt='"+u+"'"+h+"/>",n.insertHtml(i))},makeForm:function(e,t){return e.find("input[name=src]").val(t.src),e.find("input[name=imgtitle]").val(t.title),e.find("input[name=description]").val(t.alt),e.find('input[name="width"]').val(t.width),e.find('input[name="height"]').val(t.height),e.find('select[name="float"]').val(t.styleFloat),e.find("img").attr("src",t.src),e.find("img").bind("load",function(){e.find("img").get(0).naturalWidth?(e.find('input[name="naturalWidth"]').val(e.find("img").get(0).naturalWidth),e.find('input[name="naturalHeight"]').val(e.find("img").get(0).naturalHeight)):e.find("img").attr("naturalWidth")&&(e.find('input[name="naturalWidth"]').val(e.find("img").attr("naturalWidth")),e.find('input[name="naturalHeight"]').val(e.find("img").attr("naturalHeight")))}),e.find("input[name=src]").bind("change",function(){e.find("img").attr("src",this.value)}),e}},e.wysiwyg.insertImage=function(t,n,r){return t.each(function(){var t=e(this).data("wysiwyg"),i,s;if(!t)return this;if(!n||n.length===0)return this;e.browser.msie&&t.ui.focus();if(r){t.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),i=t.getElementByAttributeValue("img","src","#jwysiwyg#");if(i){i.src=n;for(s in r)r.hasOwnProperty(s)&&i.setAttribute(s,r[s])}}else t.editorDoc.execCommand("insertImage",!1,n);return t.saveContent(),e(t.editorDoc).trigger("editorRefresh.wysiwyg"),this})}}(jQuery),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.cssWrap.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.cssWrap={init:function(t){var n=this,r,i,s,o={legend:"Wrap Element",wrapperType:"Wrapper Type",ID:"ID","class":"Class",wrap:"Wrap",unwrap:"Unwrap",cancel:"Cancel"};r='<form class="wysiwyg"><fieldset><legend>{legend}</legend><div class="wysiwyg-dialogRow"><label>{wrapperType}: &nbsp;<select name="type"><option value="span">Span</option><option value="div">Div</option></select></label></div><div class="wysiwyg-dialogRow"><label>{ID}: &nbsp;<input name="id" type="text" /></label></div><div class="wysiwyg-dialogRow"><label>{class}: &nbsp;<input name="class" type="text" /></label></div><div class="wysiwyg-dialogRow"><input type="button" class="button cssWrap-unwrap" style="display:none;" value="{unwrap}"/></label><input type="submit"  class="button cssWrap-submit" value="{wrap}"/></label><input type="reset" class="button cssWrap-cancel" value="{cancel}"/></div></fieldset></form>';for(i in o)e.wysiwyg.i18n&&(s=e.wysiwyg.i18n.t(o[i]),s===o[i]&&(s=e.wysiwyg.i18n.t(o[i],"dialogs")),o[i]=s),r=r.replace("{"+i+"}",o[i]);return e(".wysiwyg-dialog-wrapper").length||(e(r).appendTo("body"),e("form.wysiwyg").dialog({modal:!0,open:function(n,r){var i=e(this),s=t.getInternalRange(),o,u;if(!s)return alert("You must select some elements before you can wrap them."),i.dialog("close"),0;e.browser.msie&&t.ui.focus(),o=e(s.commonAncestorContainer),u=s.commonAncestorContainer.nodeName.toLowerCase(),o.parent(".wysiwygCssWrapper").length&&(alert(o.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase()),i.find("select[name=type]").val(o.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase()),i.find("select[name=type]").attr("disabled","disabled"),i.find("input[name=id]").val(o.parent(".wysiwygCssWrapper").attr("id")),i.find("input[name=class]").val(o.parent(".wysiwygCssWrapper").attr("class").replace("wysiwygCssWrapper ","")),e("form.wysiwyg").find(".cssWrap-unwrap").show(),e("form.wysiwyg").find(".cssWrap-unwrap").click(function(e){return e.preventDefault(),u!=="body"&&o.unwrap(),i.dialog("close"),1})),e("form.wysiwyg").find(".cssWrap-submit").click(function(t){t.preventDefault();var n=e("form.wysiwyg").find("select[name=type]").val(),r=e("form.wysiwyg").find("input[name=id]").val(),s=e("form.wysiwyg").find("input[name=class]").val();u!=="body"&&(o.parent(".wysiwygCssWrapper").length?(o.parent(".wysiwygCssWrapper").attr("id",s),o.parent(".wysiwygCssWrapper").attr("class",s)):o.wrap("<"+n+' id="'+r+'" class="'+"wysiwygCssWrapper "+s+'"/>')),i.dialog("close")}),e("form.wysiwyg").find(".cssWrap-cancel").click(function(e){return e.preventDefault(),i.dialog("close"),1})},close:function(){e(this).dialog("destroy"),e(this).remove()}}),t.saveContent()),e(t.editorDoc).trigger("editorRefresh.wysiwyg"),1}}}(jQuery),function(e){"use strict";if(undefined===e.wysiwyg)throw"wysiwyg.colorpicker.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.colorpicker={modalOpen:!1,color:{back:{prev:"#ffffff",palette:[]},fore:{prev:"#123456",palette:[]}},addColorToPalette:function(t,n){-1===e.inArray(n,this.color[t].palette)?this.color[t].palette.push(n):this.color[t].palette.sort(function(e,t){return e===n?1:0})},init:function(t){if(e.wysiwyg.controls.colorpicker.modalOpen===!0)return!1;e.wysiwyg.controls.colorpicker.modalOpen=!0;var n=this,r,i,s,o,u,a;o={legend:"Colorpicker",color:"Color",submit:"Apply",reset:"Cancel"},s='<form class="wysiwyg"><fieldset><legend>{legend}</legend><ul class="palette"></ul><label>{color}: <input type="text" name="color" value="#123456"/></label><div class="wheel"></div><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(u in o)e.wysiwyg.i18n&&(a=e.wysiwyg.i18n.t(o[u],"dialogs.colorpicker"),a===o[u]&&(a=e.wysiwyg.i18n.t(o[u],"dialogs")),o[u]=a),s=s.replace("{"+u+"}",o[u]);e.modal?(r=e(s),e.farbtastic&&(this.renderPalette(r,"fore"),r.find(".wheel").farbtastic(r.find("input:text"))),e.modal(r.html(),{maxWidth:t.defaults.formWidth,maxHeight:t.defaults.formHeight,overlayClose:!0,onShow:function(r){e("input:submit",r.data).click(function(i){var s=e('input[name="color"]',r.data).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e.modal.close(),!1}),e("input:reset",r.data).click(function(n){return e.browser.msie&&t.ui.returnRange(),e.modal.close(),!1}),e("fieldset",r.data).click(function(e){e.stopPropagation()})},onClose:function(t){e.wysiwyg.controls.colorpicker.modalOpen=!1,e.modal.close()}})):e.fn.dialog?(r=e(s),e.farbtastic&&(this.renderPalette(r,"fore"),r.find(".wheel").farbtastic(r.find("input:text"))),i=r.appendTo("body"),i.dialog({modal:!0,open:function(s,o){e("input:submit",r).click(function(r){var s=e('input[name="color"]',i).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e(i).dialog("close"),!1}),e("input:reset",r).click(function(n){return e.browser.msie&&t.ui.returnRange(),e(i).dialog("close"),!1}),e("fieldset",r).click(function(e){e.stopPropagation()})},close:function(t,n){e.wysiwyg.controls.colorpicker.modalOpen=!1,i.dialog("destroy"),i.remove()}})):e.farbtastic&&(r=e("<div/>").css({position:"fixed","z-index":2e3,left:"50%",top:"50%",background:"rgb(0, 0, 0)","margin-top":-1*Math.round(t.defaults.formHeight/2),"margin-left":-1*Math.round(t.defaults.formWidth/2)}).html(s),this.renderPalette(r,"fore"),r.find("input[name=color]").val(n.color.fore.prev),r.find(".wheel").farbtastic(r.find("input:text")),e("input:submit",r).click(function(i){var s=e('input[name="color"]',r).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e(r).remove(),e.wysiwyg.controls.colorpicker.modalOpen=!1,!1}),e("input:reset",r).click(function(n){return e.browser.msie&&t.ui.returnRange(),e(r).remove(),e.wysiwyg.controls.colorpicker.modalOpen=!1,!1}),e("body").append(r),r.click(function(e){e.stopPropagation()}))},renderPalette:function(t,n){var r=t.find(".palette"),i=function(){var n=e(this).text();t.find("input[name=color]").val(n),e.farbtastic&&t.find("input[name=color]").trigger("keyup")},s,o,u;for(u=this.color[n].palette.length-1;u>-1;u-=1)s=e("<div/>").css({"float":"left",width:"16px",height:"16px",margin:"0px 5px 0px 0px","background-color":this.color[n].palette[u]}),o=e("<li>"+this.color[n].palette[u]+"</li>").css({"float":"left","list-style":"none"}).append(s).bind("click.wysiwyg",i),r.append(o).css({margin:"0px",padding:"0px"})}}}(jQuery);

//@ sourceMappingURL=js/min/list.min.js.map
(function(window,undefined){"use strict";var document=window.document,h;var List=function(id,options,values){var self=this,templater,init,initialItems,Item,Templater,sortButtons,events={updated:[]};this.listContainer=typeof id=="string"?document.getElementById(id):id;if(!this.listContainer)return;this.items=[];this.visibleItems=[];this.matchingItems=[];this.searched=false;this.filtered=false;this.list=null;this.templateEngines={};this.page=options.page||200;this.i=options.i||1;init={start:function(values,options){options.plugins=options.plugins||{};this.classes(options);templater=new Templater(self,options);this.callbacks(options);this.items.start(values,options);self.update();this.plugins(options.plugins)},classes:function(options){options.listClass=options.listClass||"list";options.searchClass=options.searchClass||"search";options.sortClass=options.sortClass||"sort"},callbacks:function(options){self.list=h.getByClass(options.listClass,self.listContainer,true);h.addEvent(h.getByClass(options.searchClass,self.listContainer),"keyup",self.search);sortButtons=h.getByClass(options.sortClass,self.listContainer);h.addEvent(sortButtons,"click",self.sort)},items:{start:function(values,options){if(options.valueNames){var itemsToIndex=this.get(),valueNames=options.valueNames;if(options.indexAsync){this.indexAsync(itemsToIndex,valueNames)}else{this.index(itemsToIndex,valueNames)}}if(values!==undefined){self.add(values)}},get:function(){var nodes=self.list.childNodes,items=[];for(var i=0,il=nodes.length;i<il;i++){if(nodes[i].data===undefined){items.push(nodes[i])}}return items},index:function(itemElements,valueNames){for(var i=0,il=itemElements.length;i<il;i++){self.items.push(new Item(valueNames,itemElements[i]))}},indexAsync:function(itemElements,valueNames){var itemsToIndex=itemElements.splice(0,100);this.index(itemsToIndex,valueNames);if(itemElements.length>0){setTimeout(function(){init.items.indexAsync(itemElements,valueNames)},10)}else{self.update()}}},plugins:function(plugins){var locals={templater:templater,init:init,initialItems:initialItems,Item:Item,Templater:Templater,sortButtons:sortButtons,events:events,reset:reset};for(var i=0;i<plugins.length;i++){plugins[i][1]=plugins[i][1]||{};var pluginName=plugins[i][1].name||plugins[i][0];self[pluginName]=self.plugins[plugins[i][0]].call(self,locals,plugins[i][1])}}};this.add=function(values,callback){if(callback){addAsync(values,callback)}var added=[],notCreate=false;if(values[0]===undefined){values=[values]}for(var i=0,il=values.length;i<il;i++){var item=null;if(values[i]instanceof Item){item=values[i];item.reload()}else{notCreate=self.items.length>self.page?true:false;item=new Item(values[i],undefined,notCreate)}self.items.push(item);added.push(item)}self.update();return added};var addAsync=function(values,callback,items){var valuesToAdd=values.splice(0,100);items=items||[];items=items.concat(self.add(valuesToAdd));if(values.length>0){setTimeout(function(){addAsync(values,callback,items)},10)}else{self.update();callback(items)}};this.show=function(i,page){this.i=i;this.page=page;self.update()};this.remove=function(valueName,value,options){var found=0;for(var i=0,il=self.items.length;i<il;i++){if(self.items[i].values()[valueName]==value){templater.remove(self.items[i],options);self.items.splice(i,1);il--;found++}}self.update();return found};this.get=function(valueName,value){var matchedItems=[];for(var i=0,il=self.items.length;i<il;i++){var item=self.items[i];if(item.values()[valueName]==value){matchedItems.push(item)}}if(matchedItems.length==0){return null}else if(matchedItems.length==1){return matchedItems[0]}else{return matchedItems}};this.sort=function(valueName,options){var length=self.items.length,value=null,target=valueName.target||valueName.srcElement,sorting="",isAsc=false,asc="asc",desc="desc",options=options||{};if(target===undefined){value=valueName;isAsc=options.asc||false}else{value=h.getAttribute(target,"data-sort");isAsc=h.hasClass(target,asc)?false:true}for(var i=0,il=sortButtons.length;i<il;i++){h.removeClass(sortButtons[i],asc);h.removeClass(sortButtons[i],desc)}if(isAsc){if(target!==undefined){h.addClass(target,asc)}isAsc=true}else{if(target!==undefined){h.addClass(target,desc)}isAsc=false}if(options.sortFunction){options.sortFunction=options.sortFunction}else{options.sortFunction=function(a,b){return h.sorter.alphanum(a.values()[value].toLowerCase(),b.values()[value].toLowerCase(),isAsc)}}self.items.sort(options.sortFunction);self.update()};this.search=function(searchString,columns){self.i=1;var matching=[],found,item,text,values,is,columns=columns===undefined?self.items[0].values():columns,searchString=searchString===undefined?"":searchString,target=searchString.target||searchString.srcElement;searchString=target===undefined?(""+searchString).toLowerCase():""+target.value.toLowerCase();is=self.items;searchString=searchString.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");templater.clear();if(searchString===""){reset.search();self.searched=false;self.update()}else{self.searched=true;for(var k=0,kl=is.length;k<kl;k++){found=false;item=is[k];values=item.values();for(var j in columns){if(values.hasOwnProperty(j)&&columns[j]!==null){text=values[j]!=null?values[j].toString().toLowerCase():"";if(searchString!==""&&text.search(searchString)>-1){found=true}}}if(found){item.found=true;matching.push(item)}else{item.found=false}}self.update()}return self.visibleItems};this.filter=function(filterFunction){self.i=1;reset.filter();if(filterFunction===undefined){self.filtered=false}else{self.filtered=true;var is=self.items;for(var i=0,il=is.length;i<il;i++){var item=is[i];if(filterFunction(item)){item.filtered=true}else{item.filtered=false}}}self.update();return self.visibleItems};this.size=function(){return self.items.length};this.clear=function(){templater.clear();self.items=[]};this.on=function(event,callback){events[event].push(callback)};var trigger=function(event){var i=events[event].length;while(i--){events[event][i]()}};var reset={filter:function(){var is=self.items,il=is.length;while(il--){is[il].filtered=false}},search:function(){var is=self.items,il=is.length;while(il--){is[il].found=false}}};this.update=function(){var is=self.items,il=is.length;self.visibleItems=[];self.matchingItems=[];templater.clear();for(var i=0;i<il;i++){if(is[i].matching()&&self.matchingItems.length+1>=self.i&&self.visibleItems.length<self.page){is[i].show();self.visibleItems.push(is[i]);self.matchingItems.push(is[i])}else if(is[i].matching()){self.matchingItems.push(is[i]);is[i].hide()}else{is[i].hide()}}trigger("updated")};Item=function(initValues,element,notCreate){var item=this,values={};this.found=false;this.filtered=false;var init=function(initValues,element,notCreate){if(element===undefined){if(notCreate){item.values(initValues,notCreate)}else{item.values(initValues)}}else{item.elm=element;var values=templater.get(item,initValues);item.values(values)}};this.values=function(newValues,notCreate){if(newValues!==undefined){for(var name in newValues){values[name]=newValues[name]}if(notCreate!==true){templater.set(item,item.values())}}else{return values}};this.show=function(){templater.show(item)};this.hide=function(){templater.hide(item)};this.matching=function(){return self.filtered&&self.searched&&item.found&&item.filtered||self.filtered&&!self.searched&&item.filtered||!self.filtered&&self.searched&&item.found||!self.filtered&&!self.searched};this.visible=function(){return item.elm.parentNode?true:false};init(initValues,element,notCreate)};Templater=function(list,settings){if(settings.engine===undefined){settings.engine="standard"}else{settings.engine=settings.engine.toLowerCase()}return new self.constructor.prototype.templateEngines[settings.engine](list,settings)};init.start(values,options)};List.prototype.templateEngines={};List.prototype.plugins={};List.prototype.templateEngines.standard=function(list,settings){var listSource=h.getByClass(settings.listClass,list.listContainer,true),itemSource=getItemSource(settings.item),templater=this;function getItemSource(item){if(item===undefined){var nodes=listSource.childNodes,items=[];for(var i=0,il=nodes.length;i<il;i++){if(nodes[i].data===undefined){return nodes[i]}}return null}else if(item.indexOf("<")!==-1){var div=document.createElement("div");div.innerHTML=item;return div.firstChild}else{return document.getElementById(settings.item)}}var ensure={created:function(item){if(item.elm===undefined){templater.create(item)}}};this.get=function(item,valueNames){ensure.created(item);var values={};for(var i=0,il=valueNames.length;i<il;i++){var elm=h.getByClass(valueNames[i],item.elm,true);values[valueNames[i]]=elm?elm.innerHTML:""}return values};this.set=function(item,values){ensure.created(item);for(var v in values){if(values.hasOwnProperty(v)){var elm=h.getByClass(v,item.elm,true);if(elm){elm.innerHTML=values[v]}}}};this.create=function(item){if(item.elm!==undefined){return}var newItem=itemSource.cloneNode(true);newItem.id="";item.elm=newItem;templater.set(item,item.values())};this.remove=function(item){listSource.removeChild(item.elm)};this.show=function(item){ensure.created(item);listSource.appendChild(item.elm)};this.hide=function(item){if(item.elm!==undefined&&item.elm.parentNode===listSource){listSource.removeChild(item.elm)}};this.clear=function(){if(listSource.hasChildNodes()){while(listSource.childNodes.length>=1){listSource.removeChild(listSource.firstChild)}}}};h={getByClass:function(){if(document.getElementsByClassName){return function(searchClass,node,single){if(single){return node.getElementsByClassName(searchClass)[0]}else{return node.getElementsByClassName(searchClass)}}}else{return function(searchClass,node,single){var classElements=[],tag="*";if(node==null){node=document}var els=node.getElementsByTagName(tag);var elsLen=els.length;var pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(var i=0,j=0;i<elsLen;i++){if(pattern.test(els[i].className)){if(single){return els[i]}else{classElements[j]=els[i];j++}}}return classElements}}}(),addEvent:function(window,document){if(document.addEventListener){return function(elem,type,cb){if(elem&&!(elem instanceof Array)&&!elem.length&&!h.isNodeList(elem)&&elem.length!==0||elem===window){elem.addEventListener(type,cb,false)}else if(elem&&elem[0]!==undefined){var len=elem.length;for(var i=0;i<len;i++){h.addEvent(elem[i],type,cb)}}}}else if(document.attachEvent){return function(elem,type,cb){if(elem&&!(elem instanceof Array)&&!elem.length&&!h.isNodeList(elem)&&elem.length!==0||elem===window){elem.attachEvent("on"+type,function(){return cb.call(elem,window.event)})}else if(elem&&elem[0]!==undefined){var len=elem.length;for(var i=0;i<len;i++){h.addEvent(elem[i],type,cb)}}}}}(this,document),getAttribute:function(ele,attr){var result=ele.getAttribute&&ele.getAttribute(attr)||null;if(!result){var attrs=ele.attributes;var length=attrs.length;for(var i=0;i<length;i++){if(attr[i]!==undefined){if(attr[i].nodeName===attr){result=attr[i].nodeValue}}}}return result},isNodeList:function(nodes){var result=Object.prototype.toString.call(nodes);if(typeof nodes==="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(result)&&(nodes.length==0||typeof nodes[0]==="object"&&nodes[0].nodeType>0)){return true}return false},hasClass:function(ele,classN){var classes=this.getAttribute(ele,"class")||this.getAttribute(ele,"className")||"";return classes.search(classN)>-1},addClass:function(ele,classN){if(!this.hasClass(ele,classN)){var classes=this.getAttribute(ele,"class")||this.getAttribute(ele,"className")||"";classes=classes+" "+classN+" ";classes=classes.replace(/\s{2,}/g," ");ele.setAttribute("class",classes)}},removeClass:function(ele,classN){if(this.hasClass(ele,classN)){var classes=this.getAttribute(ele,"class")||this.getAttribute(ele,"className")||"";classes=classes.replace(classN,"");ele.setAttribute("class",classes)}},sorter:{alphanum:function(a,b,asc){if(a===undefined||a===null){a=""}if(b===undefined||b===null){b=""}a=a.toString().replace(/&(lt|gt);/g,function(strMatch,p1){return p1=="lt"?"<":">"});a=a.replace(/<\/?[^>]+(>|$)/g,"");b=b.toString().replace(/&(lt|gt);/g,function(strMatch,p1){return p1=="lt"?"<":">"});b=b.replace(/<\/?[^>]+(>|$)/g,"");var aa=this.chunkify(a);var bb=this.chunkify(b);for(var x=0;aa[x]&&bb[x];x++){if(aa[x]!==bb[x]){var c=Number(aa[x]),d=Number(bb[x]);if(asc){if(c==aa[x]&&d==bb[x]){return c-d}else{return aa[x]>bb[x]?1:-1}}else{if(c==aa[x]&&d==bb[x]){return d-c}else{return aa[x]>bb[x]?-1:1}}}}return aa.length-bb.length},chunkify:function(t){var tz=[],x=0,y=-1,n=0,i,j;while(i=(j=t.charAt(x++)).charCodeAt(0)){var m=i==45||i==46||i>=48&&i<=57;if(m!==n){tz[++y]="";n=m}tz[y]+=j}return tz}}};window.List=List;window.ListJsHelpers=h})(window);List.prototype.plugins.fuzzySearch=function(locals,options){var self=this;var searchFunction=function(text,pattern,options){var Match_Location=options.location||0;var Match_Distance=options.distance||100;var Match_Threshold=options.threshold||.4;if(pattern===text)return true;if(pattern.length>32)return false;var loc=Match_Location,s=function(){var q={};for(var i=0;i<pattern.length;i++){q[pattern.charAt(i)]=0}for(var i=0;i<pattern.length;i++){q[pattern.charAt(i)]|=1<<pattern.length-i-1}return q}();function match_bitapScore_(e,x){var accuracy=e/pattern.length,proximity=Math.abs(loc-x);if(!Match_Distance){return proximity?1:accuracy}return accuracy+proximity/Match_Distance}var score_threshold=Match_Threshold,best_loc=text.indexOf(pattern,loc);if(best_loc!=-1){score_threshold=Math.min(match_bitapScore_(0,best_loc),score_threshold);best_loc=text.lastIndexOf(pattern,loc+pattern.length);if(best_loc!=-1){score_threshold=Math.min(match_bitapScore_(0,best_loc),score_threshold)}}var matchmask=1<<pattern.length-1;best_loc=-1;var bin_min,bin_mid;var bin_max=pattern.length+text.length;var last_rd;for(var d=0;d<pattern.length;d++){bin_min=0;bin_mid=bin_max;while(bin_min<bin_mid){if(match_bitapScore_(d,loc+bin_mid)<=score_threshold){bin_min=bin_mid}else{bin_max=bin_mid}bin_mid=Math.floor((bin_max-bin_min)/2+bin_min)}bin_max=bin_mid;var start=Math.max(1,loc-bin_mid+1);var finish=Math.min(loc+bin_mid,text.length)+pattern.length;var rd=Array(finish+2);rd[finish+1]=(1<<d)-1;for(var j=finish;j>=start;j--){var charMatch=s[text.charAt(j-1)];if(d===0){rd[j]=(rd[j+1]<<1|1)&charMatch}else{rd[j]=(rd[j+1]<<1|1)&charMatch|((last_rd[j+1]|last_rd[j])<<1|1)|last_rd[j+1]}if(rd[j]&matchmask){var score=match_bitapScore_(d,j-1);if(score<=score_threshold){score_threshold=score;best_loc=j-1;if(best_loc>loc){start=Math.max(1,2*loc-best_loc)}else{break}}}}if(match_bitapScore_(d+1,loc)>score_threshold){break}last_rd=rd}return best_loc<0?false:true};return function(){var func=function(searchString,columns){self.i=1;var searchArguments,foundArgument,matching=[],found,item,text,values,is,multiSearch=typeof options.multiSearch!=="boolean"?true:options.multiSearch,columns=columns===undefined?self.items[0].values():columns,searchString=searchString===undefined?"":searchString,target=searchString.target||searchString.srcElement;searchString=target===undefined?(""+searchString).toLowerCase():""+target.value.toLowerCase();is=self.items;searchArguments=multiSearch?searchString.replace(/ +$/,"").split(/ +/):[searchString];locals.templater.clear();if(searchString===""){locals.reset.search();self.searched=false;self.update()}else{self.searched=true;for(var k=0,kl=is.length;k<kl;k++){found=true;item=is[k];values=item.values();for(var i=0;i<searchArguments.length;i++){foundArgument=false;for(var j in columns){if(values.hasOwnProperty(j)&&columns[j]!==null){text=values[j]!=null?values[j].toString().toLowerCase():"";if(searchFunction(text,searchArguments[i],options)){foundArgument=true}}}if(!foundArgument)found=false}if(found){item.found=true;matching.push(item)}else{item.found=false}}self.update()}return self.visibleItems},timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;func.apply(context,args)};clearTimeout(timeout);timeout=setTimeout(later,100)}}()};

//@ sourceMappingURL=js/min/modernizr-2.5.3.min.js.map
/*!
 * Modernizr v2.5.3
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 *//*
 * Modernizr tests which native CSS3 and HTML5 features are available in
 * the current UA and makes the results available to you in two ways:
 * as properties on a global Modernizr object, and as classes on the
 * <html> element. This information allows you to progressively enhance
 * your pages with a granular level of control over the experience.
 *
 * Modernizr has an optional (not included) conditional resource loader
 * called Modernizr.load(), based on Yepnope.js (yepnopejs.com).
 * To get a build that includes Modernizr.load(), as well as choosing
 * which tests to include, go to www.modernizr.com/download/
 *
 * Authors        Faruk Ates, Paul Irish, Alex Sexton
 * Contributors   Ryan Seddon, Ben Alman
 */window.Modernizr=function(e,t,n){function A(e){f.cssText=e}function O(e,t){return A(p.join(e+";")+(t||""))}function M(e,t){return typeof e===t}function _(e,t){return!!~(""+e).indexOf(t)}function D(e,t){for(var r in e)if(f[e[r]]!==n)return t=="pfx"?e[r]:!0;return!1}function P(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:M(s,"function")?s.bind(r||t):s}return!1}function H(e,t,n){var r=e.charAt(0).toUpperCase()+e.substr(1),i=(e+" "+v.join(r+" ")+r).split(" ");return M(t,"string")||M(t,"undefined")?D(i,t):(i=(e+" "+m.join(r+" ")+r).split(" "),P(i,t,n))}function j(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;return w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)l.setAttribute("type",s=e[r]),i=l.type!=="text",i&&(l.value=c,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&l.style.WebkitAppearance!==n?(o.appendChild(l),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,o.removeChild(l)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:/^color$/.test(s)?(o.appendChild(l),o.offsetWidth,i=l.value!=c,o.removeChild(l)):i=l.value!=c)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.5.3",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l=t.createElement("div"),c=t.body,h=c?c:t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),l.appendChild(f);return s=["&#173;","<style>",e,"</style>"].join(""),l.id=u,h.innerHTML+=s,h.appendChild(l),c||(h.style.background="",o.appendChild(h)),a=n(l,e),c?l.parentNode.removeChild(l):h.parentNode.removeChild(h),!!a},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return T("@media "+t+" { #"+u+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},C=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=M(i[r],"function"),M(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),k={}.hasOwnProperty,L;!M(k,"undefined")&&!M(k.call,"undefined")?L=function(e,t){return k.call(e,t)}:L=function(e,t){return t in e&&M(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i});var B=function(n,r){var s=n.join(""),o=r.length;T(s,function(n,r){var s=t.styleSheets[t.styleSheets.length-1],u=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"",a=n.childNodes,f={};while(o--)f[a[o].id]=a[o];i.touch="ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch||(f.touch&&f.touch.offsetTop)===9,i.csstransforms3d=(f.csstransforms3d&&f.csstransforms3d.offsetLeft)===9&&f.csstransforms3d.offsetHeight===3,i.generatedcontent=(f.generatedcontent&&f.generatedcontent.offsetHeight)>=1,i.fontface=/src/i.test(u)&&u.indexOf(r.split(" ")[0])===0},o,r)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",p.join("touch-enabled),("),u,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",p.join("transform-3d),("),u,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',c,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);y.flexbox=function(){return H("flexOrder")},y["flexbox-legacy"]=function(){return H("boxDirection")},y.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},y.canvastext=function(){return!!i.canvas&&!!M(t.createElement("canvas").getContext("2d").fillText,"function")},y.webgl=function(){try{var r=t.createElement("canvas"),i;i=!(!e.WebGLRenderingContext||!r.getContext("experimental-webgl")&&!r.getContext("webgl")),r=n}catch(s){i=!1}return i},y.touch=function(){return i.touch},y.geolocation=function(){return!!navigator.geolocation},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!H("indexedDB",e)},y.hashchange=function(){return C("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},y.history=function(){return!!e.history&&!!history.pushState},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){for(var t=-1,n=v.length;++t<n;)if(e[v[t]+"WebSocket"])return!0;return"WebSocket"in e},y.rgba=function(){return A("background-color:rgba(150,255,150,.5)"),_(f.backgroundColor,"rgba")},y.hsla=function(){return A("background-color:hsla(120,40%,100%,.5)"),_(f.backgroundColor,"rgba")||_(f.backgroundColor,"hsla")},y.multiplebgs=function(){return A("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},y.backgroundsize=function(){return H("backgroundSize")},y.borderimage=function(){return H("borderImage")},y.borderradius=function(){return H("borderRadius")},y.boxshadow=function(){return H("boxShadow")},y.textshadow=function(){return t.createElement("div").style.textShadow===""},y.opacity=function(){return O("opacity:.55"),/^0.55$/.test(f.opacity)},y.cssanimations=function(){return H("animationName")},y.csscolumns=function(){return H("columnCount")},y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return A((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length)),_(f.backgroundImage,"gradient")},y.cssreflections=function(){return H("boxReflect")},y.csstransforms=function(){return!!H("transform")},y.csstransforms3d=function(){var e=!!H("perspective");return e&&"webkitPerspective"in o.style&&(e=i.csstransforms3d),e},y.csstransitions=function(){return H("transition")},y.fontface=function(){return i.fontface},y.generatedcontent=function(){return i.generatedcontent},y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},y.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},y.localstorage=function(){try{return localStorage.setItem(u,u),localStorage.removeItem(u),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(u,u),sessionStorage.removeItem(u),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g.svg},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var F in y)L(y,F)&&(x=F.toLowerCase(),i[x]=y[F](),E.push((i[x]?"":"no-")+x));return i.input||j(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)L(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,o.className+=" "+(t?"":"no-")+e,i[e]=t}return i},A(""),a=l=null,function(e,t){function o(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function u(){var e=l.elements;return typeof e=="string"?e.split(" "):e}function a(e){var t={},n=e.createElement,i=e.createDocumentFragment,s=i();e.createElement=function(e){var i=(t[e]||(t[e]=n(e))).cloneNode();return l.shivMethods&&i.canHaveChildren&&!r.test(e)?s.appendChild(i):i},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+u().join().replace(/\w+/g,function(e){return t[e]=n(e),s.createElement(e),'c("'+e+'")'})+");return n}")(l,s)}function f(e){var t;return e.documentShived?e:(l.shivCSS&&!i&&(t=!!o(e,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),s||(t=!a(e)),t&&(e.documentShived=t),e)}var n=e.html5||{},r=/^<|^(?:button|form|map|select|textarea)$/i,i,s;(function(){var e=t.createElement("a");e.innerHTML="<xyz></xyz>",i="hidden"in e,s=e.childNodes.length==1||function(){try{t.createElement("a")}catch(e){return!0}var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()})();var l={elements:n.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:n.shivCSS!==!1,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:f};e.html5=l,f(t)}(this,t),i._version=r,i._prefixes=p,i._domPrefixes=m,i._cssomPrefixes=v,i.mq=N,i.hasEvent=C,i.testProp=function(e){return D([e])},i.testAllProps=H,i.testStyles=T,i.prefixed=function(e,t,n){return t?H(e,t,n):H(e,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):""),i}(this,this.document);

//@ sourceMappingURL=js/min/passwordmeter2.min.js.map
/* ************************************************************
Created: 20060120
Author: Steve Moitozo <god at zilla dot us> -- geekwisdom.com
Description: This is a quick and dirty password quality meter
written in JavaScript so that the password does
not pass over the network.
License: MIT License (see below)
Modified: 20060620 - added MIT License
Modified: 20061111 - corrected regex for letters and numbers
Thanks to Zack Smith -- zacksmithdesign.com
Modified: 20101103 - some additions/adaptions for Uberspace.de
---------------------------------------------------------------
Copyright (c) 2006 Steve Moitozo <god at zilla dot us>
Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or
sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:
The above copyright notice and this permission notice shall
be included in all copies or substantial portions of the
Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY
KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE
AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE
OR OTHER DEALINGS IN THE SOFTWARE.
---------------------------------------------------------------
Password Strength Factors and Weightings
password length:
level 0 (3 point): less than 4 characters
level 1 (6 points): between 5 and 7 characters
level 2 (12 points): between 8 and 15 characters
level 3 (18 points): 16 or more characters
letters:
level 0 (0 points): no letters
level 1 (5 points): all letters are lower case
level 2 (7 points): letters are mixed case
numbers:
level 0 (0 points): no numbers exist
level 1 (5 points): one number exists
level 1 (7 points): 3 or more numbers exists
special characters:
level 0 (0 points): no special characters
level 1 (5 points): one special character exists
level 2 (10 points): more than one special character exists
combinatons:
level 0 (1 points): letters and numbers exist
level 1 (1 points): mixed case letters
level 1 (2 points): letters, numbers and special characters
exist
level 1 (2 points): mixed case letters, numbers and special
characters exist
NOTE: Because I suck at regex the code might need work
NOTE: Instead of putting out all the logging information,
the score, and the verdict it would be nicer to stretch
a graphic as a method of presenting a visual strength
guage.
************************************************************ */function testPassword(e,t,n){var r=0,i="weak",s="";return e.length>8&&(r+=(e.length-8)*2),e.match(/[a-z]/)&&(r+=1,s+="1 point for at least one lower case char\n"),e.match(/[A-Z]/)&&(r+=5,s+="5 points for at least one upper case char\n"),e.match(/\d+/)&&(r+=5,s+="5 points for at least one number\n"),e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(r+=5,s+="5 points for at least three numbers\n"),e.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)&&(r+=5,s+="5 points for at least one special char\n"),e.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(r+=5,s+="5 points for at least two special chars\n"),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(r+=2,s+="2 combo points for upper and lower letters\n"),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(r+=2,s+="2 combo points for letters and numbers\n"),e.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)&&(r+=2,s+="2 combo points for letters, numbers and special chars\n"),r<10?i="Das ist nicht dein Ernst.":r>=10&&r<20?i='Na komm, das kannst du besser. Du brauchst nicht unbedingt Sonderzeichen zu verwenden; <a href="http://xkcd.com/936/" target="_blank">ausreichende Länge</a> tut\'s auch!':r>=20&&r<30?i="Na gut. Zur Not.":r>=30&&r<45?i="Sehr vernünftig.":i="Respekt. Aber nicht auf ein Post-It schreiben.",r<=10?document.getElementById(n).disabled=!0:document.getElementById(n).disabled=!1,document.getElementById(t).innerHTML="Stärke "+r+" - "+i,r};

//@ sourceMappingURL=js/min/plugins.min.js.map
window.log=function f(){log.history=log.history||[];log.history.push(arguments);if(this.console){var args=arguments,newarr;args.callee=args.callee.caller;newarr=[].slice.call(args);if(typeof console.log==="object")log.apply.call(console.log,console,newarr);else console.log.apply(console,newarr)}};(function(a){function b(){}for(var c="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),d;!!(d=c.pop());){a[d]=a[d]||b}})(function(){try{console.log();return window.console}catch(a){return window.console={}}}());(function($){images=new Array;var calls=0;$.fn.Chocolat=function(settings){settings=$.extend({container:$("body"),displayAsALink:false,linkImages:true,linksContainer:"Choco_links_container",overlayOpacity:.9,overlayColor:"#fff",fadeInOverlayduration:500,fadeInImageduration:500,fadeOutImageduration:500,vache:true,separator1:" | ",separator2:"/",leftImg:"img/chocolat/left.gif",rightImg:"img/chocolat/right.gif",closeImg:"img/chocolat/close.gif",loadingImg:"img/chocolat/loading.gif",currentImage:0,setIndex:0,setTitle:"",lastImage:0},settings);calls++;settings.setIndex=calls;images[settings.setIndex]=new Array;this.each(function(index){if(index==0&&settings.linkImages){if(settings.setTitle==""){settings.setTitle=isSet($(this).attr("rel")," ")}}$(this).each(function(){images[settings.setIndex]["displayAsALink"]=settings.displayAsALink;images[settings.setIndex][index]=new Array;images[settings.setIndex][index]["adress"]=isSet($(this).attr("href")," ");images[settings.setIndex][index]["caption"]=isSet($(this).attr("title")," ");if(!settings.displayAsALink){$(this).unbind("click").bind("click",{id:settings.setIndex,nom:settings.setTitle,i:index},_initialise)}})});for(var i=0;i<images[settings.setIndex].length;i++){if(images[settings.setIndex]["displayAsALink"]){if($("#"+settings.linksContainer).size()==0){this.filter(":first").before('<ul id="'+settings.linksContainer+'"></ul>')}$("#"+settings.linksContainer).append('<li><a href="#" id="Choco_numsetIndex_'+settings.setIndex+'" class="Choco_link">'+settings.setTitle+"</a></li>");e=this.parent();$(this).remove();if($.trim(e.html())==""){e.remove()}return $("#Choco_numsetIndex_"+settings.setIndex).unbind("click").bind("click",{id:settings.setIndex,nom:settings.setTitle,i:settings.currentImage},_initialise)}}function _initialise(event){settings.currentImage=event.data.i;settings.setIndex=event.data.id;settings.setTitle=event.data.nom;settings.lastImage=images[settings.setIndex].length-1;showChocolat();return false}function _interface(){clear();settings.container.append('<div id="Choco_overlay"></div><div id="Choco_content"><div id="Choco_close"></div><div id="Choco_loading"></div><div id="Choco_container_photo"><img id="Choco_bigImage" src="" /></div><div id="Choco_container_description"><span id="Choco_container_title"></span><span id="Choco_container_via"></span></div><div id="Choco_left_arrow" class="Choco_arrows"></div><div id="Choco_right_arrow" class="Choco_arrows"></div></div>');$("#Choco_left_arrow").css("background-image","url("+settings.leftImg+")");$("#Choco_right_arrow").css("background-image","url("+settings.rightImg+")");$("#Choco_close").css("background-image","url("+settings.closeImg+")");$("#Choco_loading").css("background-image","url("+settings.loadingImg+")");if(settings.container.get(0).nodeName.toLowerCase()!=="body"){settings.container.css({position:"relative",overflow:"hidden","line-height":"normal"});$("#Choco_content").css("position","relative");$("#Choco_overlay").css("position","absolute")}$(document).unbind("keydown").bind("keydown",function(e){switch(e.keyCode){case 37:changePageChocolat(-1);break;case 39:changePageChocolat(1);break;case 27:close();break}});if(settings.vache){$("#Choco_overlay").click(function(){close();return false})}$("#Choco_left_arrow").unbind("click").bind("click",function(){changePageChocolat(-1);return false});$("#Choco_right_arrow").unbind("click").bind("click",function(){changePageChocolat(1);return false});$("#Choco_close").unbind("click").bind("click",function(){close();return false});$(window).resize(function(){load(settings.currentImage,true)})}function showChocolat(){_interface();load(settings.currentImage,false);$("#Choco_overlay").css({"background-color":settings.overlayColor,opacity:settings.overlayOpacity}).fadeIn(settings.fadeInOverlayduration);$("#Choco_content").fadeIn(settings.fadeInImageduration,function(){})}function load(image,resize){settings.currentImage=image;$("#Choco_loading").fadeIn(settings.fadeInImageduration);var imgPreloader=new Image;imgPreloader.onload=function(){$("#Choco_bigImage").attr("src",images[settings.setIndex][settings.currentImage]["adress"]);var ajustees=iWantThePerfectImageSize(imgPreloader.height,imgPreloader.width);ChoColat(ajustees["hauteur"],ajustees["largeur"],resize);$("#Choco_loading").stop().fadeOut(settings.fadeOutImageduration)};imgPreloader.src=images[settings.setIndex][settings.currentImage]["adress"];preload();upadteDescription()}function changePageChocolat(signe){if(!settings.linkImages){return false}else if(settings.currentImage==0&&signe==-1){return false}else if(settings.currentImage==settings.lastImage&&signe==1){return false}else{$("#Choco_container_description").fadeTo(settings.fadeOutImageduration,0);$("#Choco_bigImage").fadeTo(settings.fadeOutImageduration,0,function(){load(settings.currentImage+parseInt(signe),false)})}}function ChoColat(hauteur_image,largeur_image,resize){if(resize){$("#Choco_container_photo, #Choco_content, #Choco_bigImage").stop(true,false).css({overflow:"visible"});$("#Choco_bigImage").animate({height:hauteur_image+"px",width:largeur_image+"px"},settings.fadeInImageduration)}$("#Choco_container_photo").animate({height:hauteur_image,width:largeur_image},settings.fadeInImageduration);$("#Choco_content").animate({height:hauteur_image,width:largeur_image,marginLeft:-largeur_image/2,marginTop:-hauteur_image/2},settings.fadeInImageduration,"swing",function(){$("#Choco_bigImage").fadeTo(settings.fadeInImageduration,1).height(hauteur_image).width(largeur_image).fadeIn(settings.fadeInImageduration);if(!resize){arrowsManaging();$("#Choco_container_description").fadeTo(settings.fadeInImageduration,1);$("#Choco_close").fadeIn(settings.fadeInImageduration)}}).css("overflow","visible")}function arrowsManaging(){if(settings.linkImages){var what=new Array("Choco_right_arrow","Choco_left_arrow");for(var i=0;i<what.length;i++){hide=false;if(what[i]=="Choco_right_arrow"&&settings.currentImage==settings.lastImage){hide=true;$("#"+what[i]).fadeOut(300)}else if(what[i]=="Choco_left_arrow"&&settings.currentImage==0){hide=true;$("#"+what[i]).fadeOut(300)}if(!hide){$("#"+what[i]).fadeIn(settings.fadeOutImageduration)}}}}function preload(){if(settings.currentImage!==settings.lastImage){i=new Image;z=settings.currentImage+1;i.src=images[settings.setIndex][z]["adress"]}}function upadteDescription(){var current=settings.currentImage+1;var last=settings.lastImage+1;$("#Choco_container_title").html(images[settings.setIndex][settings.currentImage]["caption"]);$("#Choco_container_via").html(settings.setTitle+settings.separator1+current+settings.separator2+last)}function isSet(variable,defaultValue){if(variable===undefined){return defaultValue}else{return variable}}function iWantThePerfectImageSize(himg,limg){var lblock=limg+limg*28/100;var hblock=himg+51;var k=limg/himg;var kk=himg/limg;if(settings.container.get(0).nodeName.toLowerCase()=="body"){windowHeight=$(window).height();windowWidth=$(window).width()}else{windowHeight=settings.container.height();windowWidth=settings.container.width()}notFitting=true;while(notFitting){var lblock=limg+limg*28/100;var hblock=himg+51;if(lblock>windowWidth){limg=windowWidth*100/128;himg=kk*limg}else if(hblock>windowHeight){himg=windowHeight-51;limg=k*himg}else{notFitting=false}}return{largeur:limg,hauteur:himg}}function clear(){$("#Choco_overlay").remove();$("#Choco_content").remove()}function close(){$("#Choco_overlay").fadeOut(900,function(){$("#Choco_overlay").remove()});$("#Choco_content").fadeOut(500,function(){$("#Choco_content").remove()});settings.currentImage=0}}})(jQuery);var ColorPicker=function(){var ids={},inAction,charMin=65,visible,tpl='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',defaults={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},fillRGBFields=function(hsb,cal){var rgb=HSBToRGB(hsb);$(cal).data("colorpicker").fields.eq(1).val(rgb.r).end().eq(2).val(rgb.g).end().eq(3).val(rgb.b).end()},fillHSBFields=function(hsb,cal){$(cal).data("colorpicker").fields.eq(4).val(hsb.h).end().eq(5).val(hsb.s).end().eq(6).val(hsb.b).end()},fillHexFields=function(hsb,cal){$(cal).data("colorpicker").fields.eq(0).val(HSBToHex(hsb)).end()},setSelector=function(hsb,cal){$(cal).data("colorpicker").selector.css("backgroundColor","#"+HSBToHex({h:hsb.h,s:100,b:100}));$(cal).data("colorpicker").selectorIndic.css({left:parseInt(150*hsb.s/100,10),top:parseInt(150*(100-hsb.b)/100,10)})},setHue=function(hsb,cal){$(cal).data("colorpicker").hue.css("top",parseInt(150-150*hsb.h/360,10))},setCurrentColor=function(hsb,cal){$(cal).data("colorpicker").currentColor.css("backgroundColor","#"+HSBToHex(hsb))},setNewColor=function(hsb,cal){$(cal).data("colorpicker").newColor.css("backgroundColor","#"+HSBToHex(hsb))},keyDown=function(ev){var pressedKey=ev.charCode||ev.keyCode||-1;if(pressedKey>charMin&&pressedKey<=90||pressedKey==32){return false}var cal=$(this).parent().parent();if(cal.data("colorpicker").livePreview===true){change.apply(this)}},change=function(ev){var cal=$(this).parent().parent(),col;if(this.parentNode.className.indexOf("_hex")>0){cal.data("colorpicker").color=col=HexToHSB(fixHex(this.value))}else if(this.parentNode.className.indexOf("_hsb")>0){cal.data("colorpicker").color=col=fixHSB({h:parseInt(cal.data("colorpicker").fields.eq(4).val(),10),s:parseInt(cal.data("colorpicker").fields.eq(5).val(),10),b:parseInt(cal.data("colorpicker").fields.eq(6).val(),10)})}else{cal.data("colorpicker").color=col=RGBToHSB(fixRGB({r:parseInt(cal.data("colorpicker").fields.eq(1).val(),10),g:parseInt(cal.data("colorpicker").fields.eq(2).val(),10),b:parseInt(cal.data("colorpicker").fields.eq(3).val(),10)}))}if(ev){fillRGBFields(col,cal.get(0));fillHexFields(col,cal.get(0));fillHSBFields(col,cal.get(0))}setSelector(col,cal.get(0));setHue(col,cal.get(0));setNewColor(col,cal.get(0));cal.data("colorpicker").onChange.apply(cal,[col,HSBToHex(col),HSBToRGB(col)])},blur=function(ev){var cal=$(this).parent().parent();cal.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},focus=function(){charMin=this.parentNode.className.indexOf("_hex")>0?70:65;$(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");$(this).parent().addClass("colorpicker_focus")},downIncrement=function(ev){var field=$(this).parent().find("input").focus();var current={el:$(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:ev.pageY,field:field,val:parseInt(field.val(),10),preview:$(this).parent().parent().data("colorpicker").livePreview};$(document).bind("mouseup",current,upIncrement);$(document).bind("mousemove",current,moveIncrement)},moveIncrement=function(ev){ev.data.field.val(Math.max(0,Math.min(ev.data.max,parseInt(ev.data.val+ev.pageY-ev.data.y,10))));if(ev.data.preview){change.apply(ev.data.field.get(0),[true])}return false},upIncrement=function(ev){change.apply(ev.data.field.get(0),[true]);ev.data.el.removeClass("colorpicker_slider").find("input").focus();$(document).unbind("mouseup",upIncrement);$(document).unbind("mousemove",moveIncrement);return false},downHue=function(ev){var current={cal:$(this).parent(),y:$(this).offset().top};current.preview=current.cal.data("colorpicker").livePreview;$(document).bind("mouseup",current,upHue);$(document).bind("mousemove",current,moveHue)},moveHue=function(ev){change.apply(ev.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,ev.pageY-ev.data.y)))/150,10)).get(0),[ev.data.preview]);return false},upHue=function(ev){fillRGBFields(ev.data.cal.data("colorpicker").color,ev.data.cal.get(0));fillHexFields(ev.data.cal.data("colorpicker").color,ev.data.cal.get(0));$(document).unbind("mouseup",upHue);$(document).unbind("mousemove",moveHue);return false},downSelector=function(ev){var current={cal:$(this).parent(),pos:$(this).offset()};current.preview=current.cal.data("colorpicker").livePreview;$(document).bind("mouseup",current,upSelector);$(document).bind("mousemove",current,moveSelector)},moveSelector=function(ev){change.apply(ev.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,ev.pageY-ev.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,ev.pageX-ev.data.pos.left))/150,10)).get(0),[ev.data.preview]);return false},upSelector=function(ev){fillRGBFields(ev.data.cal.data("colorpicker").color,ev.data.cal.get(0));fillHexFields(ev.data.cal.data("colorpicker").color,ev.data.cal.get(0));$(document).unbind("mouseup",upSelector);$(document).unbind("mousemove",moveSelector);return false},enterSubmit=function(ev){$(this).addClass("colorpicker_focus")},leaveSubmit=function(ev){$(this).removeClass("colorpicker_focus")},clickSubmit=function(ev){var cal=$(this).parent();var col=cal.data("colorpicker").color;cal.data("colorpicker").origColor=col;setCurrentColor(col,cal.get(0));cal.data("colorpicker").onSubmit(col,HSBToHex(col),HSBToRGB(col),cal.data("colorpicker").el)},show=function(ev){var cal=$("#"+$(this).data("colorpickerId"));cal.data("colorpicker").onBeforeShow.apply(this,[cal.get(0)]);var pos=$(this).offset();var viewPort=getViewport();var top=pos.top+this.offsetHeight;var left=pos.left;if(top+176>viewPort.t+viewPort.h){top-=this.offsetHeight+176}if(left+356>viewPort.l+viewPort.w){left-=356}cal.css({left:left+"px",top:top+"px"});if(cal.data("colorpicker").onShow.apply(this,[cal.get(0)])!=false){cal.show()}$(document).bind("mousedown",{cal:cal},hide);return false},hide=function(ev){if(!isChildOf(ev.data.cal.get(0),ev.target,ev.data.cal.get(0))){if(ev.data.cal.data("colorpicker").onHide.apply(this,[ev.data.cal.get(0)])!=false){ev.data.cal.hide()}$(document).unbind("mousedown",hide)}},isChildOf=function(parentEl,el,container){if(parentEl==el){return true}if(parentEl.contains){return parentEl.contains(el)}if(parentEl.compareDocumentPosition){return!!(parentEl.compareDocumentPosition(el)&16)}var prEl=el.parentNode;while(prEl&&prEl!=container){if(prEl==parentEl)return true;prEl=prEl.parentNode}return false},getViewport=function(){var m=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(m?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(m?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(m?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(m?document.documentElement.clientHeight:document.body.clientHeight)}},fixHSB=function(hsb){return{h:Math.min(360,Math.max(0,hsb.h)),s:Math.min(100,Math.max(0,hsb.s)),b:Math.min(100,Math.max(0,hsb.b))}},fixRGB=function(rgb){return{r:Math.min(255,Math.max(0,rgb.r)),g:Math.min(255,Math.max(0,rgb.g)),b:Math.min(255,Math.max(0,rgb.b))}},fixHex=function(hex){var len=6-hex.length;if(len>0){var o=[];for(var i=0;i<len;i++){o.push("0")}o.push(hex);hex=o.join("")}return hex},HexToRGB=function(hex){var hex=parseInt(hex.indexOf("#")>-1?hex.substring(1):hex,16);return{r:hex>>16,g:(hex&65280)>>8,b:hex&255}},HexToHSB=function(hex){return RGBToHSB(HexToRGB(hex))},RGBToHSB=function(rgb){var hsb={h:0,s:0,b:0};var min=Math.min(rgb.r,rgb.g,rgb.b);var max=Math.max(rgb.r,rgb.g,rgb.b);var delta=max-min;hsb.b=max;if(max!=0){}hsb.s=max!=0?255*delta/max:0;if(hsb.s!=0){if(rgb.r==max){hsb.h=(rgb.g-rgb.b)/delta}else if(rgb.g==max){hsb.h=2+(rgb.b-rgb.r)/delta}else{hsb.h=4+(rgb.r-rgb.g)/delta}}else{hsb.h=-1}hsb.h*=60;if(hsb.h<0){hsb.h+=360}hsb.s*=100/255;hsb.b*=100/255;return hsb},HSBToRGB=function(hsb){var rgb={};var h=Math.round(hsb.h);var s=Math.round(hsb.s*255/100);var v=Math.round(hsb.b*255/100);if(s==0){rgb.r=rgb.g=rgb.b=v}else{var t1=v;var t2=(255-s)*v/255;var t3=(t1-t2)*(h%60)/60;if(h==360)h=0;if(h<60){rgb.r=t1;rgb.b=t2;rgb.g=t2+t3}else if(h<120){rgb.g=t1;rgb.b=t2;rgb.r=t1-t3}else if(h<180){rgb.g=t1;rgb.r=t2;rgb.b=t2+t3}else if(h<240){rgb.b=t1;rgb.r=t2;rgb.g=t1-t3}else if(h<300){rgb.b=t1;rgb.g=t2;rgb.r=t2+t3}else if(h<360){rgb.r=t1;rgb.g=t2;rgb.b=t1-t3}else{rgb.r=0;rgb.g=0;rgb.b=0}}return{r:Math.round(rgb.r),g:Math.round(rgb.g),b:Math.round(rgb.b)}},RGBToHex=function(rgb){var hex=[rgb.r.toString(16),rgb.g.toString(16),rgb.b.toString(16)];$.each(hex,function(nr,val){if(val.length==1){hex[nr]="0"+val}});return hex.join("")},HSBToHex=function(hsb){return RGBToHex(HSBToRGB(hsb))},restoreOriginal=function(){var cal=$(this).parent();var col=cal.data("colorpicker").origColor;cal.data("colorpicker").color=col;fillRGBFields(col,cal.get(0));fillHexFields(col,cal.get(0));fillHSBFields(col,cal.get(0));setSelector(col,cal.get(0));setHue(col,cal.get(0));setNewColor(col,cal.get(0))};return{init:function(opt){opt=$.extend({},defaults,opt||{});if(typeof opt.color=="string"){opt.color=HexToHSB(opt.color)}else if(opt.color.r!=undefined&&opt.color.g!=undefined&&opt.color.b!=undefined){opt.color=RGBToHSB(opt.color)}else if(opt.color.h!=undefined&&opt.color.s!=undefined&&opt.color.b!=undefined){opt.color=fixHSB(opt.color)}else{return this}return this.each(function(){if(!$(this).data("colorpickerId")){var options=$.extend({},opt);options.origColor=opt.color;var id="collorpicker_"+parseInt(Math.random()*1e3);$(this).data("colorpickerId",id);var cal=$(tpl).attr("id",id);if(options.flat){cal.appendTo(this).show()}else{cal.appendTo(document.body)}options.fields=cal.find("input").bind("keyup",keyDown).bind("change",change).bind("blur",blur).bind("focus",focus);cal.find("span").bind("mousedown",downIncrement).end().find(">div.colorpicker_current_color").bind("click",restoreOriginal);options.selector=cal.find("div.colorpicker_color").bind("mousedown",downSelector);options.selectorIndic=options.selector.find("div div");options.el=this;options.hue=cal.find("div.colorpicker_hue div");cal.find("div.colorpicker_hue").bind("mousedown",downHue);options.newColor=cal.find("div.colorpicker_new_color");options.currentColor=cal.find("div.colorpicker_current_color");cal.data("colorpicker",options);cal.find("div.colorpicker_submit").bind("mouseenter",enterSubmit).bind("mouseleave",leaveSubmit).bind("click",clickSubmit);fillRGBFields(options.color,cal.get(0));fillHSBFields(options.color,cal.get(0));fillHexFields(options.color,cal.get(0));setHue(options.color,cal.get(0));setSelector(options.color,cal.get(0));setCurrentColor(options.color,cal.get(0));setNewColor(options.color,cal.get(0));if(options.flat){cal.css({position:"relative",display:"block"})}else{$(this).bind(options.eventName,show)}}})},showPicker:function(){return this.each(function(){if($(this).data("colorpickerId")){show.apply(this)}})},hidePicker:function(){return this.each(function(){if($(this).data("colorpickerId")){$("#"+$(this).data("colorpickerId")).hide()}})},setColor:function(col){if(typeof col=="string"){col=HexToHSB(col)}else if(col.r!=undefined&&col.g!=undefined&&col.b!=undefined){col=RGBToHSB(col)}else if(col.h!=undefined&&col.s!=undefined&&col.b!=undefined){col=fixHSB(col)}else{return this}return this.each(function(){if($(this).data("colorpickerId")){var cal=$("#"+$(this).data("colorpickerId"));cal.data("colorpicker").color=col;cal.data("colorpicker").origColor=col;fillRGBFields(col,cal.get(0));fillHSBFields(col,cal.get(0));fillHexFields(col,cal.get(0));setHue(col,cal.get(0));setSelector(col,cal.get(0));setCurrentColor(col,cal.get(0));setNewColor(col,cal.get(0))}})}}}();$.fn.extend({ColorPicker:ColorPicker.init,ColorPickerHide:ColorPicker.hidePicker,ColorPickerShow:ColorPicker.showPicker,ColorPickerSetColor:ColorPicker.setColor});(function($){$.fn.bottom=function(options){var defaults={proximity:0};var options=$.extend(defaults,options);return this.each(function(){var obj=this;$(obj).bind("scroll",function(){if(obj==window){scrollHeight=$(document).height()}else{scrollHeight=$(obj)[0].scrollHeight}scrollPosition=$(obj).height()+$(obj).scrollTop();if((scrollHeight-scrollPosition)/scrollHeight<=options.proximity){$(obj).trigger("bottom")}});return false})}})(jQuery);(function(){var e,t,n,r,i=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};n=typeof window!="undefined"&&window!==null?window.Swag={}:void 0,typeof module!="undefined"&&module!==null&&(module.exports=n={}),n.Config={partialsPath:""},r={},r.toString=Object.prototype.toString,r.isUndefined=function(e){return e==="undefined"||r.toString.call(e)==="[object Function]"||e.hash!=null},r.safeString=function(e){return new Handlebars.SafeString(e)},r.trim=function(e){var t;return t=/\S/.test(" ")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,e.toString().replace(t,"")},Handlebars.registerHelper("lowercase",function(e){return e.toLowerCase()}),Handlebars.registerHelper("uppercase",function(e){return e.toUpperCase()}),Handlebars.registerHelper("capitalizeFirst",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Handlebars.registerHelper("capitalizeEach",function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1)})}),Handlebars.registerHelper("titleize",function(e){var t,n,i,s;return n=e.replace(/[ \-_]+/g," "),s=r.trim(n.replace(/([A-Z])/g," $&")).split(" "),t=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},function(){var e,n,r;r=[];for(e=0,n=s.length;e<n;e++)i=s[e],r.push(t(i));return r}().join(" ")}),Handlebars.registerHelper("sentence",function(e){return e.replace(/((?:\S[^\.\?\!]*)[\.\?\!]*)/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}),Handlebars.registerHelper("reverse",function(e){return e.split("").reverse().join("")}),Handlebars.registerHelper("truncate",function(e,t,n){return r.isUndefined(n)&&(n=""),e.length>t?e.substring(0,t-n.length)+n:e}),Handlebars.registerHelper("center",function(e,t){var n,r;r="",n=0;while(n<t)r+="&nbsp;",n++;return""+r+e+r}),Handlebars.registerHelper("first",function(e,t){return r.isUndefined(t)?e[0]:e.slice(0,t)}),Handlebars.registerHelper("withFirst",function(e,t,n){var i,s;if(r.isUndefined(t))return n=t,n.fn(e[0]);e=e.slice(0,t),s="";for(i in e)s+=n.fn(e[i]);return s}),Handlebars.registerHelper("last",function(e,t){return r.isUndefined(t)?e[e.length-1]:e.slice(-t)}),Handlebars.registerHelper("withLast",function(e,t,n){var i,s;if(r.isUndefined(t))return n=t,n.fn(e[e.length-1]);e=e.slice(-t),s="";for(i in e)s+=n.fn(e[i]);return s}),Handlebars.registerHelper("after",function(e,t){return e.slice(t)}),Handlebars.registerHelper("withAfter",function(e,t,n){var r,i;e=e.slice(t),i="";for(r in e)i+=n.fn(e[r]);return i}),Handlebars.registerHelper("before",function(e,t){return e.slice(0,-t)}),Handlebars.registerHelper("withBefore",function(e,t,n){var r,i;e=e.slice(0,-t),i="";for(r in e)i+=n.fn(e[r]);return i}),Handlebars.registerHelper("join",function(e,t){return e.join(r.isUndefined(t)?" ":t)}),Handlebars.registerHelper("sort",function(e,t){return r.isUndefined(t)?e.sort():e.sort(function(e,n){return e[t]>n[t]})}),Handlebars.registerHelper("withSort",function(e,t,n){var i,s;if(r.isUndefined(t))return n=t,n.fn(e.sort());e=e.sort(function(e,n){return e[t]>n[t]}),s="";for(i in e)s+=n.fn(e[i]);return s}),Handlebars.registerHelper("length",function(e){return e.length}),Handlebars.registerHelper("lengthEqual",function(e,t,n){return e.length===t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("empty",function(e,t){return e.length<=0?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("any",function(e,t){return e.length>0?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("inArray",function(e,t,n){return e.indexOf(t)!==-1?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("eachIndex",function(e,t){var n,r,i,s;s="",t.data!=null&&(n=Handlebars.createFrame(t.data));if(e&&e.length>0){r=0,i=e.length;while(r<i)n&&(n.index=r),e[r].index=r,s+=t.fn(e[r]),r++}else s=t.inverse(this);return s}),Handlebars.registerHelper("add",function(e,t){return e+t}),Handlebars.registerHelper("subtract",function(e,t){return e-t}),Handlebars.registerHelper("divide",function(e,t){return e/t}),Handlebars.registerHelper("multiply",function(e,t){return e*t}),Handlebars.registerHelper("floor",function(e){return Math.floor(e)}),Handlebars.registerHelper("ceil",function(e){return Math.ceil(e)}),Handlebars.registerHelper("round",function(e){return Math.round(e)}),Handlebars.registerHelper("toFixed",function(e,t){return e.toFixed(r.isUndefined(t)?t:void 0)}),Handlebars.registerHelper("toPrecision",function(e,t){return e.toPrecision(r.isUndefined(t)?t:void 0)}),Handlebars.registerHelper("toExponential",function(e,t){return e.toExponential(r.isUndefined(t)?t:void 0)}),Handlebars.registerHelper("toInt",function(e){return parseInt(e,10)}),Handlebars.registerHelper("toFloat",function(e){return parseFloat(e)}),Handlebars.registerHelper("addCommas",function(e){return e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}),Handlebars.registerHelper("equal",function(e,t,n){return e===t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("notEqual",function(e,t,n){return e!==t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("gt",function(e,t,n){return e>t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("gte",function(e,t,n){return e>=t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("lt",function(e,t,n){return e<t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("lte",function(e,t,n){return e<=t?n.fn(this):n.inverse(this)}),e={},e.padNumber=function(e,t,n){var r,i;typeof n=="undefined"&&(n="0"),r=t-String(e).length,i="";if(r>0)while(r--)i+=n;return i+e},e.dayOfYear=function(e){var t;return t=new Date(e.getFullYear(),0,1),Math.ceil((e-t)/864e5)},e.weekOfYear=function(e){var t;return t=new Date(e.getFullYear(),0,1),Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},e.isoWeekOfYear=function(e){var t,n,r,i;return i=new Date(e.valueOf()),n=(e.getDay()+6)%7,i.setDate(i.getDate()-n+3),r=new Date(i.getFullYear(),0,4),t=(i-r)/864e5,1+Math.ceil(t/7)},e.tweleveHour=function(e){return e.getHours()>12?e.getHours()-12:e.getHours()},e.timeZoneOffset=function(t){var n,r;return n=-t.getTimezoneOffset()/60,r=e.padNumber(Math.abs(n),4),(n>0?"+":"-")+r},e.format=function(t,n){return n.replace(e.formats,function(n,r){switch(r){case"a":return e.abbreviatedWeekdays[t.getDay()];case"A":return e.fullWeekdays[t.getDay()];case"b":return e.abbreviatedMonths[t.getMonth()];case"B":return e.fullMonths[t.getMonth()];case"c":return t.toLocaleString();case"C":return Math.round(t.getFullYear()/100);case"d":return e.padNumber(t.getDate(),2);case"D":return e.format(t,"%m/%d/%y");case"e":return e.padNumber(t.getDate(),2," ");case"F":return e.format(t,"%Y-%m-%d");case"h":return e.format(t,"%b");case"H":return e.padNumber(t.getHours(),2);case"I":return e.padNumber(e.tweleveHour(t),2);case"j":return e.padNumber(e.dayOfYear(t),3);case"k":return e.padNumber(t.getHours(),2," ");case"l":return e.padNumber(e.tweleveHour(t),2," ");case"L":return e.padNumber(t.getMilliseconds(),3);case"m":return e.padNumber(t.getMonth()+1,2);case"M":return e.padNumber(t.getMinutes(),2);case"n":return"\n";case"p":return t.getHours()>11?"PM":"AM";case"P":return e.format(t,"%p").toLowerCase();case"r":return e.format(t,"%I:%M:%S %p");case"R":return e.format(t,"%H:%M");case"s":return t.getTime()/1e3;case"S":return e.padNumber(t.getSeconds(),2);case"t":return" ";case"T":return e.format(t,"%H:%M:%S");case"u":return t.getDay()===0?7:t.getDay();case"U":return e.padNumber(e.weekOfYear(t),2);case"v":return e.format(t,"%e-%b-%Y");case"V":return e.padNumber(e.isoWeekOfYear(t),2);case"W":return e.padNumber(e.weekOfYear(t),2);case"w":return e.padNumber(t.getDay(),2);case"x":return t.toLocaleDateString();case"X":return t.toLocaleTimeString();case"y":return String(t.getFullYear()).substring(2);case"Y":return t.getFullYear();case"z":return e.timeZoneOffset(t);default:return match}})},e.formats=/%(a|A|b|B|c|C|d|D|e|F|h|H|I|j|k|l|L|m|M|n|p|P|r|R|s|S|t|T|u|U|v|V|W|w|x|X|y|Y|z)/g,e.abbreviatedWeekdays=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],e.fullWeekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.abbreviatedMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.fullMonths=["January","February","March","April","May","June","July","August","September","October","November","December"],Handlebars.registerHelper("formatDate",function(t,n){return t=new Date(t),e.format(t,n)}),Handlebars.registerHelper("now",function(t){var n;return n=new Date,r.isUndefined(t)?n:e.format(n,t)}),Handlebars.registerHelper("timeago",function(e){var t,n;return e=new Date(e),n=Math.floor((new Date-e)/1e3),t=Math.floor(n/31536e3),t>1?""+t+" years ago":(t=Math.floor(n/2592e3),t>1?""+t+" months ago":(t=Math.floor(n/86400),t>1?""+t+" days ago":(t=Math.floor(n/3600),t>1?""+t+" hours ago":(t=Math.floor(n/60),t>1?""+t+" minutes ago":Math.floor(n)===0?"Just now":Math.floor(n)+" seconds ago"))))}),Handlebars.registerHelper("inflect",function(e,t,n,i){var s;return s=e>1||e===0?n:t,r.isUndefined(i)||i===!1?s:""+e+" "+s}),Handlebars.registerHelper("ordinalize",function(e){var t,n;t=Math.abs(Math.round(e));if(n=t%100,i.call([11,12,13],n)>=0)return""+e+"th";switch(t%10){case 1:return""+e+"st";case 2:return""+e+"nd";case 3:return""+e+"rd";default:return""+e+"th"}}),t={},t.parseAttributes=function(e){return Object.keys(e).map(function(t){return""+t+'="'+e[t]+'"'}).join(" ")},Handlebars.registerHelper("ul",function(e,n){return"<ul "+t.parseAttributes(n.hash)+">"+e.map(function(e){return"<li>"+n.fn(e)+"</li>"}).join("\n")+"</ul>"}),Handlebars.registerHelper("ol",function(e,n){return"<ol "+t.parseAttributes(n.hash)+">"+e.map(function(e){return"<li>"+n.fn(e)+"</li>"}).join("\n")+"</ol>"}),Handlebars.registerHelper("br",function(e,t){var n,i;n="<br>";if(!r.isUndefined(e)){i=0;while(i<e-1)n+="<br>",i++}return r.safeString(n)}),Handlebars.registerHelper("log",function(e){return console.log(e)}),Handlebars.registerHelper("debug",function(e){return console.debug("Context: ",this),r.isUndefined(e)||console.debug("Value: ",e),console.log("-----------------------------------------------")}),Handlebars.registerHelper("default",function(e,t){var n;return n=e!=null?e:t,n?n:t}),Handlebars.registerHelper("partial",function(e,t){var i;return i=n.Config.partialsPath+e,t=r.isUndefined(t)?{}:t,Handlebars.partials[e]==null&&Handlebars.registerPartial(e,require(i)),r.safeString(Handlebars.partials[e](t))})}).call(this);

//@ sourceMappingURL=js/min/script.min.js.map
rated_items=[];function rating(id,rating){fillStars(id,rating);ajax({data:{rating:rating,id:id},func:function(data){$("#"+id+"rating .average").replaceWith(data["html"]);rated_items.push(id)},needs:["html"]})}function fillStars(id,rating){num=rating;$("#"+id+"rating .stars .star").each(function(){if(num>0){$(this).attr("class","star selected")}else{$(this).attr("class","star")}num--})}function deleteItem(id){if(confirm("Wollen sie diesen Beitrag wirklich löschen?")){ajax({data:{"delete":0,id:id},func:function(data){$("#"+data["id"]).remove()},needs:["id"]})}}var is_loading=false;var phrase="";var last_item=null;var chocolat_options={};var _page=1;if(window.rating_url!==undefined){var rating_url2=rating_url}function loadItems(){if(this.lock===undefined||this.lock===false){this.lock=true;$this=this;if(window._page<=max_page){ajax({type:"GET",url:rating_url2,data:{page:window._page+1,phrase:phrase,start_time:start_time},func:function(data){addLoadedItemsHTML(data["html"]);$this.lock=false}});window._page++}}}function addLoadedItemsHTML(html,is_append){if(arguments.length===1){is_append=true}if(html!==""){if(chocolat_options.length>0){if(is_append){$(".imagelist").append(html)}else{$(".imagelist").prepend(html)}$(".imagelist a.item-content").Chocolat(chocolat_options)}else{if(is_append){$(".content").append(html)}else{$(".content").prepend(html)}}}}jQuery.fn.reverse=[].reverse;function search(_phrase,no_timeout){this.time_buffer=window.search_time_buffer;phrase=_phrase;page=1;var time_diff=0;if(this.last_search_time!==undefined){time_diff=(new Date).getTime()-this.last_search_time}if(this.last_search_time===undefined||time_diff>=this.time_buffer){ajax({type:"GET",data:{page:"1",phrase:phrase,ajax:true},func:function(data){$(".content-item").remove();addLoadedItemsHTML(data["html"]);window.start_time=getTime()}});this.last_search_time=(new Date).getTime()}else{if(time_diff<=this.time_buffer||no_timeout===false){if(this.timeout!==undefined){clearTimeout(this.timeout)}this.timeout=window.setTimeout("search('"+_phrase+"', true)",time_diff)}}}function initBottomLoad(){if(window.max_page!==undefined){$(window).bottom({proximity:.2}).bind("bottom",function(){loadItems()})}}setTimeout("initBottomLoad()",300);if($("#drop_area")!==null&&$("#drop_area").length!==0){$(".imagelist a.item-content").Chocolat(chocolat_options);var dropArea=$(".item-send")[0],file=null,file_content="",file_type="",droparea_html="",droparea_onclick=null,progress=$(".item-send .progress"),progressbar=$(".item-send .progress .bar");function handleFiles(files){if(!files.length)return;var li,fileInfo;file=files[0];if(file.size<max_file_size&&/image/i.test(file.type)){droparea_html=$("#drop_area").html();droparea_onclick=$("#drop_area").attr("onclick");$("#drop_area").attr("onclick","");$("#drop_area").html("");$("#drop-image-area .hide_when_unused").attr("style","display: block");if(typeof FileReader!=="undefined"){$("#drop_area").html("<img />");img=$("#drop_area img");reader=new FileReader;reader.onload=function(theImg){return function(evt){theImg.attr("src",evt.target.result);$("#file_input").val(file);file_content=evt.target.result;$(".item-send .descr").focus();file_type=file.type}}(img);reader.readAsDataURL(file)}}}dropArea.ondragenter=function(evt){evt.stopPropagation();evt.preventDefault();return false};dropArea.ondragover=function(evt){evt.stopPropagation();evt.preventDefault();return false};dropArea.ondrop=function(evt){evt.stopPropagation();evt.preventDefault();handleFiles(evt.dataTransfer.files);return false};var img_id;function byteToMiB(bytes,accuracy){var ac=Math.pow(10,accuracy);return Math.round(bytes/1048567*ac)/ac}function uploadImage(){if(file!==null){if(window.XMLHttpRequest){var xhr=new XMLHttpRequest}else{var xhr=new ActiveXObject("Microsoft.XMLHTTP")}progress.attr("style","display: inline");xhr.upload.onprogress=function(e){if(e.lengthComputable){percent=Math.round(e.loaded*100/e.total);progressbar.attr("style","width: "+percent+"%; display: inline");if(percent<90){progressbar.html(byteToMiB(e.loaded,2)+"MiB von "+byteToMiB(e.total,2)+"MiB hochgeladen")}else{progressbar.html("Erzeugung von Vorschaubildern...");progressbar.attr("style","width: 100%; display: inline")}}};xhr.open("post",rating_url2,true);xhr.overrideMimeType("text/plain; charset=x-user-defined-binary");var fd=new FormData;fd.append("uploaded_file",file);fd.append("description",$(".descr").val());fd.append("category",$("input.img_category").val());fd.append("access_key",access_key);fd.append("rotation","");progress.attr("style","display: visible");xhr.send(fd);xhr.onreadystatechange=function(){if(xhr.status===200&&xhr.readyState===4){var json;try{json=JSON.parse(xhr.responseText)}catch(err){console.log(xhr.responseText);console.log(err)}if(json===null)return;if(json["logs"]!==undefined)add_log_object(json["logs"]);if(json["data"]!==undefined&&json["data"]["html"]!==undefined){$(".item-send").after(json["data"]["html"]);$(".item-send .descr").val("");$("#drop_area").html(droparea_html);$("#drop_area").attr("onclick",droparea_onclick);progress.attr("style","display: none");progressbar.attr("style","width: 0%");$("#drop-image-area .hide_when_unused").attr("style","");file=null;file_content="";$(".imagelist a.item-content").Chocolat(chocolat_options)}}}}}}function sendQuote(is_anonymous,response_to,person){var ele_str;if(response_to&&response_to!=-1)ele_str="#responses_to_"+response_to+" .item-quote-send ";else ele_str=".content > .item-quote-send ";var data={person:person==""?$(ele_str+"input[name=person]").val():person,text:$(ele_str+"textarea").val(),response_to:response_to};if(is_anonymous){data["send_anonymous"]=""}else{data["send"]=""}ajax({data:data,func:function(data){if(response_to==-1){$(".content > .item-quote-send").after(data["html"]);$(".content > .item-quote-send textarea").val("");$(".content > .item-quote-send input").val("")}else{$("#responses_to_"+response_to+" .add_response_container").before(data["html"]);$("#responses_to_"+response_to+" .item-quote-send textarea").val("")}},needs:["html"]})}function sendRumor(is_anonymous,response_to){var data={response_to:response_to};data["text"]=response_to==-1?$(".content > .item-rumor-send textarea").val():$("#responses_to_"+response_to+" .item-rumor-send textarea").val();if(is_anonymous){data["send_anonymous"]=""}else{data["send"]=""}ajax({data:data,func:function(data){if(response_to==-1){$(".content > .item-rumor-send").after(data["html"]);$(".content > .item-rumor-send textarea").val("..., dass")}else{$("#responses_to_"+response_to+" .item-rumor-send").before(data["html"]);$("#responses_to_"+response_to+" .item-rumor-send textarea").val("..., dass")}},needs:["html"]})}function responseToItem(id,person){var container=$("#responses_to_"+id+" .add_response_container");if(container){if(window.item_response_template===undefined){window.item_response_template=Handlebars.compile($("#item-response-template").html())}if(container.children(".item-send").length==0){var html="";var ele=$("#"+id);if(person!=""){html=item_response_template({response_to:id,teacher:person,button_answer_title:"Hinzufügen",button_answer_ano_title:"Anonym hinzufügen"})}else{html=item_response_template({response_to:id,button_answer_title:"Hinzufügen",button_answer_ano_title:"Anonym hinzufügen"})}container.html(html)}else{container.html("")}}}function scrollToTop(){}function userCommentNotify(id){var action=$("#"+id).hasClass("notified_as_bad")?"unnotify":"notify";ajax({data:{action:action,id:id},func:function(data){var msg=data["msg"];var id=data["id"];if(msg!="notified"){$("#"+id).addClass("notified_as_bad");$("#"+id+" .notify").attr("title","Positiv bewerten")}else if(msg!="unnotified"){$("#"+id).removeClass("notified_as_bad");$("#"+id+" .notify").attr("title","Negativ bewerten")}},needs:["id","msg"]})}function sendUserComment(is_anonymous){var data={text:$("#textarea").val()};if(is_anonymous){data["send_anonymous"]=""}else{data["send"]=""}ajax({data:data,func:function(data){$(".write_comment textarea").val("");if(data["html"]!=="")$(".write_comment").after(data["html"])}})}function setResultMode(view_results){ajax({type:"POST",url:ajax_url+"/result_mode",data:{value:view_results},success:function(){location.reload()}})}function updateTimespans(){$(".timediff[time]").each(function(){var ele=$(this);ele.html(timespanText(getTime()-Number(ele.attr("time"))))})}function getTime(){var now=new Date;return Math.round(now.getTime()/1e3)-reference_time_diff_seconds}function timespanText(timediff){var text="";var arr=[[1,60,["Sekunde","n","einer"]],[60,3600,["Minute","n","einer"]],[3600,86400,["Stunde","n","einer"]],[86400,2626560,["Tag","en","einem"]],[2626560,31518720,["Monat","en","einem"]],[31518720,1e10,["Jahr","en","einem"]]];for(var i=0;i<arr.length;i++){var steparr=arr[i];if(steparr[1]>timediff){var value=Math.floor(timediff/steparr[0]);text=(value===1?steparr[2][2]:value)+" "+(value===1?steparr[2][0]:steparr[2][0]+steparr[2][1]);break}}return"Vor "+text}window.setInterval("updateTimespans()",5e3);function deleteUserComment(id){ajax({data:{deleteComment:id},func:function(data){$("#"+data["id"]).remove()},needs:["id"]})}function ajax(args){$this=this;if(this.last_time_updated===undefined){this.last_time_updated=(new Date).getTime();this.last_time_updated_loc=getTime()}var func=function(resp){if(resp===null){args["no_return"](null);return}if(resp["logs"]!==undefined)add_log_object(resp["logs"]);if(resp["data"]!==undefined){if(resp["data"]["ext"]!==undefined){$this.last_time_updated=(new Date).getTime();$this.last_time_updated_loc=getTime();if(resp["data"]["ext"].length!==0){update(resp["data"]["ext"])}}var ok=true;for(var i=0;i<args["needs"].length;i++){var need_data=resp["data"][args["needs"][i]];if(need_data===undefined||need_data===null||need_data===""){ok=false;args["func"](false);return}}if(ok)args["func"](resp["data"])}};args=$.extend({type:"POST",dataType:"json",func:function(data){},success:func,error:function(resp,textStatus){console.error(textStatus,resp.responseText);func($.parseJSON(resp.responseText));$this.use_ajax_url=true},no_return:function(){},func:function(){},needs:[]},args);args["data"]=$.extend({url:$(".item-send").length==0?ajax_url:"",access_key:access_key,last_time_updated:this.last_time_updated_loc,ajax:true},args["data"]);if(args["data"]!==undefined&&typeof args["data"]!=="string")args["data"]=$.param(args["data"]);if(args["only_update"]===true){if(window.auto_update_interval!==undefined&&Number(this.last_time_updated)+Number(auto_update_interval)<(new Date).getTime()){$.ajax(args)}}else{$.ajax(args)}}function update(ext_data){if(ext_data["actions"]!==undefined){if($(".action_list_container").size()!==0){$(".action_list_container ul").html(ext_data["actions"]+$(".action_list_container ul").html())}else if($(".action_list_container").size!==0){$(".action_list_container").html(ext_data["actions"]+$(".action_list_container").html())}}if(ext_data["items"]!==undefined){if($(".item-send").size()!==0){$(".item-send").after(ext_data["items"])}else if($(".action_list_container").size()!==0){$(".action_list_container").prepend(ext_data["items"])}}}var weird_counter=23426;Handlebars.registerHelper("debug",function(optionalValue){console.log("Current Context");console.log("====================");console.log(this);if(optionalValue){console.log("Value");console.log("====================");console.log(optionalValue)}});function add_log_object(object){weird_counter++;if(window.log_table_template_hbs===undefined)window.log_table_template_hbs=Handlebars.compile($("#log_table_template").html());$("#log").append(log_table_template_hbs({id:weird_counter,data:object}));var options={valueNames:["dbt_num","dbt_query_text","dbt_time","dbt_caller","dbt_caller_caller"],plugins:[["fuzzySearch"]]};window["database_query_table_"+weird_counter]=new List("database_query_table_"+weird_counter,options);options={valueNames:["lmt_time","lmt_time","lmt_time","lmt_message","lmt_caller_file","lmt_caller_line","lmt_caller_caller","lmt_caller_caller_file","lmt_caller_caller_line","lmt_type"],plugins:[["fuzzySearch"]]};window["log_messages_table_"+weird_counter]=new List("log_messages_table_"+weird_counter,options);options={valueNames:["tl_message","tl_time"],plugins:[["fuzzySearch"]]};window["time_log_"+weird_counter]=new List("time_log_"+weird_counter,options)}var time_precision=3;Handlebars.registerHelper("s_to_ms",function(value){var precision=Math.pow(10,time_precision);return Math.round(value*1e3*precision)/precision});function deletePoll(id,real_del){if(real_del){$("#"+id).replaceWith('<input type="hidden" name="'+$id+'"/><input type="hidden" name="'+$id+'_action" value="delete"/>')}else{$("#"+id).remove()}}function addPoll(type,ele){weird_counter++;if(window.edit_poll_item_template===undefined){window.edit_poll_item_template=Handlebars.compile($("#edit_poll_item_template").html())}$(ele).before(edit_poll_item_template({id:weird_counter,type:type}))}function testPasswordInput(idOfInput,idOfResult,idOfSubmit){var ele=$("#"+idOfInput);var res=testPassword(ele.val(),idOfResult,idOfSubmit);if(res<=10){ele.attr("class","error")}else if(res>10&&res<25){ele.attr("class","warning")}else{ele.attr("class","success")}}setTimeout(function(){$(function(){$("#poll_tabs a:first").tab("show")})},300);var user_list;$("body").ready(function(){$("#user_table").ready(function(){var options={valueNames:["id","first_name","last_name","math_course","math_teacher","user_mode","activated","visible","comments_moderated","unanswered_ucquestions","mail_adress","is_selected"],plugins:[["fuzzySearch"]]};window.user_table_list=new List("user_table",options)});$("#not_reviewed_comments_table").ready(function(){var options={valueNames:["comment_id","comment_text","commented_user","commenting_user","comment_date"],plugins:[["fuzzySearch"]]};window.not_reviewed_comments_table_list=new List("not_reviewed_comments_table",options)});$("#quote_stats_table").ready(function(){var options={valueNames:["qst_gender","qst_name","qst_rating"],plugins:[["fuzzySearch"]]};window.quote_stats_table_list=new List("quote_stats_table",options)});$("#rumor_stats_table").ready(function(){var options={valueNames:["rst_gender","rst_name","rst_rating"],plugins:[["fuzzySearch"]]};window.rumor_stats_table_list=new List("rumor_stats_table",options)})});
